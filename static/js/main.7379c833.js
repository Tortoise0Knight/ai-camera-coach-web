/*! For license information please see main.7379c833.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var o=n(853),r=n(43),i=n(950);function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(s(e)!==e)throw Error(l(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===N?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case T:return"Suspense";case w:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case E:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return R(e(t))}catch(n){}}return null}var x=Array.isArray,M=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},L=[],q=-1;function F(e){return{current:e}}function j(e){0>q||(e.current=L[q],L[q]=null,q--)}function H(e,t){q++,L[q]=e.current,e.current=t}var z=F(null),G=F(null),V=F(null),B=F(null);function J(e,t){switch(H(V,t),H(G,e),H(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=id(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(z),H(z,e)}function W(){j(z),j(G),j(V)}function Y(e){null!==e.memoizedState&&H(B,e);var t=z.current,n=id(t,e.type);t!==n&&(H(G,e),H(z,n))}function K(e){G.current===e&&(j(z),j(G)),B.current===e&&(j(B),Yd._currentValue=U)}var $=Object.prototype.hasOwnProperty,Q=o.unstable_scheduleCallback,X=o.unstable_cancelCallback,Z=o.unstable_shouldYield,ee=o.unstable_requestPaint,te=o.unstable_now,ne=o.unstable_getCurrentPriorityLevel,oe=o.unstable_ImmediatePriority,re=o.unstable_UserBlockingPriority,ie=o.unstable_NormalPriority,le=o.unstable_LowPriority,ae=o.unstable_IdlePriority,se=o.log,ue=o.unstable_setDisableYieldValue,ce=null,de=null;function fe(e){if("function"===typeof se&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(me(e)/he|0)|0},me=Math.log,he=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var o=e.pendingLanes;if(0===o)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&o;return 0!==a?0!==(o=a&~i)?r=ve(o):0!==(l&=a)?r=ve(l):n||0!==(n=a&~e)&&(r=ve(n)):0!==(a=o&~i)?r=ve(a):0!==l?r=ve(l):n||0!==(n=o&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:r}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ce(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Te(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-pe(t);e.entangledLanes|=t,e.entanglements[o]=1073741824|e.entanglements[o]|4194090&n}function Ae(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-pe(n),r=1<<o;r&t|e[o]&t&&(e[o]|=t),n&=~r}}function ke(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Pe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:cf(e.type)}var Ne=Math.random().toString(36).slice(2),Re="__reactFiber$"+Ne,xe="__reactProps$"+Ne,Me="__reactContainer$"+Ne,De="__reactEvents$"+Ne,Ue="__reactListeners$"+Ne,Le="__reactHandles$"+Ne,qe="__reactResources$"+Ne,Fe="__reactMarker$"+Ne;function je(e){delete e[Re],delete e[xe],delete e[De],delete e[Ue],delete e[Le]}function He(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Me]||n[Re]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Re])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Re]||e[Me]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(l(33))}function Ve(e){var t=e[qe];return t||(t=e[qe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Be(e){e[Fe]=!0}var Je=new Set,We={};function Ye(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(We[e]=t,e=0;e<t.length;e++)Je.add(t[e])}var $e,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(r=t,$.call(et,r)||!$.call(Ze,r)&&(Xe.test(r)?et[r]=!0:(Ze[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var o=t.toLowerCase().slice(0,5);if("data-"!==o&&"aria-"!==o)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ot(e,t,n,o){if(null===o)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+o)}}function rt(e){if(void 0===$e)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Qe}var it=!1;function lt(e,t){if(!e||it)return"";it=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var o=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){o=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){o=l}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&o&&"string"===typeof a.stack)return[a.stack,o.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=o.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(r=o=0;o<s.length&&!s[o].includes("DetermineComponentFrameRoot");)o++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(o===s.length||r===u.length)for(o=s.length-1,r=u.length-1;1<=o&&0<=r&&s[o]!==u[r];)r--;for(;1<=o&&0<=r;o--,r--)if(s[o]!==u[r]){if(1!==o||1!==r)do{if(o--,0>--r||s[o]!==u[r]){var c="\n"+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=r);break}}}finally{it=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return rt("Activity");default:return""}}function st(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){o=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(e){o=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=ct(e)?e.checked?"true":"false":e.value),(e=o)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function ht(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,o,r,i,l,a){e.name="",null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?vt(e,l,ut(t)):null!=n?vt(e,l,ut(n)):null!=o&&e.removeAttribute("value"),null==r&&null!=i&&(e.defaultChecked=!!i),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ut(a):e.removeAttribute("name")}function yt(e,t,n,o,r,i,l,a){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}o="function"!==typeof(o=null!=o?o:r)&&"symbol"!==typeof o&&!!o,e.checked=a?e.checked:!!o,e.defaultChecked=!!o,null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.name=l)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,o){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(o&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(l(92));if(x(o)){if(1<o.length)throw Error(l(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o)}function Ct(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Tt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wt(e,t,n){var o=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?o?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":o?e.setProperty(t,n):"number"!==typeof n||0===n||Tt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(l(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var r in t)o=t[r],t.hasOwnProperty(r)&&n[r]!==o&&wt(e,r,o)}else for(var i in t)t.hasOwnProperty(i)&&wt(e,i,t[i])}function Ot(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Nt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,xt=null;function Mt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[xe]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ht(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var r=o[xe]||null;if(!r)throw Error(l(90));gt(o,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&ft(o)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function Ut(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Rt||null!==xt)&&(Hu(),Rt&&(t=Rt,e=xt,xt=Rt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Lt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[xe]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(l(231,t,typeof n));return n}var qt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(qt)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(Mf){Ft=!1}var Ht=null,zt=null,Gt=null;function Vt(){if(Gt)return Gt;var e,t,n=zt,o=n.length,r="value"in Ht?Ht.value:Ht.textContent,i=r.length;for(e=0;e<o&&n[e]===r[e];e++);var l=o-e;for(t=1;t<=l&&n[o-t]===r[i-t];t++);return Gt=r.slice(e,1<t?1-t:void 0)}function Bt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Jt(){return!0}function Wt(){return!1}function Yt(e){function t(t,n,o,r,i){for(var l in this._reactName=t,this._targetInst=o,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(r):r[l]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Jt:Wt,this.isPropagationStopped=Wt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Jt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Jt)},persist:function(){},isPersistent:Jt}),t}var Kt,$t,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Yt(Xt),en=f({},Xt,{view:0,detail:0}),tn=Yt(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Kt=e.screenX-Qt.screenX,$t=e.screenY-Qt.screenY):$t=Kt=0,Qt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),on=Yt(nn),rn=Yt(f({},nn,{dataTransfer:0})),ln=Yt(f({},en,{relatedTarget:0})),an=Yt(f({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=Yt(f({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Yt(f({},Xt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function mn(){return pn}var hn=Yt(f({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Bt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Bt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Bt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Yt(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Yt(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),vn=Yt(f({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Yt(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Yt(f({},Xt,{newState:0,oldState:0})),En=[9,13,27,32],Cn=qt&&"CompositionEvent"in window,Tn=null;qt&&"documentMode"in document&&(Tn=document.documentMode);var wn=qt&&"TextEvent"in window&&!Tn,_n=qt&&(!Cn||Tn&&8<Tn&&11>=Tn),On=String.fromCharCode(32),An=!1;function kn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Nn[e.type]:"textarea"===t}function xn(e,t,n,o){Rt?xt?xt.push(o):xt=[o]:Rt=o,0<(t=Vc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var Mn=null,Dn=null;function Un(e){Uc(e,0)}function Ln(e){if(ft(Ge(e)))return e}function qn(e,t){if("change"===e)return t}var Fn=!1;if(qt){var jn;if(qt){var Hn="oninput"in document;if(!Hn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Hn="function"===typeof zn.oninput}jn=Hn}else jn=!1;Fn=jn&&(!document.documentMode||9<document.documentMode)}function Gn(){Mn&&(Mn.detachEvent("onpropertychange",Vn),Dn=Mn=null)}function Vn(e){if("value"===e.propertyName&&Ln(Dn)){var t=[];xn(t,Dn,e,Nt(e)),Ut(Un,t)}}function Bn(e,t,n){"focusin"===e?(Gn(),Dn=n,(Mn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Gn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ln(Dn)}function Wn(e,t){if("click"===e)return Ln(t)}function Yn(e,t){if("input"===e||"change"===e)return Ln(t)}var Kn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Kn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var r=n[o];if(!$.call(t,r)||!Kn(e[r],t[r]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,o=Qn(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&n>=t)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qn(o)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function eo(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(o){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var no=qt&&"documentMode"in document&&11>=document.documentMode,oo=null,ro=null,io=null,lo=!1;function ao(e,t,n){var o=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lo||null==oo||oo!==pt(o)||("selectionStart"in(o=oo)&&to(o)?o={start:o.selectionStart,end:o.selectionEnd}:o={anchorNode:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset},io&&$n(io,o)||(io=o,0<(o=Vc(ro,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=oo)))}function so(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uo={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionrun:so("Transition","TransitionRun"),transitionstart:so("Transition","TransitionStart"),transitioncancel:so("Transition","TransitionCancel"),transitionend:so("Transition","TransitionEnd")},co={},fo={};function po(e){if(co[e])return co[e];if(!uo[e])return e;var t,n=uo[e];for(t in n)if(n.hasOwnProperty(t)&&t in fo)return co[e]=n[t];return e}qt&&(fo=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);var mo=po("animationend"),ho=po("animationiteration"),go=po("animationstart"),yo=po("transitionrun"),vo=po("transitionstart"),bo=po("transitioncancel"),So=po("transitionend"),Eo=new Map,Co="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(e,t){Eo.set(e,t),Ye(t,[e])}Co.push("scrollEnd");var wo=new WeakMap;function _o(e,t){if("object"===typeof e&&null!==e){var n=wo.get(e);return void 0!==n?n:(t={value:e,source:t,stack:st(t)},wo.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var Oo=[],Ao=0,ko=0;function Io(){for(var e=Ao,t=ko=Ao=0;t<e;){var n=Oo[t];Oo[t++]=null;var o=Oo[t];Oo[t++]=null;var r=Oo[t];Oo[t++]=null;var i=Oo[t];if(Oo[t++]=null,null!==o&&null!==r){var l=o.pending;null===l?r.next=r:(r.next=l.next,l.next=r),o.pending=r}0!==i&&xo(n,r,i)}}function Po(e,t,n,o){Oo[Ao++]=e,Oo[Ao++]=t,Oo[Ao++]=n,Oo[Ao++]=o,ko|=o,e.lanes|=o,null!==(e=e.alternate)&&(e.lanes|=o)}function No(e,t,n,o){return Po(e,t,n,o),Mo(e)}function Ro(e,t){return Po(e,null,null,t),Mo(e)}function xo(e,t,n){e.lanes|=n;var o=e.alternate;null!==o&&(o.lanes|=n);for(var r=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(o=i.alternate)&&(o.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(r=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,r&&null!==t&&(r=31-pe(n),null===(o=(e=i.hiddenUpdates)[r])?e[r]=[t]:o.push(t),t.lane=536870912|n),i):null}function Mo(e){if(50<Ru)throw Ru=0,xu=null,Error(l(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Do={};function Uo(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lo(e,t,n,o){return new Uo(e,t,n,o)}function qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fo(e,t){var n=e.alternate;return null===n?((n=Lo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jo(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ho(e,t,n,o,r,i){var a=0;if(o=e,"function"===typeof e)qo(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Lo(31,n,t,r)).elementType=A,e.lanes=i,e;case g:return zo(n.children,r,i,t);case y:a=8,r|=24;break;case v:return(e=Lo(12,n,t,2|r)).elementType=v,e.lanes=i,e;case T:return(e=Lo(13,n,t,r)).elementType=T,e.lanes=i,e;case w:return(e=Lo(19,n,t,r)).elementType=w,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case E:a=10;break e;case S:a=9;break e;case C:a=11;break e;case _:a=14;break e;case O:a=16,o=null;break e}a=29,n=Error(l(130,null===e?"null":typeof e,"")),o=null}return(t=Lo(a,n,t,r)).elementType=e,t.type=o,t.lanes=i,t}function zo(e,t,n,o){return(e=Lo(7,e,o,t)).lanes=n,e}function Go(e,t,n){return(e=Lo(6,e,null,t)).lanes=n,e}function Vo(e,t,n){return(t=Lo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bo=[],Jo=0,Wo=null,Yo=0,Ko=[],$o=0,Qo=null,Xo=1,Zo="";function er(e,t){Bo[Jo++]=Yo,Bo[Jo++]=Wo,Wo=e,Yo=t}function tr(e,t,n){Ko[$o++]=Xo,Ko[$o++]=Zo,Ko[$o++]=Qo,Qo=e;var o=Xo;e=Zo;var r=32-pe(o)-1;o&=~(1<<r),n+=1;var i=32-pe(t)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,Xo=1<<32-pe(t)+r|n<<r|o,Zo=i+e}else Xo=1<<i|n<<r|o,Zo=e}function nr(e){null!==e.return&&(er(e,1),tr(e,1,0))}function or(e){for(;e===Wo;)Wo=Bo[--Jo],Bo[Jo]=null,Yo=Bo[--Jo],Bo[Jo]=null;for(;e===Qo;)Qo=Ko[--$o],Ko[$o]=null,Zo=Ko[--$o],Ko[$o]=null,Xo=Ko[--$o],Ko[$o]=null}var rr=null,ir=null,lr=!1,ar=null,sr=!1,ur=Error(l(519));function cr(e){throw gr(_o(Error(l(418,"")),e)),ur}function dr(e){var t=e.stateNode,n=e.type,o=e.memoizedProps;switch(t[Re]=e,t[xe]=o,n){case"dialog":Lc("cancel",t),Lc("close",t);break;case"iframe":case"object":case"embed":Lc("load",t);break;case"video":case"audio":for(n=0;n<Mc.length;n++)Lc(Mc[n],t);break;case"source":Lc("error",t);break;case"img":case"image":case"link":Lc("error",t),Lc("load",t);break;case"details":Lc("toggle",t);break;case"input":Lc("invalid",t),yt(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),dt(t);break;case"select":Lc("invalid",t);break;case"textarea":Lc("invalid",t),Et(t,o.value,o.defaultValue,o.children),dt(t)}"string"!==typeof(n=o.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===o.suppressHydrationWarning||$c(t.textContent,n)?(null!=o.popover&&(Lc("beforetoggle",t),Lc("toggle",t)),null!=o.onScroll&&Lc("scroll",t),null!=o.onScrollEnd&&Lc("scrollend",t),null!=o.onClick&&(t.onclick=Qc),t=!0):t=!1,t||cr(e)}function fr(e){for(rr=e.return;rr;)switch(rr.tag){case 5:case 13:return void(sr=!1);case 27:case 3:return void(sr=!0);default:rr=rr.return}}function pr(e){if(e!==rr)return!1;if(!lr)return fr(e),lr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&ir&&cr(e),fr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ir=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ir=null}}else 27===n?(n=ir,pd(e.type)?(e=vd,vd=null,ir=e):ir=n):ir=rr?yd(e.stateNode.nextSibling):null;return!0}function mr(){ir=rr=null,lr=!1}function hr(){var e=ar;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),ar=null),e}function gr(e){null===ar?ar=[e]:ar.push(e)}var yr=F(null),vr=null,br=null;function Sr(e,t,n){H(yr,t._currentValue),t._currentValue=n}function Er(e){e._currentValue=yr.current,j(yr)}function Cr(e,t,n){for(;null!==e;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==o&&(o.childLanes|=t)):null!==o&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function Tr(e,t,n,o){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var i=r.dependencies;if(null!==i){var a=r.child;i=i.firstContext;e:for(;null!==i;){var s=i;i=r;for(var u=0;u<t.length;u++)if(s.context===t[u]){i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),Cr(i.return,n,e),o||(a=null);break e}i=s.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(l(341));a.lanes|=n,null!==(i=a.alternate)&&(i.lanes|=n),Cr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function wr(e,t,n,o){e=null;for(var r=t,i=!1;null!==r;){if(!i)if(0!==(524288&r.flags))i=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(l(387));if(null!==(a=a.memoizedProps)){var s=r.type;Kn(r.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(r===B.current){if(null===(a=r.alternate))throw Error(l(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}r=r.return}null!==e&&Tr(t,e,n,o),t.flags|=262144}function _r(e){for(e=e.firstContext;null!==e;){if(!Kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){vr=e,br=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ar(e){return Ir(vr,e)}function kr(e,t){return null===vr&&Or(e),Ir(e,t)}function Ir(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===br){if(null===e)throw Error(l(308));br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else br=br.next=t;return n}var Pr="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Nr=o.unstable_scheduleCallback,Rr=o.unstable_NormalPriority,xr={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Pr,data:new Map,refCount:0}}function Dr(e){e.refCount--,0===e.refCount&&Nr(Rr,function(){e.controller.abort()})}var Ur=null,Lr=0,qr=0,Fr=null;function jr(){if(0===--Lr&&null!==Ur){null!==Fr&&(Fr.status="fulfilled");var e=Ur;Ur=null,qr=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Hr=M.S;M.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ur){var n=Ur=[];Lr=0,qr=Ic(),Fr={status:"pending",value:void 0,then:function(e){n.push(e)}}}Lr++,t.then(jr,jr)}(0,t),null!==Hr&&Hr(e,t)};var zr=F(null);function Gr(){var e=zr.current;return null!==e?e:ou.pooledCache}function Vr(e,t){H(zr,null===t?zr.current:t.pool)}function Br(){var e=Gr();return null===e?null:{parent:xr._currentValue,pool:e}}var Jr=Error(l(460)),Wr=Error(l(474)),Yr=Error(l(542)),Kr={then:function(){}};function $r(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qr(){}function Xr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qr,Qr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qr,Qr);else{if(null!==(e=ou)&&100<e.shellSuspendCounter)throw Error(l(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Zr=t,Jr}}var Zr=null;function ei(){if(null===Zr)throw Error(l(459));var e=Zr;return Zr=null,e}function ti(e){if(e===Jr||e===Yr)throw Error(l(483))}var ni=!1;function oi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function li(e,t,n){var o=e.updateQueue;if(null===o)return null;if(o=o.shared,0!==(2&nu)){var r=o.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),o.pending=t,t=Mo(e),xo(e,null,n),t}return Po(e,o,t,n),Mo(e)}function ai(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Ae(e,n)}}function si(e,t){var n=e.updateQueue,o=e.alternate;if(null!==o&&n===(o=o.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?r=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,callbacks:o.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ui=!1;function ci(){if(ui){if(null!==Fr)throw Fr}}function di(e,t,n,o){ui=!1;var r=e.updateQueue;ni=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=s))}if(null!==i){var d=r.baseState;for(l=0,c=u=s=null,a=i;;){var p=-536870913&a.lane,m=p!==a.lane;if(m?(iu&p)===p:(o&p)===p){0!==p&&p===qr&&(ui=!0),null!==c&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var h=e,g=a;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(y,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=g.payload)?h.call(y,d,p):h)||void 0===p)break e;d=f({},d,p);break e;case 2:ni=!0}}null!==(p=a.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[p]:m.push(p))}else m={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=m,s=d):c=c.next=m,l|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(m=a).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===c&&(s=d),r.baseState=s,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null===i&&(r.shared.lanes=0),pu|=l,e.lanes=l,e.memoizedState=d}}function fi(e,t){if("function"!==typeof e)throw Error(l(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fi(n[e],t)}var mi=F(null),hi=F(0);function gi(e,t){H(hi,e=du),H(mi,t),du=e|t.baseLanes}function yi(){H(hi,du),H(mi,mi.current)}function vi(){du=hi.current,j(mi),j(hi)}var bi=0,Si=null,Ei=null,Ci=null,Ti=!1,wi=!1,_i=!1,Oi=0,Ai=0,ki=null,Ii=0;function Pi(){throw Error(l(321))}function Ni(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kn(e[n],t[n]))return!1;return!0}function Ri(e,t,n,o,r,i){return bi=i,Si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?Jl:Wl,_i=!1,i=n(o,r),_i=!1,wi&&(i=Mi(t,n,o,r)),xi(e),i}function xi(e){M.H=Bl;var t=null!==Ei&&null!==Ei.next;if(bi=0,Ci=Ei=Si=null,Ti=!1,Ai=0,ki=null,t)throw Error(l(300));null===e||Aa||null!==(e=e.dependencies)&&_r(e)&&(Aa=!0)}function Mi(e,t,n,o){Si=e;var r=0;do{if(wi&&(ki=null),Ai=0,wi=!1,25<=r)throw Error(l(301));if(r+=1,Ci=Ei=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}M.H=Yl,i=t(n,o)}while(wi);return i}function Di(){var e=M.H,t=e.useState()[0];return t="function"===typeof t.then?Hi(t):t,e=e.useState()[0],(null!==Ei?Ei.memoizedState:null)!==e&&(Si.flags|=1024),t}function Ui(){var e=0!==Oi;return Oi=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qi(e){if(Ti){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ti=!1}bi=0,Ci=Ei=Si=null,wi=!1,Ai=Oi=0,ki=null}function Fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ci?Si.memoizedState=Ci=e:Ci=Ci.next=e,Ci}function ji(){if(null===Ei){var e=Si.alternate;e=null!==e?e.memoizedState:null}else e=Ei.next;var t=null===Ci?Si.memoizedState:Ci.next;if(null!==t)Ci=t,Ei=e;else{if(null===e){if(null===Si.alternate)throw Error(l(467));throw Error(l(310))}e={memoizedState:(Ei=e).memoizedState,baseState:Ei.baseState,baseQueue:Ei.baseQueue,queue:Ei.queue,next:null},null===Ci?Si.memoizedState=Ci=e:Ci=Ci.next=e}return Ci}function Hi(e){var t=Ai;return Ai+=1,null===ki&&(ki=[]),e=Xr(ki,e,t),t=Si,null===(null===Ci?t.memoizedState:Ci.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?Jl:Wl),e}function zi(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Hi(e);if(e.$$typeof===E)return Ar(e)}throw Error(l(438,String(e)))}function Gi(e){var t=null,n=Si.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var o=Si.alternate;null!==o&&(null!==(o=o.updateQueue)&&(null!=(o=o.memoCache)&&(t={data:o.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Si.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),o=0;o<e;o++)n[o]=k;return t.index++,n}function Vi(e,t){return"function"===typeof t?t(e):t}function Bi(e){return Ji(ji(),Ei,e)}function Ji(e,t,n){var o=e.queue;if(null===o)throw Error(l(311));o.lastRenderedReducer=n;var r=e.baseQueue,i=o.pending;if(null!==i){if(null!==r){var a=r.next;r.next=i.next,i.next=a}t.baseQueue=r=i,o.pending=null}if(i=e.baseState,null===r)e.memoizedState=i;else{var s=a=null,u=null,c=t=r.next,d=!1;do{var f=-536870913&c.lane;if(f!==c.lane?(iu&f)===f:(bi&f)===f){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===qr&&(d=!0);else{if((bi&p)===p){c=c.next,p===qr&&(d=!0);continue}f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=i):u=u.next=f,Si.lanes|=p,pu|=p}f=c.action,_i&&n(i,f),i=c.hasEagerState?c.eagerState:n(i,f)}else p={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=i):u=u.next=p,Si.lanes|=f,pu|=f;c=c.next}while(null!==c&&c!==t);if(null===u?a=i:u.next=s,!Kn(i,e.memoizedState)&&(Aa=!0,d&&null!==(n=Fr)))throw n;e.memoizedState=i,e.baseState=a,e.baseQueue=u,o.lastRenderedState=i}return null===r&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Wi(e){var t=ji(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var o=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{i=e(i,a.action),a=a.next}while(a!==r);Kn(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,o]}function Yi(e,t,n){var o=Si,r=ji(),i=lr;if(i){if(void 0===n)throw Error(l(407));n=n()}else n=t();var a=!Kn((Ei||r).memoizedState,n);if(a&&(r.memoizedState=n,Aa=!0),r=r.queue,yl(2048,8,Qi.bind(null,o,r,e),[e]),r.getSnapshot!==t||a||null!==Ci&&1&Ci.memoizedState.tag){if(o.flags|=2048,ml(9,{destroy:void 0,resource:void 0},$i.bind(null,o,r,n,t),null),null===ou)throw Error(l(349));i||0!==(124&bi)||Ki(o,t,n)}return n}function Ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Si.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function $i(e,t,n,o){t.value=n,t.getSnapshot=o,Xi(t)&&Zi(e)}function Qi(e,t,n){return n(function(){Xi(t)&&Zi(e)})}function Xi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kn(e,n)}catch(o){return!0}}function Zi(e){var t=Ro(e,2);null!==t&&Uu(t,e,2)}function el(e){var t=Fi();if("function"===typeof e){var n=e;if(e=n(),_i){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},t}function tl(e,t,n,o){return e.baseState=n,Ji(e,Ei,"function"===typeof o?o:Vi)}function nl(e,t,n,o,r){if(zl(e))throw Error(l(485));if(null!==(e=t.action)){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==M.T?n(!0):i.isTransition=!1,o(i),null===(n=t.pending)?(i.next=t.pending=i,ol(t,i)):(i.next=n.next,t.pending=n.next=i)}}function ol(e,t){var n=t.action,o=t.payload,r=e.state;if(t.isTransition){var i=M.T,l={};M.T=l;try{var a=n(r,o),s=M.S;null!==s&&s(l,a),rl(e,t,a)}catch(u){ll(e,t,u)}finally{M.T=i}}else try{rl(e,t,i=n(r,o))}catch(c){ll(e,t,c)}}function rl(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){il(e,t,n)},function(n){return ll(e,t,n)}):il(e,t,n)}function il(e,t,n){t.status="fulfilled",t.value=n,al(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ol(e,n)))}function ll(e,t,n){var o=e.pending;if(e.pending=null,null!==o){o=o.next;do{t.status="rejected",t.reason=n,al(t),t=t.next}while(t!==o)}e.action=null}function al(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sl(e,t){return t}function ul(e,t){if(lr){var n=ou.formState;if(null!==n){e:{var o=Si;if(lr){if(ir){t:{for(var r=ir,i=sr;8!==r.nodeType;){if(!i){r=null;break t}if(null===(r=yd(r.nextSibling))){r=null;break t}}r="F!"===(i=r.data)||"F"===i?r:null}if(r){ir=yd(r.nextSibling),o="F!"===r.data;break e}}cr(o)}o=!1}o&&(t=n[0])}}return(n=Fi()).memoizedState=n.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},n.queue=o,n=Fl.bind(null,Si,o),o.dispatch=n,o=el(!1),i=Hl.bind(null,Si,!1,o.queue),r={state:t,dispatch:null,action:e,pending:null},(o=Fi()).queue=r,n=nl.bind(null,Si,r,i,n),r.dispatch=n,o.memoizedState=e,[t,n,!1]}function cl(e){return dl(ji(),Ei,e)}function dl(e,t,n){if(t=Ji(e,t,sl)[0],e=Bi(Vi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var o=Hi(t)}catch(l){if(l===Jr)throw Yr;throw l}else o=t;var r=(t=ji()).queue,i=r.dispatch;return n!==t.memoizedState&&(Si.flags|=2048,ml(9,{destroy:void 0,resource:void 0},fl.bind(null,r,n),null)),[o,i,e]}function fl(e,t){e.action=t}function pl(e){var t=ji(),n=Ei;if(null!==n)return dl(t,n,e);ji(),t=t.memoizedState;var o=(n=ji()).queue.dispatch;return n.memoizedState=e,[t,o,!1]}function ml(e,t,n,o){return e={tag:e,create:n,deps:o,inst:t,next:null},null===(t=Si.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Si.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e),e}function hl(){return ji().memoizedState}function gl(e,t,n,o){var r=Fi();o=void 0===o?null:o,Si.flags|=e,r.memoizedState=ml(1|t,{destroy:void 0,resource:void 0},n,o)}function yl(e,t,n,o){var r=ji();o=void 0===o?null:o;var i=r.memoizedState.inst;null!==Ei&&null!==o&&Ni(o,Ei.memoizedState.deps)?r.memoizedState=ml(t,i,n,o):(Si.flags|=e,r.memoizedState=ml(1|t,i,n,o))}function vl(e,t){gl(8390656,8,e,t)}function bl(e,t){yl(2048,8,e,t)}function Sl(e,t){return yl(4,2,e,t)}function El(e,t){return yl(4,4,e,t)}function Cl(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Tl(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yl(4,4,Cl.bind(null,t,e),n)}function wl(){}function _l(e,t){var n=ji();t=void 0===t?null:t;var o=n.memoizedState;return null!==t&&Ni(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Ol(e,t){var n=ji();t=void 0===t?null:t;var o=n.memoizedState;if(null!==t&&Ni(t,o[1]))return o[0];if(o=e(),_i){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[o,t],o}function Al(e,t,n){return void 0===n||0!==(1073741824&bi)?e.memoizedState=t:(e.memoizedState=n,e=Du(),Si.lanes|=e,pu|=e,n)}function kl(e,t,n,o){return Kn(n,t)?n:null!==mi.current?(e=Al(e,n,o),Kn(e,t)||(Aa=!0),e):0===(42&bi)?(Aa=!0,e.memoizedState=n):(e=Du(),Si.lanes|=e,pu|=e,t)}function Il(e,t,n,o,r){var i=D.p;D.p=0!==i&&8>i?i:8;var l=M.T,a={};M.T=a,Hl(e,!1,t,n);try{var s=r(),u=M.S;if(null!==u&&u(a,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)jl(e,t,function(e,t){var n=[],o={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(o.status="rejected",o.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),o}(s,o),Mu());else jl(e,t,o,Mu())}catch(c){jl(e,t,{then:function(){},status:"rejected",reason:c},Mu())}finally{D.p=i,M.T=l}}function Pl(){}function Nl(e,t,n,o){if(5!==e.tag)throw Error(l(476));var r=Rl(e).queue;Il(e,r,t,U,null===n?Pl:function(){return xl(e),n(o)})}function Rl(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function xl(e){jl(e,Rl(e).next.queue,{},Mu())}function Ml(){return Ar(Yd)}function Dl(){return ji().memoizedState}function Ul(){return ji().memoizedState}function Ll(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Mu(),o=li(t,e=ii(n),n);return null!==o&&(Uu(o,t,n),ai(o,t,n)),t={cache:Mr()},void(e.payload=t)}t=t.return}}function ql(e,t,n){var o=Mu();n={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zl(e)?Gl(t,n):null!==(n=No(e,t,n,o))&&(Uu(n,e,o),Vl(n,t,o))}function Fl(e,t,n){jl(e,t,n,Mu())}function jl(e,t,n,o){var r={lane:o,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zl(e))Gl(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(r.hasEagerState=!0,r.eagerState=a,Kn(a,l))return Po(e,t,r,0),null===ou&&Io(),!1}catch(s){}if(null!==(n=No(e,t,r,o)))return Uu(n,e,o),Vl(n,t,o),!0}return!1}function Hl(e,t,n,o){if(o={lane:2,revertLane:Ic(),action:o,hasEagerState:!1,eagerState:null,next:null},zl(e)){if(t)throw Error(l(479))}else null!==(t=No(e,n,o,2))&&Uu(t,e,2)}function zl(e){var t=e.alternate;return e===Si||null!==t&&t===Si}function Gl(e,t){wi=Ti=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vl(e,t,n){if(0!==(4194048&n)){var o=t.lanes;n|=o&=e.pendingLanes,t.lanes=n,Ae(e,n)}}var Bl={readContext:Ar,use:zi,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useInsertionEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useSyncExternalStore:Pi,useId:Pi,useHostTransitionStatus:Pi,useFormState:Pi,useActionState:Pi,useOptimistic:Pi,useMemoCache:Pi,useCacheRefresh:Pi},Jl={readContext:Ar,use:zi,useCallback:function(e,t){return Fi().memoizedState=[e,void 0===t?null:t],e},useContext:Ar,useEffect:vl,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gl(4194308,4,Cl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gl(4194308,4,e,t)},useInsertionEffect:function(e,t){gl(4,2,e,t)},useMemo:function(e,t){var n=Fi();t=void 0===t?null:t;var o=e();if(_i){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[o,t],o},useReducer:function(e,t,n){var o=Fi();if(void 0!==n){var r=n(t);if(_i){fe(!0);try{n(t)}finally{fe(!1)}}}else r=t;return o.memoizedState=o.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},o.queue=e,e=e.dispatch=ql.bind(null,Si,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Fi().memoizedState=e},useState:function(e){var t=(e=el(e)).queue,n=Fl.bind(null,Si,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wl,useDeferredValue:function(e,t){return Al(Fi(),e,t)},useTransition:function(){var e=el(!1);return e=Il.bind(null,Si,e.queue,!0,!1),Fi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Si,r=Fi();if(lr){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===ou)throw Error(l(349));0!==(124&iu)||Ki(o,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,vl(Qi.bind(null,o,i,e),[e]),o.flags|=2048,ml(9,{destroy:void 0,resource:void 0},$i.bind(null,o,i,n,t),null),n},useId:function(){var e=Fi(),t=ou.identifierPrefix;if(lr){var n=Zo;t="\xab"+t+"R"+(n=(Xo&~(1<<32-pe(Xo)-1)).toString(32)+n),0<(n=Oi++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ii++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Ml,useFormState:ul,useActionState:ul,useOptimistic:function(e){var t=Fi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hl.bind(null,Si,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gi,useCacheRefresh:function(){return Fi().memoizedState=Ll.bind(null,Si)}},Wl={readContext:Ar,use:zi,useCallback:_l,useContext:Ar,useEffect:bl,useImperativeHandle:Tl,useInsertionEffect:Sl,useLayoutEffect:El,useMemo:Ol,useReducer:Bi,useRef:hl,useState:function(){return Bi(Vi)},useDebugValue:wl,useDeferredValue:function(e,t){return kl(ji(),Ei.memoizedState,e,t)},useTransition:function(){var e=Bi(Vi)[0],t=ji().memoizedState;return["boolean"===typeof e?e:Hi(e),t]},useSyncExternalStore:Yi,useId:Dl,useHostTransitionStatus:Ml,useFormState:cl,useActionState:cl,useOptimistic:function(e,t){return tl(ji(),0,e,t)},useMemoCache:Gi,useCacheRefresh:Ul},Yl={readContext:Ar,use:zi,useCallback:_l,useContext:Ar,useEffect:bl,useImperativeHandle:Tl,useInsertionEffect:Sl,useLayoutEffect:El,useMemo:Ol,useReducer:Wi,useRef:hl,useState:function(){return Wi(Vi)},useDebugValue:wl,useDeferredValue:function(e,t){var n=ji();return null===Ei?Al(n,e,t):kl(n,Ei.memoizedState,e,t)},useTransition:function(){var e=Wi(Vi)[0],t=ji().memoizedState;return["boolean"===typeof e?e:Hi(e),t]},useSyncExternalStore:Yi,useId:Dl,useHostTransitionStatus:Ml,useFormState:pl,useActionState:pl,useOptimistic:function(e,t){var n=ji();return null!==Ei?tl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gi,useCacheRefresh:Ul},Kl=null,$l=0;function Ql(e){var t=$l;return $l+=1,null===Kl&&(Kl=[]),Xr(Kl,e,t)}function Xl(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zl(e,t){if(t.$$typeof===p)throw Error(l(525));throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var o=t.deletions;null===o?(t.deletions=[n],t.flags|=16):o.push(n)}}function n(n,o){if(!e)return null;for(;null!==o;)t(n,o),o=o.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=Fo(e,t)).index=0,e.sibling=null,e}function i(t,n,o){return t.index=o,e?null!==(o=t.alternate)?(o=o.index)<n?(t.flags|=67108866,n):o:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,o){return null===t||6!==t.tag?((t=Go(n,e.mode,o)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,o){var i=n.type;return i===g?d(e,t,n.props.children,o,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&ea(i)===t.type)?(Xl(t=r(t,n.props),n),t.return=e,t):(Xl(t=Ho(n.type,n.key,n.props,null,e.mode,o),n),t.return=e,t)}function c(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vo(n,e.mode,o)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,o,i){return null===t||7!==t.tag?((t=zo(n,e.mode,o,i)).return=e,t):((t=r(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Go(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return Xl(n=Ho(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Vo(t,e.mode,n)).return=e,t;case O:return f(e,t=(0,t._init)(t._payload),n)}if(x(t)||P(t))return(t=zo(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Ql(t),n);if(t.$$typeof===E)return f(e,kr(e,t),n);Zl(e,t)}return null}function p(e,t,n,o){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:s(e,t,""+n,o);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?u(e,t,n,o):null;case h:return n.key===r?c(e,t,n,o):null;case O:return p(e,t,n=(r=n._init)(n._payload),o)}if(x(n)||P(n))return null!==r?null:d(e,t,n,o,null);if("function"===typeof n.then)return p(e,t,Ql(n),o);if(n.$$typeof===E)return p(e,t,kr(e,n),o);Zl(e,n)}return null}function y(e,t,n,o,r){if("string"===typeof o&&""!==o||"number"===typeof o||"bigint"===typeof o)return s(t,e=e.get(n)||null,""+o,r);if("object"===typeof o&&null!==o){switch(o.$$typeof){case m:return u(t,e=e.get(null===o.key?n:o.key)||null,o,r);case h:return c(t,e=e.get(null===o.key?n:o.key)||null,o,r);case O:return y(e,t,n,o=(0,o._init)(o._payload),r)}if(x(o)||P(o))return d(t,e=e.get(n)||null,o,r,null);if("function"===typeof o.then)return y(e,t,n,Ql(o),r);if(o.$$typeof===E)return y(e,t,n,kr(t,o),r);Zl(t,o)}return null}function v(s,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case m:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(s,u.sibling),(d=r(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===O&&ea(b)===u.type){n(s,u.sibling),Xl(d=r(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===g?((d=zo(c.props.children,s.mode,d,c.key)).return=s,s=d):(Xl(d=Ho(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case h:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=r(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=Vo(c,s.mode,d)).return=s,s=d}return a(s);case O:return v(s,u,c=(b=c._init)(c._payload),d)}if(x(c))return function(r,l,a,s){for(var u=null,c=null,d=l,m=l=0,h=null;null!==d&&m<a.length;m++){d.index>m?(h=d,d=null):h=d.sibling;var g=p(r,d,a[m],s);if(null===g){null===d&&(d=h);break}e&&d&&null===g.alternate&&t(r,d),l=i(g,l,m),null===c?u=g:c.sibling=g,c=g,d=h}if(m===a.length)return n(r,d),lr&&er(r,m),u;if(null===d){for(;m<a.length;m++)null!==(d=f(r,a[m],s))&&(l=i(d,l,m),null===c?u=d:c.sibling=d,c=d);return lr&&er(r,m),u}for(d=o(d);m<a.length;m++)null!==(h=y(d,r,m,a[m],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?m:h.key),l=i(h,l,m),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach(function(e){return t(r,e)}),lr&&er(r,m),u}(s,u,c,d);if(P(c)){if("function"!==typeof(b=P(c)))throw Error(l(150));return function(r,a,s,u){if(null==s)throw Error(l(151));for(var c=null,d=null,m=a,h=a=0,g=null,v=s.next();null!==m&&!v.done;h++,v=s.next()){m.index>h?(g=m,m=null):g=m.sibling;var b=p(r,m,v.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(r,m),a=i(b,a,h),null===d?c=b:d.sibling=b,d=b,m=g}if(v.done)return n(r,m),lr&&er(r,h),c;if(null===m){for(;!v.done;h++,v=s.next())null!==(v=f(r,v.value,u))&&(a=i(v,a,h),null===d?c=v:d.sibling=v,d=v);return lr&&er(r,h),c}for(m=o(m);!v.done;h++,v=s.next())null!==(v=y(m,r,h,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?h:v.key),a=i(v,a,h),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(r,e)}),lr&&er(r,h),c}(s,u,c=b.call(c),d)}if("function"===typeof c.then)return v(s,u,Ql(c),d);if(c.$$typeof===E)return v(s,u,kr(s,c),d);Zl(s,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=r(u,c)).return=s,s=d):(n(s,u),(d=Go(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,o){try{$l=0;var r=v(e,t,n,o);return Kl=null,r}catch(l){if(l===Jr||l===Yr)throw l;var i=Lo(29,l,null,e.mode);return i.lanes=o,i.return=e,i}}}var na=ta(!0),oa=ta(!1),ra=F(null),ia=null;function la(e){var t=e.alternate;H(ca,1&ca.current),H(ra,e),null===ia&&(null===t||null!==mi.current||null!==t.memoizedState)&&(ia=e)}function aa(e){if(22===e.tag){if(H(ca,ca.current),H(ra,e),null===ia){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ia=e)}}else sa()}function sa(){H(ca,ca.current),H(ra,ra.current)}function ua(e){j(ra),ia===e&&(ia=null),j(ca)}var ca=F(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fa(e,t,n,o){n=null===(n=n(o,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Mu(),r=ii(o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=li(e,r,o))&&(Uu(t,e,o),ai(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Mu(),r=ii(o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=li(e,r,o))&&(Uu(t,e,o),ai(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Mu(),o=ii(n);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=li(e,o,n))&&(Uu(t,e,n),ai(t,e,n))}};function ma(e,t,n,o,r,i,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,o)||!$n(r,i))}function ha(e,t,n,o){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var o in n={},t)"ref"!==o&&(n[o]=t[o]);if(e=e.defaultProps)for(var r in n===t&&(n=f({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function ba(e){console.error(e)}function Sa(e){ya(e)}function Ea(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ca(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ta(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){Ea(e,t)},n}function wa(e){return(e=ii(e)).tag=3,e}function _a(e,t,n,o){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var i=o.value;e.payload=function(){return r(i)},e.callback=function(){Ca(t,n,o)}}var l=n.stateNode;null!==l&&"function"===typeof l.componentDidCatch&&(e.callback=function(){Ca(t,n,o),"function"!==typeof r&&(null===wu?wu=new Set([this]):wu.add(this));var e=o.stack;this.componentDidCatch(o.value,{componentStack:null!==e?e:""})})}var Oa=Error(l(461)),Aa=!1;function ka(e,t,n,o){t.child=null===e?oa(t,null,n,o):na(t,e.child,n,o)}function Ia(e,t,n,o,r){n=n.render;var i=t.ref;if("ref"in o){var l={};for(var a in o)"ref"!==a&&(l[a]=o[a])}else l=o;return Or(t),o=Ri(e,t,n,l,i,r),a=Ui(),null===e||Aa?(lr&&a&&nr(t),t.flags|=1,ka(e,t,o,r),t.child):(Li(e,t,r),Ka(e,t,r))}function Pa(e,t,n,o,r){if(null===e){var i=n.type;return"function"!==typeof i||qo(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ho(n.type,null,o,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Na(e,t,i,o,r))}if(i=e.child,!$a(e,r)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(l,o)&&e.ref===t.ref)return Ka(e,t,r)}return t.flags|=1,(e=Fo(i,o)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,o,r){if(null!==e){var i=e.memoizedProps;if($n(i,o)&&e.ref===t.ref){if(Aa=!1,t.pendingProps=o=i,!$a(e,r))return t.lanes=e.lanes,Ka(e,t,r);0!==(131072&e.flags)&&(Aa=!0)}}return Da(e,t,n,o,r)}function Ra(e,t,n){var o=t.pendingProps,r=o.children,i=null!==e?e.memoizedState:null;if("hidden"===o.mode){if(0!==(128&t.flags)){if(o=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;t.childLanes=i&~o}else t.childLanes=0,t.child=null;return xa(e,t,o,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,xa(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Vr(0,null!==i?i.cachePool:null),null!==i?gi(t,i):yi(),aa(t)}else null!==i?(Vr(0,i.cachePool),gi(t,i),sa(),t.memoizedState=null):(null!==e&&Vr(0,null),yi(),sa());return ka(e,t,r,n),t.child}function xa(e,t,n,o){var r=Gr();return r=null===r?null:{parent:xr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&Vr(0,null),yi(),aa(t),null!==e&&wr(e,t,o,!0),null}function Ma(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(l(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Da(e,t,n,o,r){return Or(t),n=Ri(e,t,n,o,void 0,r),o=Ui(),null===e||Aa?(lr&&o&&nr(t),t.flags|=1,ka(e,t,n,r),t.child):(Li(e,t,r),Ka(e,t,r))}function Ua(e,t,n,o,r,i){return Or(t),t.updateQueue=null,n=Mi(t,o,n,r),xi(e),o=Ui(),null===e||Aa?(lr&&o&&nr(t),t.flags|=1,ka(e,t,n,i),t.child):(Li(e,t,i),Ka(e,t,i))}function La(e,t,n,o,r){if(Or(t),null===t.stateNode){var i=Do,l=n.contextType;"object"===typeof l&&null!==l&&(i=Ar(l)),i=new n(o,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=pa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=o,i.state=t.memoizedState,i.refs={},oi(t),l=n.contextType,i.context="object"===typeof l&&null!==l?Ar(l):Do,i.state=t.memoizedState,"function"===typeof(l=n.getDerivedStateFromProps)&&(fa(t,n,l,o),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(l=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&pa.enqueueReplaceState(i,i.state,null),di(t,o,i,r),ci(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=ga(n,a);i.props=s;var u=i.context,c=n.contextType;l=Do,"object"===typeof c&&null!==c&&(l=Ar(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a||u!==l)&&ha(t,i,o,l),ni=!1;var f=t.memoizedState;i.state=f,di(t,o,i,r),ci(),u=t.memoizedState,a||f!==u||ni?("function"===typeof d&&(fa(t,n,d,o),u=t.memoizedState),(s=ni||ma(t,n,s,o,f,u,l))?(c||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=u),i.props=o,i.state=u,i.context=l,o=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),o=!1)}else{i=t.stateNode,ri(e,t),c=ga(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,f=i.context,u=n.contextType,s=Do,"object"===typeof u&&null!==u&&(s=Ar(u)),(u="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||f!==s)&&ha(t,i,o,s),ni=!1,f=t.memoizedState,i.state=f,di(t,o,i,r),ci();var p=t.memoizedState;l!==d||f!==p||ni||null!==e&&null!==e.dependencies&&_r(e.dependencies)?("function"===typeof a&&(fa(t,n,a,o),p=t.memoizedState),(c=ni||ma(t,n,c,o,f,p,s)||null!==e&&null!==e.dependencies&&_r(e.dependencies))?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(o,p,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(o,p,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=p),i.props=o,i.state=p,i.context=s,o=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),o=!1)}return i=o,Ma(e,t),o=0!==(128&t.flags),i||o?(i=t.stateNode,n=o&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&o?(t.child=na(t,e.child,null,r),t.child=na(t,null,n,r)):ka(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Ka(e,t,r),e}function qa(e,t,n,o){return mr(),t.flags|=256,ka(e,t,n,o),t.child}var Fa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ja(e){return{baseLanes:e,cachePool:Br()}}function Ha(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function za(e,t,n){var o,r=t.pendingProps,i=!1,a=0!==(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&0!==(2&ca.current)),o&&(i=!0,t.flags&=-129),o=0!==(32&t.flags),t.flags&=-33,null===e){if(lr){if(i?la(t):sa(),lr){var s,u=ir;if(s=u){e:{for(s=u,u=sr;8!==s.nodeType;){if(!u){u=null;break e}if(null===(s=yd(s.nextSibling))){u=null;break e}}u=s}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Qo?{id:Xo,overflow:Zo}:null,retryLane:536870912,hydrationErrors:null},(s=Lo(18,null,null,0)).stateNode=u,s.return=t,t.child=s,rr=t,ir=null,s=!0):s=!1}s||cr(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gd(u)?t.lanes=32:t.lanes=536870912,null;ua(t)}return u=r.children,r=r.fallback,i?(sa(),u=Va({mode:"hidden",children:u},i=t.mode),r=zo(r,i,n,null),u.return=t,r.return=t,u.sibling=r,t.child=u,(i=t.child).memoizedState=ja(n),i.childLanes=Ha(e,o,n),t.memoizedState=Fa,r):(la(t),Ga(t,u))}if(null!==(s=e.memoizedState)&&null!==(u=s.dehydrated)){if(a)256&t.flags?(la(t),t.flags&=-257,t=Ba(e,t,n)):null!==t.memoizedState?(sa(),t.child=e.child,t.flags|=128,t=null):(sa(),i=r.fallback,u=t.mode,r=Va({mode:"visible",children:r.children},u),(i=zo(i,u,n,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,na(t,e.child,null,n),(r=t.child).memoizedState=ja(n),r.childLanes=Ha(e,o,n),t.memoizedState=Fa,t=i);else if(la(t),gd(u)){if(o=u.nextSibling&&u.nextSibling.dataset)var c=o.dgst;o=c,(r=Error(l(419))).stack="",r.digest=o,gr({value:r,source:null,stack:null}),t=Ba(e,t,n)}else if(Aa||wr(e,t,n,!1),o=0!==(n&e.childLanes),Aa||o){if(null!==(o=ou)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:ke(r))&(o.suspendedLanes|n))?0:r)&&r!==s.retryLane))throw s.retryLane=r,Ro(e,r),Uu(o,e,r),Oa;"$?"===u.data||Wu(),t=Ba(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,ir=yd(u.nextSibling),rr=t,lr=!0,ar=null,sr=!1,null!==e&&(Ko[$o++]=Xo,Ko[$o++]=Zo,Ko[$o++]=Qo,Xo=e.id,Zo=e.overflow,Qo=t),(t=Ga(t,r.children)).flags|=4096);return t}return i?(sa(),i=r.fallback,u=t.mode,c=(s=e.child).sibling,(r=Fo(s,{mode:"hidden",children:r.children})).subtreeFlags=65011712&s.subtreeFlags,null!==c?i=Fo(c,i):(i=zo(i,u,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,null===(u=e.child.memoizedState)?u=ja(n):(null!==(s=u.cachePool)?(c=xr._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Br(),u={baseLanes:u.baseLanes|n,cachePool:s}),i.memoizedState=u,i.childLanes=Ha(e,o,n),t.memoizedState=Fa,r):(la(t),e=(n=e.child).sibling,(n=Fo(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Ga(e,t){return(t=Va({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Va(e,t){return(e=Lo(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ba(e,t,n){return na(t,e.child,null,n),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ja(e,t,n){e.lanes|=t;var o=e.alternate;null!==o&&(o.lanes|=t),Cr(e.return,t,n)}function Wa(e,t,n,o,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=n,i.tailMode=r)}function Ya(e,t,n){var o=t.pendingProps,r=o.revealOrder,i=o.tail;if(ka(e,t,o.children,n),0!==(2&(o=ca.current)))o=1&o|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n,t);else if(19===e.tag)Ja(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(H(ca,o),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Wa(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===da(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Wa(t,!0,n,null,i);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(wr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Fo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $a(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!_r(e))}function Qa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Aa=!0;else{if(!$a(e,n)&&0===(128&t.flags))return Aa=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),Sr(0,xr,e.memoizedState.cache),mr();break;case 27:case 5:Y(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:Sr(0,t.type,t.memoizedProps.value);break;case 13:var o=t.memoizedState;if(null!==o)return null!==o.dehydrated?(la(t),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(la(t),null!==(e=Ka(e,t,n))?e.sibling:null);la(t);break;case 19:var r=0!==(128&e.flags);if((o=0!==(n&t.childLanes))||(wr(e,t,n,!1),o=0!==(n&t.childLanes)),r){if(o)return Ya(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(ca,ca.current),o)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,n);case 24:Sr(0,xr,e.memoizedState.cache)}return Ka(e,t,n)}(e,t,n);Aa=0!==(131072&e.flags)}else Aa=!1,lr&&0!==(1048576&t.flags)&&tr(t,Yo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var o=t.elementType,r=o._init;if(o=r(o._payload),t.type=o,"function"!==typeof o){if(void 0!==o&&null!==o){if((r=o.$$typeof)===C){t.tag=11,t=Ia(null,t,o,e,n);break e}if(r===_){t.tag=14,t=Pa(null,t,o,e,n);break e}}throw t=R(o)||o,Error(l(306,t,""))}qo(o)?(e=ga(o,e),t.tag=1,t=La(null,t,o,e,n)):(t.tag=0,t=Da(null,t,o,e,n))}return t;case 0:return Da(e,t,t.type,t.pendingProps,n);case 1:return La(e,t,o=t.type,r=ga(o,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(l(387));o=t.pendingProps;var i=t.memoizedState;r=i.element,ri(e,t),di(t,o,null,n);var a=t.memoizedState;if(o=a.cache,Sr(0,xr,o),o!==i.cache&&Tr(t,[xr],n,!0),ci(),o=a.element,i.isDehydrated){if(i={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=qa(e,t,o,n);break e}if(o!==r){gr(r=_o(Error(l(424)),t)),t=qa(e,t,o,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ir=yd(e.firstChild),rr=t,lr=!0,ar=null,sr=!0,n=oa(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mr(),o===r){t=Ka(e,t,n);break e}ka(e,t,o,n)}t=t.child}return t;case 26:return Ma(e,t),null===e?(n=kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:lr||(n=t.type,e=t.pendingProps,(o=od(V.current).createElement(n))[Re]=t,o[xe]=e,ed(o,n,e),Be(o),t.stateNode=o):t.memoizedState=kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&lr&&(o=t.stateNode=Sd(t.type,t.pendingProps,V.current),rr=t,sr=!0,r=ir,pd(t.type)?(vd=r,ir=yd(o.firstChild)):ir=r),ka(e,t,t.pendingProps.children,n),Ma(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&lr&&((r=o=ir)&&(null!==(o=function(e,t,n,o){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(o){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===i)return e}if(null===(e=yd(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,sr))?(t.stateNode=o,rr=t,ir=yd(o.firstChild),sr=!1,r=!0):r=!1),r||cr(t)),Y(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ld(r,i)?o=null:null!==a&&ld(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=Ri(e,t,Di,null,null,n),Yd._currentValue=r),Ma(e,t),ka(e,t,o,n),t.child;case 6:return null===e&&lr&&((e=n=ir)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,sr))?(t.stateNode=n,rr=t,ir=null,e=!0):e=!1),e||cr(t)),null;case 13:return za(e,t,n);case 4:return J(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=na(t,null,o,n):ka(e,t,o,n),t.child;case 11:return Ia(e,t,t.type,t.pendingProps,n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Sr(0,t.type,o.value),ka(e,t,o.children,n),t.child;case 9:return r=t.type._context,o=t.pendingProps.children,Or(t),o=o(r=Ar(r)),t.flags|=1,ka(e,t,o,n),t.child;case 14:return Pa(e,t,t.type,t.pendingProps,n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 19:return Ya(e,t,n);case 31:return o=t.pendingProps,n=t.mode,o={mode:o.mode,children:o.children},null===e?((n=Va(o,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fo(e.child,o)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ra(e,t,n);case 24:return Or(t),o=Ar(xr),null===e?(null===(r=Gr())&&(r=ou,i=Mr(),r.pooledCache=i,i.refCount++,null!==i&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:o,cache:r},oi(t),Sr(0,xr,r)):(0!==(e.lanes&n)&&(ri(e,t),di(t,null,null,n),ci()),r=e.memoizedState,i=t.memoizedState,r.parent!==o?(r={parent:o,cache:o},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),Sr(0,xr,o)):(o=i.cache,Sr(0,xr,o),o!==r.cache&&Tr(t,[xr],n,!0))),ka(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function Xa(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Hd(t)){if(null!==(t=ra.current)&&((4194048&iu)===iu?null!==ia:(62914560&iu)!==iu&&0===(536870912&iu)||t!==ia))throw Zr=Kr,Wr;e.flags|=8192}}function es(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Te():536870912,e.lanes|=t,yu|=t)}function ts(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ns(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,o=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=65011712&r.subtreeFlags,o|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function os(e,t,n){var o=t.pendingProps;switch(or(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ns(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Er(xr),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pr(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,hr())),ns(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(ns(t),Za(t,n)):(ns(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),ns(t),Za(t,n)):(ns(t),t.flags&=-16777217):(e.memoizedProps!==o&&Xa(t),ns(t),t.flags&=-16777217),null;case 27:K(t),n=V.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Xa(t);else{if(!o){if(null===t.stateNode)throw Error(l(166));return ns(t),null}e=z.current,pr(t)?dr(t):(e=Sd(r,o,n),t.stateNode=e,Xa(t))}return ns(t),null;case 5:if(K(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&Xa(t);else{if(!o){if(null===t.stateNode)throw Error(l(166));return ns(t),null}if(e=z.current,pr(t))dr(t);else{switch(r=od(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof o.is?r.createElement("select",{is:o.is}):r.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e="string"===typeof o.is?r.createElement(n,{is:o.is}):r.createElement(n)}}e[Re]=t,e[xe]=o;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,o),n){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return ns(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&Xa(t);else{if("string"!==typeof o&&null===t.stateNode)throw Error(l(166));if(e=V.current,pr(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(r=rr))switch(r.tag){case 27:case 5:o=r.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||$c(e.nodeValue,n)))||cr(t)}else(e=od(e).createTextNode(o))[Re]=t,t.stateNode=e}return ns(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=pr(t),null!==o&&null!==o.dehydrated){if(null===e){if(!r)throw Error(l(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(l(317));r[Re]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ns(t),r=!1}else r=hr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ua(t),t):(ua(t),null)}if(ua(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==o,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(r=o.alternate.memoizedState.cachePool.pool);var i=null;null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(i=o.memoizedState.cachePool.pool),i!==r&&(o.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),es(t,t.updateQueue),ns(t),null;case 4:return W(),null===e&&jc(t.stateNode.containerInfo),ns(t),null;case 10:return Er(t.type),ns(t),null;case 19:if(j(ca),null===(r=t.memoizedState))return ns(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)ts(r,!1);else{if(0!==fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=da(e))){for(t.flags|=128,ts(r,!1),e=i.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)jo(n,e),n=n.sibling;return H(ca,1&ca.current|2),t.child}e=e.sibling}null!==r.tail&&te()>Cu&&(t.flags|=128,o=!0,ts(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=da(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),ts(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!lr)return ns(t),null}else 2*te()-r.renderingStartTime>Cu&&536870912!==n&&(t.flags|=128,o=!0,ts(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ca.current,H(ca,o?1&e|2:1&e),t):(ns(t),null);case 22:case 23:return ua(t),vi(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?0!==(536870912&n)&&0===(128&t.flags)&&(ns(t),6&t.subtreeFlags&&(t.flags|=8192)):ns(t),null!==(n=t.updateQueue)&&es(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&j(zr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Er(xr),ns(t),null;case 25:case 30:return null}throw Error(l(156,t.tag))}function rs(e,t){switch(or(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Er(xr),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(ua(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return j(ca),null;case 4:return W(),null;case 10:return Er(t.type),null;case 22:case 23:return ua(t),vi(),null!==e&&j(zr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Er(xr),null;default:return null}}function is(e,t){switch(or(t),t.tag){case 3:Er(xr),W();break;case 26:case 27:case 5:K(t);break;case 4:W();break;case 13:ua(t);break;case 19:j(ca);break;case 10:Er(t.type);break;case 22:case 23:ua(t),vi(),null!==e&&j(zr);break;case 24:Er(xr)}}function ls(e,t){try{var n=t.updateQueue,o=null!==n?n.lastEffect:null;if(null!==o){var r=o.next;n=r;do{if((n.tag&e)===e){o=void 0;var i=n.create,l=n.inst;o=i(),l.destroy=o}n=n.next}while(n!==r)}}catch(a){cc(t,t.return,a)}}function as(e,t,n){try{var o=t.updateQueue,r=null!==o?o.lastEffect:null;if(null!==r){var i=r.next;o=i;do{if((o.tag&e)===e){var l=o.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,r=t;var s=n,u=a;try{u()}catch(c){cc(r,s,c)}}}o=o.next}while(o!==i)}}catch(c){cc(t,t.return,c)}}function ss(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(o){cc(e,e.return,o)}}}function us(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(o){cc(e,t,o)}}function cs(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;default:o=e.stateNode}"function"===typeof n?e.refCleanup=n(o):n.current=o}}catch(r){cc(e,t,r)}}function ds(e,t){var n=e.ref,o=e.refCleanup;if(null!==n)if("function"===typeof o)try{o()}catch(r){cc(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){cc(e,t,i)}else n.current=null}function fs(e){var t=e.type,n=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&o.focus();break e;case"img":n.src?o.src=n.src:n.srcSet&&(o.srcset=n.srcSet)}}catch(r){cc(e,e.return,r)}}function ps(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,s=null,u=null,c=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&null!=f)switch(m){case"checked":case"value":break;case"defaultValue":u=f;default:o.hasOwnProperty(m)||Xc(e,t,m,null,o,f)}}for(var p in o){var m=o[p];if(f=n[p],o.hasOwnProperty(p)&&(null!=m||null!=f))switch(p){case"type":i=m;break;case"name":r=m;break;case"checked":c=m;break;case"defaultChecked":d=m;break;case"value":a=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(l(137,t));break;default:m!==f&&Xc(e,t,p,m,o,f)}}return void gt(e,a,s,u,c,d,i,r);case"select":for(i in m=a=s=p=null,n)if(u=n[i],n.hasOwnProperty(i)&&null!=u)switch(i){case"value":break;case"multiple":m=u;default:o.hasOwnProperty(i)||Xc(e,t,i,null,o,u)}for(r in o)if(i=o[r],u=n[r],o.hasOwnProperty(r)&&(null!=i||null!=u))switch(r){case"value":p=i;break;case"defaultValue":s=i;break;case"multiple":a=i;default:i!==u&&Xc(e,t,r,i,o,u)}return t=s,n=a,o=m,void(null!=p?bt(e,!!n,p,!1):!!o!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(s in m=p=null,n)if(r=n[s],n.hasOwnProperty(s)&&null!=r&&!o.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Xc(e,t,s,null,o,r)}for(a in o)if(r=o[a],i=n[a],o.hasOwnProperty(a)&&(null!=r||null!=i))switch(a){case"value":p=r;break;case"defaultValue":m=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(l(91));break;default:r!==i&&Xc(e,t,a,r,o,i)}return void St(e,p,m);case"option":for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&null!=p&&!o.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Xc(e,t,h,null,o,p);for(u in o)if(p=o[u],m=n[u],o.hasOwnProperty(u)&&p!==m&&(null!=p||null!=m))if("selected"===u)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xc(e,t,u,p,o,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!o.hasOwnProperty(g)&&Xc(e,t,g,null,o,p);for(c in o)if(p=o[c],m=n[c],o.hasOwnProperty(c)&&p!==m&&(null!=p||null!=m))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(l(137,t));break;default:Xc(e,t,c,p,o,m)}return;default:if(Ot(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!o.hasOwnProperty(y)&&Zc(e,t,y,void 0,o,p);for(d in o)p=o[d],m=n[d],!o.hasOwnProperty(d)||p===m||void 0===p&&void 0===m||Zc(e,t,d,p,o,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!o.hasOwnProperty(v)&&Xc(e,t,v,null,o,p);for(f in o)p=o[f],m=n[f],!o.hasOwnProperty(f)||p===m||null==p&&null==m||Xc(e,t,f,p,o,m)}(o,e.type,n,t),o[xe]=t}catch(r){cc(e,e.return,r)}}function ms(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function hs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ms(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gs(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qc));else if(4!==o&&(27===o&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function ys(e,t,n){var o=e.tag;if(5===o||6===o)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==o&&(27===o&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(ys(e,t,n),e=e.sibling;null!==e;)ys(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var o=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,o,n),t[Re]=e,t[xe]=n}catch(i){cc(e,e.return,i)}}var bs=!1,Ss=!1,Es=!1,Cs="function"===typeof WeakSet?WeakSet:Set,Ts=null;function ws(e,t,n){var o=n.flags;switch(n.tag){case 0:case 11:case 15:Ls(e,n),4&o&&ls(5,n);break;case 1:if(Ls(e,n),4&o)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){cc(n,n.return,l)}else{var r=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){cc(n,n.return,a)}}64&o&&ss(n),512&o&&cs(n,n.return);break;case 3:if(Ls(e,n),64&o&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(l){cc(n,n.return,l)}}break;case 27:null===t&&4&o&&vs(n);case 26:case 5:Ls(e,n),null===t&&4&o&&fs(n),512&o&&cs(n,n.return);break;case 12:Ls(e,n);break;case 13:Ls(e,n),4&o&&Ps(e,n),64&o&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var o=function(){t(),n.removeEventListener("DOMContentLoaded",o)};n.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}(e,n=mc.bind(null,n))));break;case 22:if(!(o=null!==n.memoizedState||bs)){t=null!==t&&null!==t.memoizedState||Ss,r=bs;var i=Ss;bs=o,(Ss=t)&&!i?Fs(e,n,0!==(8772&n.subtreeFlags)):Ls(e,n),bs=r,Ss=i}break;case 30:break;default:Ls(e,n)}}function _s(e){var t=e.alternate;null!==t&&(e.alternate=null,_s(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&je(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Os=null,As=!1;function ks(e,t,n){for(n=n.child;null!==n;)Is(e,t,n),n=n.sibling}function Is(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(i){}switch(n.tag){case 26:Ss||ds(n,t),ks(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Ss||ds(n,t);var o=Os,r=As;pd(n.type)&&(Os=n.stateNode,As=!1),ks(e,t,n),Ed(n.stateNode),Os=o,As=r;break;case 5:Ss||ds(n,t);case 6:if(o=Os,r=As,Os=null,ks(e,t,n),As=r,null!==(Os=o))if(As)try{(9===Os.nodeType?Os.body:"HTML"===Os.nodeName?Os.ownerDocument.body:Os).removeChild(n.stateNode)}catch(l){cc(n,t,l)}else try{Os.removeChild(n.stateNode)}catch(l){cc(n,t,l)}break;case 18:null!==Os&&(As?(md(9===(e=Os).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kf(e)):md(Os,n.stateNode));break;case 4:o=Os,r=As,Os=n.stateNode.containerInfo,As=!0,ks(e,t,n),Os=o,As=r;break;case 0:case 11:case 14:case 15:Ss||as(2,n,t),Ss||as(4,n,t),ks(e,t,n);break;case 1:Ss||(ds(n,t),"function"===typeof(o=n.stateNode).componentWillUnmount&&us(n,t,o)),ks(e,t,n);break;case 21:ks(e,t,n);break;case 22:Ss=(o=Ss)||null!==n.memoizedState,ks(e,t,n),Ss=o;break;default:ks(e,t,n)}}function Ps(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kf(e)}catch(n){cc(t,t.return,n)}}function Ns(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Cs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Cs),t;default:throw Error(l(435,e.tag))}}(e);t.forEach(function(t){var o=hc.bind(null,e,t);n.has(t)||(n.add(t),t.then(o,o))})}function Rs(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var r=n[o],i=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(pd(s.type)){Os=s.stateNode,As=!1;break e}break;case 5:Os=s.stateNode,As=!1;break e;case 3:case 4:Os=s.stateNode.containerInfo,As=!0;break e}s=s.return}if(null===Os)throw Error(l(160));Is(i,a,r),Os=null,As=!1,null!==(i=r.alternate)&&(i.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ms(t,e),t=t.sibling}var xs=null;function Ms(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rs(t,e),Ds(e),4&o&&(as(3,e,e.return),ls(3,e),as(5,e,e.return));break;case 1:Rs(t,e),Ds(e),512&o&&(Ss||null===n||ds(n,n.return)),64&o&&bs&&(null!==(e=e.updateQueue)&&(null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o))));break;case 26:var r=xs;if(Rs(t,e),Ds(e),512&o&&(Ss||null===n||ds(n,n.return)),4&o){var i=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(o){case"title":(!(i=r.getElementsByTagName("title")[0])||i[Fe]||i[Re]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=r.createElement(o),r.head.insertBefore(i,r.querySelector("head > title"))),ed(i,o,n),i[Re]=e,Be(i),o=i;break e;case"link":var a=Fd("link","href",r).get(o+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((i=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}ed(i=r.createElement(o),o,n),r.head.appendChild(i);break;case"meta":if(a=Fd("meta","content",r).get(o+(n.content||"")))for(s=0;s<a.length;s++)if((i=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}ed(i=r.createElement(o),o,n),r.head.appendChild(i);break;default:throw Error(l(468,o))}i[Re]=e,Be(i),o=i}e.stateNode=o}else jd(r,e.type,e.stateNode);else e.stateNode=Md(r,o,e.memoizedProps);else i!==o?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===o?jd(r,e.type,e.stateNode):Md(r,o,e.memoizedProps)):null===o&&null!==e.stateNode&&ps(e,e.memoizedProps,n.memoizedProps)}break;case 27:Rs(t,e),Ds(e),512&o&&(Ss||null===n||ds(n,n.return)),null!==n&&4&o&&ps(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Rs(t,e),Ds(e),512&o&&(Ss||null===n||ds(n,n.return)),32&e.flags){r=e.stateNode;try{Ct(r,"")}catch(m){cc(e,e.return,m)}}4&o&&null!=e.stateNode&&ps(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&o&&(Es=!0);break;case 6:if(Rs(t,e),Ds(e),4&o){if(null===e.stateNode)throw Error(l(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(m){cc(e,e.return,m)}}break;case 3:if(qd=null,r=xs,xs=wd(t.containerInfo),Rs(t,e),xs=r,Ds(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{kf(t.containerInfo)}catch(m){cc(e,e.return,m)}Es&&(Es=!1,Us(e));break;case 4:o=xs,xs=wd(e.stateNode.containerInfo),Rs(t,e),Ds(e),xs=o;break;case 12:default:Rs(t,e),Ds(e);break;case 13:Rs(t,e),Ds(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Eu=te()),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Ns(e,o)));break;case 22:r=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bs,d=Ss;if(bs=c||r,Ss=d||u,Rs(t,e),Ss=d,bs=c,Ds(e),8192&o)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||u||bs||Ss||qs(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(i=u.stateNode,r)"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var f=u.memoizedProps.style,p=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){cc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(m){cc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&(null!==(o=e.updateQueue)&&(null!==(n=o.retryQueue)&&(o.retryQueue=null,Ns(e,n))));break;case 19:Rs(t,e),Ds(e),4&o&&(null!==(o=e.updateQueue)&&(e.updateQueue=null,Ns(e,o)));case 30:case 21:}}function Ds(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(ms(o)){n=o;break}o=o.return}if(null==n)throw Error(l(160));switch(n.tag){case 27:var r=n.stateNode;ys(e,hs(e),r);break;case 5:var i=n.stateNode;32&n.flags&&(Ct(i,""),n.flags&=-33),ys(e,hs(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;gs(e,hs(e),a);break;default:throw Error(l(161))}}catch(s){cc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Us(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Us(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ls(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)ws(e,t.alternate,t),t=t.sibling}function qs(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:as(4,t,t.return),qs(t);break;case 1:ds(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&us(t,t.return,n),qs(t);break;case 27:Ed(t.stateNode);case 26:case 5:ds(t,t.return),qs(t);break;case 22:null===t.memoizedState&&qs(t);break;default:qs(t)}e=e.sibling}}function Fs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var o=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:Fs(r,i,n),ls(4,i);break;case 1:if(Fs(r,i,n),"function"===typeof(r=(o=i).stateNode).componentDidMount)try{r.componentDidMount()}catch(u){cc(o,o.return,u)}if(null!==(r=(o=i).updateQueue)){var a=o.stateNode;try{var s=r.shared.hiddenCallbacks;if(null!==s)for(r.shared.hiddenCallbacks=null,r=0;r<s.length;r++)fi(s[r],a)}catch(u){cc(o,o.return,u)}}n&&64&l&&ss(i),cs(i,i.return);break;case 27:vs(i);case 26:case 5:Fs(r,i,n),n&&null===o&&4&l&&fs(i),cs(i,i.return);break;case 12:Fs(r,i,n);break;case 13:Fs(r,i,n),n&&4&l&&Ps(r,i);break;case 22:null===i.memoizedState&&Fs(r,i,n),cs(i,i.return);break;case 30:break;default:Fs(r,i,n)}t=t.sibling}}function js(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Dr(n))}function Hs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e))}function zs(e,t,n,o){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gs(e,t,n,o),t=t.sibling}function Gs(e,t,n,o){var r=t.flags;switch(t.tag){case 0:case 11:case 15:zs(e,t,n,o),2048&r&&ls(9,t);break;case 1:case 13:default:zs(e,t,n,o);break;case 3:zs(e,t,n,o),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Dr(e)));break;case 12:if(2048&r){zs(e,t,n,o),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"===typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){cc(t,t.return,s)}}else zs(e,t,n,o);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?zs(e,t,n,o):Bs(e,t):2&i._visibility?zs(e,t,n,o):(i._visibility|=2,Vs(e,t,n,o,0!==(10256&t.subtreeFlags))),2048&r&&js(l,t);break;case 24:zs(e,t,n,o),2048&r&&Hs(t.alternate,t)}}function Vs(e,t,n,o,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,l=t,a=n,s=o,u=l.flags;switch(l.tag){case 0:case 11:case 15:Vs(i,l,a,s,r),ls(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?Vs(i,l,a,s,r):Bs(i,l):(c._visibility|=2,Vs(i,l,a,s,r)),r&&2048&u&&js(l.alternate,l);break;case 24:Vs(i,l,a,s,r),r&&2048&u&&Hs(l.alternate,l);break;default:Vs(i,l,a,s,r)}t=t.sibling}}function Bs(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,o=t,r=o.flags;switch(o.tag){case 22:Bs(n,o),2048&r&&js(o.alternate,o);break;case 24:Bs(n,o),2048&r&&Hs(o.alternate,o);break;default:Bs(n,o)}t=t.sibling}}var Js=8192;function Ws(e){if(e.subtreeFlags&Js)for(e=e.child;null!==e;)Ys(e),e=e.sibling}function Ys(e){switch(e.tag){case 26:Ws(e),e.flags&Js&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(l(475));var o=zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Id(n.href),i=e.querySelector(Pd(r));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(o.count++,o=Vd.bind(o),e.then(o,o)),t.state.loading|=4,t.instance=i,void Be(i);i=e.ownerDocument||e,n=Nd(n),(r=Cd.get(r))&&Ud(n,r),Be(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",n),t.instance=i}null===o.stylesheets&&(o.stylesheets=new Map),o.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(o.count++,t=Vd.bind(o),e.addEventListener("load",t),e.addEventListener("error",t))}}(xs,e.memoizedState,e.memoizedProps);break;case 5:default:Ws(e);break;case 3:case 4:var t=xs;xs=wd(e.stateNode.containerInfo),Ws(e),xs=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Js,Js=16777216,Ws(e),Js=t):Ws(e))}}function Ks(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $s(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Ts=o,Zs(o,e)}Ks(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Qs(e),e=e.sibling}function Qs(e){switch(e.tag){case 0:case 11:case 15:$s(e),2048&e.flags&&as(9,e,e.return);break;case 3:case 12:default:$s(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xs(e)):$s(e)}}function Xs(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var o=t[n];Ts=o,Zs(o,e)}Ks(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:as(8,t,t.return),Xs(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xs(t));break;default:Xs(t)}e=e.sibling}}function Zs(e,t){for(;null!==Ts;){var n=Ts;switch(n.tag){case 0:case 11:case 15:as(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var o=n.memoizedState.cachePool.pool;null!=o&&o.refCount++}break;case 24:Dr(n.memoizedState.cache)}if(null!==(o=n.child))o.return=n,Ts=o;else e:for(n=e;null!==Ts;){var r=(o=Ts).sibling,i=o.return;if(_s(o),o===n){Ts=null;break e}if(null!==r){r.return=i,Ts=r;break e}Ts=i}}}var eu={getCacheForType:function(e){var t=Ar(xr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ou=null,ru=null,iu=0,lu=0,au=null,su=!1,uu=!1,cu=!1,du=0,fu=0,pu=0,mu=0,hu=0,gu=0,yu=0,vu=null,bu=null,Su=!1,Eu=0,Cu=1/0,Tu=null,wu=null,_u=0,Ou=null,Au=null,ku=0,Iu=0,Pu=null,Nu=null,Ru=0,xu=null;function Mu(){if(0!==(2&nu)&&0!==iu)return iu&-iu;if(null!==M.T){return 0!==qr?qr:Ic()}return Pe()}function Du(){0===gu&&(gu=0===(536870912&iu)||lr?Ce():536870912);var e=ra.current;return null!==e&&(e.flags|=32),gu}function Uu(e,t,n){(e!==ou||2!==lu&&9!==lu)&&null===e.cancelPendingCommit||(Gu(e,0),ju(e,iu,gu,!1)),_e(e,n),0!==(2&nu)&&e===ou||(e===ou&&(0===(2&nu)&&(mu|=n),4===fu&&ju(e,iu,gu,!1)),Cc(e))}function Lu(e,t,n){if(0!==(6&nu))throw Error(l(327));for(var o=!n&&0===(124&t)&&0===(t&e.expiredLanes)||Se(e,t),r=o?function(e,t){var n=nu;nu|=2;var o=Bu(),r=Ju();ou!==e||iu!==t?(Tu=null,Cu=te()+500,Gu(e,t)):uu=Se(e,t);e:for(;;)try{if(0!==lu&&null!==ru){t=ru;var i=au;t:switch(lu){case 1:lu=0,au=null,Zu(e,t,i,1);break;case 2:case 9:if($r(i)){lu=0,au=null,Xu(t);break}t=function(){2!==lu&&9!==lu||ou!==e||(lu=7),Cc(e)},i.then(t,t);break e;case 3:lu=7;break e;case 4:lu=5;break e;case 7:$r(i)?(lu=0,au=null,Xu(t)):(lu=0,au=null,Zu(e,t,i,7));break;case 5:var a=null;switch(ru.tag){case 26:a=ru.memoizedState;case 5:case 27:var s=ru;if(!a||Hd(a)){lu=0,au=null;var u=s.sibling;if(null!==u)ru=u;else{var c=s.return;null!==c?(ru=c,ec(c)):ru=null}break t}}lu=0,au=null,Zu(e,t,i,5);break;case 6:lu=0,au=null,Zu(e,t,i,6);break;case 8:zu(),fu=6;break e;default:throw Error(l(462))}}$u();break}catch(d){Vu(e,d)}return br=vr=null,M.H=o,M.A=r,nu=n,null!==ru?0:(ou=null,iu=0,Io(),fu)}(e,t):Yu(e,t,!0),i=o;;){if(0===r){uu&&!o&&ju(e,t,0,!1);break}if(n=e.current.alternate,!i||Fu(n)){if(2===r){if(i=t,e.errorRecoveryDisabledLanes&i)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;r=vu;var u=s.current.memoizedState.isDehydrated;if(u&&(Gu(s,a).flags|=256),2!==(a=Yu(s,a,!1))){if(cu&&!u){s.errorRecoveryDisabledLanes|=i,mu|=i,r=4;break e}i=bu,bu=r,null!==i&&(null===bu?bu=i:bu.push.apply(bu,i))}r=a}if(i=!1,2!==r)continue}}if(1===r){Gu(e,0),ju(e,t,0,!0);break}e:{switch(o=e,i=r){case 0:case 1:throw Error(l(345));case 4:if((4194048&t)!==t)break;case 6:ju(o,t,gu,!su);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(l(329))}if((62914560&t)===t&&10<(r=Eu+300-te())){if(ju(o,t,gu,!su),0!==be(o,0,!0))break e;o.timeoutHandle=sd(qu.bind(null,o,n,bu,Tu,Su,t,gu,mu,yu,su,i,2,-0,0),r)}else qu(o,n,bu,Tu,Su,t,gu,mu,yu,su,i,0,-0,0)}break}r=Yu(e,t,!1),i=!1}Cc(e)}function qu(e,t,n,o,r,i,a,s,u,c,d,f,p,m){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(zd={stylesheets:null,count:0,unsuspend:Gd},Ys(t),null!==(f=function(){if(null===zd)throw Error(l(475));var e=zd;return e.stylesheets&&0===e.count&&Jd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Jd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nc.bind(null,e,t,i,n,o,r,a,s,u,d,1,p,m)),void ju(e,i,a,!c);nc(e,t,i,n,o,r,a,s,u)}function Fu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var o=0;o<n.length;o++){var r=n[o],i=r.getSnapshot;r=r.value;try{if(!Kn(i(),r))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t,n,o){t&=~hu,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var r=t;0<r;){var i=31-pe(r),l=1<<i;o[i]=-1,r&=~l}0!==n&&Oe(e,n,t)}function Hu(){return 0!==(6&nu)||(Tc(0,!1),!1)}function zu(){if(null!==ru){if(0===lu)var e=ru.return;else br=vr=null,qi(e=ru),Kl=null,$l=0,e=ru;for(;null!==e;)is(e.alternate,e),e=e.return;ru=null}}function Gu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zu(),ou=e,ru=n=Fo(e.current,null),iu=t,lu=0,au=null,su=!1,uu=Se(e,t),cu=!1,yu=gu=hu=mu=pu=fu=0,bu=vu=null,Su=!1,0!==(8&t)&&(t|=32&t);var o=e.entangledLanes;if(0!==o)for(e=e.entanglements,o&=t;0<o;){var r=31-pe(o),i=1<<r;t|=e[r],o&=~i}return du=t,Io(),n}function Vu(e,t){Si=null,M.H=Bl,t===Jr||t===Yr?(t=ei(),lu=3):t===Wr?(t=ei(),lu=4):lu=t===Oa?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,au=t,null===ru&&(fu=1,Ea(e,_o(t,e.current)))}function Bu(){var e=M.H;return M.H=Bl,null===e?Bl:e}function Ju(){var e=M.A;return M.A=eu,e}function Wu(){fu=4,su||(4194048&iu)!==iu&&null!==ra.current||(uu=!0),0===(134217727&pu)&&0===(134217727&mu)||null===ou||ju(ou,iu,gu,!1)}function Yu(e,t,n){var o=nu;nu|=2;var r=Bu(),i=Ju();ou===e&&iu===t||(Tu=null,Gu(e,t)),t=!1;var l=fu;e:for(;;)try{if(0!==lu&&null!==ru){var a=ru,s=au;switch(lu){case 8:zu(),l=6;break e;case 3:case 2:case 9:case 6:null===ra.current&&(t=!0);var u=lu;if(lu=0,au=null,Zu(e,a,s,u),n&&uu){l=0;break e}break;default:u=lu,lu=0,au=null,Zu(e,a,s,u)}}Ku(),l=fu;break}catch(c){Vu(e,c)}return t&&e.shellSuspendCounter++,br=vr=null,nu=o,M.H=r,M.A=i,null===ru&&(ou=null,iu=0,Io()),l}function Ku(){for(;null!==ru;)Qu(ru)}function $u(){for(;null!==ru&&!Z();)Qu(ru)}function Qu(e){var t=Qa(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Xu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ua(n,t,t.pendingProps,t.type,void 0,iu);break;case 11:t=Ua(n,t,t.pendingProps,t.type.render,t.ref,iu);break;case 5:qi(t);default:is(n,t),t=Qa(n,t=ru=jo(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ru=t}function Zu(e,t,n,o){br=vr=null,qi(t),Kl=null,$l=0;var r=t.return;try{if(function(e,t,n,o,r){if(n.flags|=32768,null!==o&&"object"===typeof o&&"function"===typeof o.then){if(null!==(t=n.alternate)&&wr(t,n,r,!0),null!==(n=ra.current)){switch(n.tag){case 13:return null===ia?Wu():null===n.alternate&&0===fu&&(fu=3),n.flags&=-257,n.flags|=65536,n.lanes=r,o===Kr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),dc(e,o,r)),!1;case 22:return n.flags|=65536,o===Kr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),dc(e,o,r)),!1}throw Error(l(435,n.tag))}return dc(e,o,r),Wu(),!1}if(lr)return null!==(t=ra.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,o!==ur&&gr(_o(e=Error(l(422),{cause:o}),n))):(o!==ur&&gr(_o(t=Error(l(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,o=_o(o,n),si(e,r=Ta(e.stateNode,o,r)),4!==fu&&(fu=2)),!1;var i=Error(l(520),{cause:o});if(i=_o(i,n),null===vu?vu=[i]:vu.push(i),4!==fu&&(fu=2),null===t)return!0;o=_o(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,si(n,e=Ta(n.stateNode,o,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===wu||!wu.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,_a(r=wa(r),e,n,o),si(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,iu))return fu=1,Ea(e,_o(n,e.current)),void(ru=null)}catch(i){if(null!==r)throw ru=r,i;return fu=1,Ea(e,_o(n,e.current)),void(ru=null)}32768&t.flags?(lr||1===o?e=!0:uu||0!==(536870912&iu)?e=!1:(su=e=!0,(2===o||9===o||3===o||6===o)&&(null!==(o=ra.current)&&13===o.tag&&(o.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,su);e=t.return;var n=os(t.alternate,t,du);if(null!==n)return void(ru=n);if(null!==(t=t.sibling))return void(ru=t);ru=t=e}while(null!==t);0===fu&&(fu=5)}function tc(e,t){do{var n=rs(e.alternate,e);if(null!==n)return n.flags&=32767,void(ru=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ru=e);ru=e=n}while(null!==e);fu=6,ru=null}function nc(e,t,n,o,r,i,a,s,u){e.cancelPendingCommit=null;do{ac()}while(0!==_u);if(0!==(6&nu))throw Error(l(327));if(null!==t){if(t===e.current)throw Error(l(177));if(i=t.lanes|t.childLanes,function(e,t,n,o,r,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-pe(n),d=1<<c;a[c]=0,s[c]=-1;var f=u[c];if(null!==f)for(u[c]=null,c=0;c<f.length;c++){var p=f[c];null!==p&&(p.lane&=-536870913)}n&=~d}0!==o&&Oe(e,o,0),0!==i&&0===r&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,i|=ko,a,s,u),e===ou&&(ru=ou=null,iu=0),Au=t,Ou=e,ku=n,Iu=i,Pu=r,Nu=o,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ie,function(){return sc(),null})):(e.callbackNode=null,e.callbackPriority=0),o=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||o){o=M.T,M.T=null,r=D.p,D.p=2,a=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,to(e=eo(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==r&&3!==f.nodeType||(s=a+r),f!==i||0!==o&&3!==f.nodeType||(u=a+o),3===f.nodeType&&(a+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===r&&(s=a),p===i&&++d===o&&(u=a),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,Ts=t;null!==Ts;)if(e=(t=Ts).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ts=e;else for(;null!==Ts;){switch(i=(t=Ts).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,o=n.stateNode;try{var h=ga(n.type,r,(n.elementType,n.type));e=o.getSnapshotBeforeUpdate(h,i),o.__reactInternalSnapshotBeforeUpdate=e}catch(y){cc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))hd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(l(163))}if(null!==(e=t.sibling)){e.return=t.return,Ts=e;break}Ts=t.return}}(e,t)}finally{nu=a,D.p=r,M.T=o}}_u=1,oc(),rc(),ic()}}function oc(){if(1===_u){_u=0;var e=Ou,t=Au,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=M.T,M.T=null;var o=D.p;D.p=2;var r=nu;nu|=4;try{Ms(t,e);var i=nd,l=eo(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==s&&to(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=a.textContent.length,h=Math.min(s.start,m),g=void 0===s.end?h:Math.min(s.end,m);!p.extend&&h>g&&(l=g,g=h,h=l);var y=Xn(a,h),v=Xn(a,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),p.removeAllRanges(),h>g?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var S=d[a];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}nf=!!td,nd=td=null}finally{nu=r,D.p=o,M.T=n}}e.current=t,_u=2}}function rc(){if(2===_u){_u=0;var e=Ou,t=Au,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=M.T,M.T=null;var o=D.p;D.p=2;var r=nu;nu|=4;try{ws(e,t.alternate,t)}finally{nu=r,D.p=o,M.T=n}}_u=3}}function ic(){if(4===_u||3===_u){_u=0,ee();var e=Ou,t=Au,n=ku,o=Nu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?_u=5:(_u=0,Au=Ou=null,lc(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(wu=null),Ie(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==o){t=M.T,r=D.p,D.p=2,M.T=null;try{for(var i=e.onRecoverableError,l=0;l<o.length;l++){var a=o[l];i(a.value,{componentStack:a.stack})}}finally{M.T=t,D.p=r}}0!==(3&ku)&&ac(),Cc(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===xu?Ru++:(Ru=0,xu=e):Ru=0,Tc(0,!1)}}function lc(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Dr(t)))}function ac(e){return oc(),rc(),ic(),sc()}function sc(){if(5!==_u)return!1;var e=Ou,t=Iu;Iu=0;var n=Ie(ku),o=M.T,r=D.p;try{D.p=32>n?32:n,M.T=null,n=Pu,Pu=null;var i=Ou,a=ku;if(_u=0,Au=Ou=null,ku=0,0!==(6&nu))throw Error(l(331));var s=nu;if(nu|=4,Qs(i.current),Gs(i,i.current,a,n),nu=s,Tc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,i)}catch(u){}return!0}finally{D.p=r,M.T=o,lc(e,t)}}function uc(e,t,n){t=_o(n,t),null!==(e=li(e,t=Ta(e.stateNode,t,2),2))&&(_e(e,2),Cc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var o=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof o.componentDidCatch&&(null===wu||!wu.has(o))){e=_o(n,e),null!==(o=li(t,n=wa(2),2))&&(_a(n,o,t,e),_e(o,2),Cc(o));break}}t=t.return}}function dc(e,t,n){var o=e.pingCache;if(null===o){o=e.pingCache=new tu;var r=new Set;o.set(t,r)}else void 0===(r=o.get(t))&&(r=new Set,o.set(t,r));r.has(n)||(cu=!0,r.add(n),e=fc.bind(null,e,t,n),t.then(e,e))}function fc(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ou===e&&(iu&n)===n&&(4===fu||3===fu&&(62914560&iu)===iu&&300>te()-Eu?0===(2&nu)&&Gu(e,0):hu|=n,yu===iu&&(yu=0)),Cc(e)}function pc(e,t){0===t&&(t=Te()),null!==(e=Ro(e,t))&&(_e(e,t),Cc(e))}function mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pc(e,n)}function hc(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}null!==o&&o.delete(t),pc(e,n)}var gc=null,yc=null,vc=!1,bc=!1,Sc=!1,Ec=0;function Cc(e){e!==yc&&null===e.next&&(null===yc?gc=yc=e:yc=yc.next=e),bc=!0,vc||(vc=!0,dd(function(){0!==(6&nu)?Q(oe,wc):_c()}))}function Tc(e,t){if(!Sc&&bc){Sc=!0;do{for(var n=!1,o=gc;null!==o;){if(!t)if(0!==e){var r=o.pendingLanes;if(0===r)var i=0;else{var l=o.suspendedLanes,a=o.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=r&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,kc(o,i))}else i=iu,0===(3&(i=be(o,o===ou?i:0,null!==o.cancelPendingCommit||-1!==o.timeoutHandle)))||Se(o,i)||(n=!0,kc(o,i));o=o.next}}while(n);Sc=!1}}function wc(){_c()}function _c(){bc=vc=!1;var e=0;0!==Ec&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=Ec),Ec=0);for(var t=te(),n=null,o=gc;null!==o;){var r=o.next,i=Oc(o,t);0===i?(o.next=null,null===n?gc=r:n.next=r,null===r&&(yc=n)):(n=o,(0!==e||0!==(3&i))&&(bc=!0)),o=r}Tc(e,!1)}function Oc(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-pe(i),a=1<<l,s=r[l];-1===s?0!==(a&n)&&0===(a&o)||(r[l]=Ee(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=iu,n=be(e,e===(t=ou)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),o=e.callbackNode,0===n||e===t&&(2===lu||9===lu)||null!==e.cancelPendingCommit)return null!==o&&null!==o&&X(o),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==o&&X(o),Ie(n)){case 2:case 8:n=re;break;case 32:default:n=ie;break;case 268435456:n=ae}return o=Ac.bind(null,e),n=Q(n,o),e.callbackPriority=t,e.callbackNode=n,t}return null!==o&&null!==o&&X(o),e.callbackPriority=2,e.callbackNode=null,2}function Ac(e,t){if(0!==_u&&5!==_u)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ac()&&e.callbackNode!==n)return null;var o=iu;return 0===(o=be(e,e===ou?o:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Lu(e,o,t),Oc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ac.bind(null,e):null)}function kc(e,t){if(ac())return null;Lu(e,t,!0)}function Ic(){return 0===Ec&&(Ec=Ce()),Ec}function Pc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:It(""+e)}function Nc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Rc=0;Rc<Co.length;Rc++){var xc=Co[Rc];To(xc.toLowerCase(),"on"+(xc[0].toUpperCase()+xc.slice(1)))}To(mo,"onAnimationEnd"),To(ho,"onAnimationIteration"),To(go,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(yo,"onTransitionRun"),To(vo,"onTransitionStart"),To(bo,"onTransitionCancel"),To(So,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function Uc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var o=e[n],r=o.event;o=o.listeners;e:{var i=void 0;if(t)for(var l=o.length-1;0<=l;l--){var a=o[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&r.isPropagationStopped())break e;i=a,r.currentTarget=u;try{i(r)}catch(c){ya(c)}r.currentTarget=null,i=s}else for(l=0;l<o.length;l++){if(s=(a=o[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&r.isPropagationStopped())break e;i=a,r.currentTarget=u;try{i(r)}catch(c){ya(c)}r.currentTarget=null,i=s}}}}function Lc(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var o=e+"__bubble";n.has(o)||(Hc(t,e,2,!1),n.add(o))}function qc(e,t,n){var o=0;t&&(o|=4),Hc(n,e,o,t)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Fc]){e[Fc]=!0,Je.forEach(function(t){"selectionchange"!==t&&(Dc.has(t)||qc(t,!1,e),qc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fc]||(t[Fc]=!0,qc("selectionchange",!1,t))}}function Hc(e,t,n,o){switch(cf(t)){case 2:var r=of;break;case 8:r=rf;break;default:r=lf}n=r.bind(null,t,n,e),r=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),o?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zc(e,t,n,o,r){var i=o;if(0===(1&t)&&0===(2&t)&&null!==o)e:for(;;){if(null===o)return;var l=o.tag;if(3===l||4===l){var a=o.stateNode.containerInfo;if(a===r)break;if(4===l)for(l=o.return;null!==l;){var u=l.tag;if((3===u||4===u)&&l.stateNode.containerInfo===r)return;l=l.return}for(;null!==a;){if(null===(l=He(a)))return;if(5===(u=l.tag)||6===u||26===u||27===u){o=i=l;continue e}a=a.parentNode}}o=o.return}Ut(function(){var o=i,r=Nt(n),l=[];e:{var a=Eo.get(e);if(void 0!==a){var u=Zt,c=e;switch(e){case"keypress":if(0===Bt(n))break e;case"keydown":case"keyup":u=hn;break;case"focusin":c="focus",u=ln;break;case"focusout":c="blur",u=ln;break;case"beforeblur":case"afterblur":u=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case mo:case ho:case go:u=an;break;case So:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=Sn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var m,h=o;null!==h;){var g=h;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===p||null!=(g=Lt(h,p))&&d.push(Gc(h,g,m)),f)break;h=h.return}0<d.length&&(a=new u(a,c,null,n,r),l.push({event:a,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Pt||!(c=n.relatedTarget||n.fromElement)||!He(c)&&!c[Me])&&(u||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=o,null!==(c=(c=n.relatedTarget||n.toElement)?He(c):null)&&(f=s(c),d=c.tag,c!==f||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=o),u!==c)){if(d=on,g="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==u?a:Ge(u),m=null==c?a:Ge(c),(a=new d(g,h+"leave",u,n,r)).target=f,a.relatedTarget=m,g=null,He(r)===o&&((d=new d(p,h+"enter",c,n,r)).target=m,d.relatedTarget=f,g=d),f=g,u&&c)e:{for(p=c,h=0,m=d=u;m;m=Bc(m))h++;for(m=0,g=p;g;g=Bc(g))m++;for(;0<h-m;)d=Bc(d),h--;for(;0<m-h;)p=Bc(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Bc(d),p=Bc(p)}d=null}else d=null;null!==u&&Jc(l,a,u,d,!1),null!==c&&null!==f&&Jc(l,f,c,d,!0)}if("select"===(u=(a=o?Ge(o):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var y=qn;else if(Rn(a))if(Fn)y=Yn;else{y=Jn;var v=Bn}else!(u=a.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?o&&Ot(o.elementType)&&(y=qn):y=Wn;switch(y&&(y=y(e,o))?xn(l,y,n,r):(v&&v(e,a,o),"focusout"===e&&o&&"number"===a.type&&null!=o.memoizedProps.value&&vt(a,"number",a.value)),v=o?Ge(o):window,e){case"focusin":(Rn(v)||"true"===v.contentEditable)&&(oo=v,ro=o,io=null);break;case"focusout":io=ro=oo=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,ao(l,n,r);break;case"selectionchange":if(no)break;case"keydown":case"keyup":ao(l,n,r)}var b;if(Cn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Pn?kn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Pn&&(b=Vt()):(zt="value"in(Ht=r)?Ht.value:Ht.textContent,Pn=!0)),0<(v=Vc(o,S)).length&&(S=new un(S,e,null,n,r),l.push({event:S,listeners:v}),b?S.data=b:null!==(b=In(n))&&(S.data=b))),(b=wn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(An=!0,On);case"textInput":return(e=t.data)===On&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Cn&&kn(e,t)?(e=Vt(),Gt=zt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=Vc(o,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,r),l.push({event:v,listeners:S}),v.data=b)),function(e,t,n,o,r){if("submit"===t&&n&&n.stateNode===r){var i=Pc((r[xe]||null).action),l=o.submitter;l&&null!==(t=(t=l[xe]||null)?Pc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new Zt("action","action",null,o,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(0!==Ec){var e=l?Nc(r,l):new FormData(r);Nl(n,{pending:!0,data:e,method:r.method,action:i},null,e)}}else"function"===typeof i&&(a.preventDefault(),e=l?Nc(r,l):new FormData(r),Nl(n,{pending:!0,data:e,method:r.method,action:i},i,e))},currentTarget:r}]})}}(l,e,o,n,r)}Uc(l,t)})}function Gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vc(e,t){for(var n=t+"Capture",o=[];null!==e;){var r=e,i=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===i||(null!=(r=Lt(e,n))&&o.unshift(Gc(e,r,i)),null!=(r=Lt(e,t))&&o.push(Gc(e,r,i))),3===e.tag)return o;e=e.return}return[]}function Bc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Jc(e,t,n,o,r){for(var i=t._reactName,l=[];null!==n&&n!==o;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===o)break;5!==a&&26!==a&&27!==a||null===u||(s=u,r?null!=(u=Lt(n,i))&&l.unshift(Gc(n,u,s)):r||null!=(u=Lt(n,i))&&l.push(Gc(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Wc=/\r\n?/g,Yc=/\u0000|\uFFFD/g;function Kc(e){return("string"===typeof e?e:""+e).replace(Wc,"\n").replace(Yc,"")}function $c(e,t){return t=Kc(t),Kc(e)===t}function Qc(){}function Xc(e,t,n,o,r,i){switch(n){case"children":"string"===typeof o?"body"===t||"textarea"===t&&""===o||Ct(e,o):("number"===typeof o||"bigint"===typeof o)&&"body"!==t&&Ct(e,""+o);break;case"className":nt(e,"class",o);break;case"tabIndex":nt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,o);break;case"style":_t(e,o,i);break;case"data":if("object"!==t){nt(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"===typeof o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=It(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"===typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Xc(e,t,"name",r.name,r,null),Xc(e,t,"formEncType",r.formEncType,r,null),Xc(e,t,"formMethod",r.formMethod,r,null),Xc(e,t,"formTarget",r.formTarget,r,null)):(Xc(e,t,"encType",r.encType,r,null),Xc(e,t,"method",r.method,r,null),Xc(e,t,"target",r.target,r,null))),null==o||"symbol"===typeof o||"boolean"===typeof o){e.removeAttribute(n);break}o=It(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=Qc);break;case"onScroll":null!=o&&Lc("scroll",e);break;case"onScrollEnd":null!=o&&Lc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(l(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"muted":e.muted=o&&"function"!==typeof o&&"symbol"!==typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"===typeof o||"boolean"===typeof o||"symbol"===typeof o){e.removeAttribute("xlink:href");break}n=It(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!==typeof o&&"symbol"!==typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"===typeof o||"symbol"===typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":Lc("beforetoggle",e),Lc("toggle",e),tt(e,"popover",o);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=At.get(n)||n,o)}}function Zc(e,t,n,o,r,i){switch(n){case"style":_t(e,o,i);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!==typeof o||!("__html"in o))throw Error(l(61));if(null!=(n=o.__html)){if(null!=r.children)throw Error(l(60));e.innerHTML=n}}break;case"children":"string"===typeof o?Ct(e,o):("number"===typeof o||"bigint"===typeof o)&&Ct(e,""+o);break;case"onScroll":null!=o&&Lc("scroll",e);break;case"onScrollEnd":null!=o&&Lc("scrollend",e);break;case"onClick":null!=o&&(e.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(i=null!=(i=e[xe]||null)?i[n]:null)&&e.removeEventListener(t,i,r),"function"!==typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):tt(e,n,o):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lc("error",e),Lc("load",e);var o,r=!1,i=!1;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(null!=a)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xc(e,t,o,a,n,null)}}return i&&Xc(e,t,"srcSet",n.srcSet,n,null),void(r&&Xc(e,t,"src",n.src,n,null));case"input":Lc("invalid",e);var s=o=a=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(l(137,t));break;default:Xc(e,t,r,d,n,null)}}return yt(e,o,s,u,c,a,i,!1),void dt(e);case"select":for(i in Lc("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(i)&&null!=(s=n[i]))switch(i){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":r=s;default:Xc(e,t,i,s,n,null)}return t=o,n=a,e.multiple=!!r,void(null!=t?bt(e,!!r,t,!1):null!=n&&bt(e,!!r,n,!0));case"textarea":for(a in Lc("invalid",e),o=i=r=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":r=s;break;case"defaultValue":i=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(l(91));break;default:Xc(e,t,a,s,n,null)}return Et(e,r,i,o),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))if("selected"===u)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Xc(e,t,u,r,n,null);return;case"dialog":Lc("beforetoggle",e),Lc("toggle",e),Lc("cancel",e),Lc("close",e);break;case"iframe":case"object":Lc("load",e);break;case"video":case"audio":for(r=0;r<Mc.length;r++)Lc(Mc[r],e);break;case"image":Lc("error",e),Lc("load",e);break;case"details":Lc("toggle",e);break;case"embed":case"source":case"link":Lc("error",e),Lc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Xc(e,t,c,r,n,null)}return;default:if(Ot(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Zc(e,t,d,r,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(r=n[s])&&Xc(e,t,s,r,n,null))}var td=null,nd=null;function od(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var sd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(fd)}:sd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,o=0,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<o&&8>o){n=o;var l=e.ownerDocument;if(1&n&&Ed(l.documentElement),2&n&&Ed(l.body),4&n)for(Ed(n=l.head),l=n.firstChild;l;){var a=l.nextSibling,s=l.nodeName;l[Fe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===l.rel.toLowerCase()||n.removeChild(l),l=a}}if(0===r)return e.removeChild(i),void kf(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:o=n.charCodeAt(0)-48;else o=0;n=i}while(n);kf(t)}function hd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":hd(n),je(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=od(n),e){case"html":if(!(e=t.documentElement))throw Error(l(452));return e;case"head":if(!(e=t.head))throw Error(l(453));return e;case"body":if(!(e=t.body))throw Error(l(454));return e;default:throw Error(l(451))}}function Ed(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);je(e)}var Cd=new Map,Td=new Set;function wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=D.d;D.d={f:function(){var e=_d.f(),t=Hu();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?xl(t):_d.r(e)},D:function(e){_d.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Ad("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var o=Od;if(o&&e&&t){var r='link[rel="preload"][as="'+ht(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ht(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+ht(n.imageSizes)+'"]')):r+='[href="'+ht(e)+'"]';var i=r;switch(t){case"style":i=Id(e);break;case"script":i=Rd(e)}Cd.has(i)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Cd.set(i,e),null!==o.querySelector(r)||"style"===t&&o.querySelector(Pd(i))||"script"===t&&o.querySelector(xd(i))||(ed(t=o.createElement("link"),"link",e),Be(t),o.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Od;if(n&&e){var o=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+ht(o)+'"][href="'+ht(e)+'"]',i=r;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Rd(e)}if(!Cd.has(i)&&(e=f({rel:"modulepreload",href:e},t),Cd.set(i,e),null===n.querySelector(r))){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(xd(i)))return}ed(o=n.createElement("link"),"link",e),Be(o),n.head.appendChild(o)}}},X:function(e,t){_d.X(e,t);var n=Od;if(n&&e){var o=Ve(n).hoistableScripts,r=Rd(e),i=o.get(r);i||((i=n.querySelector(xd(r)))||(e=f({src:e,async:!0},t),(t=Cd.get(r))&&Ld(e,t),Be(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}},S:function(e,t,n){_d.S(e,t,n);var o=Od;if(o&&e){var r=Ve(o).hoistableStyles,i=Id(e);t=t||"default";var l=r.get(i);if(!l){var a={loading:0,preload:null};if(l=o.querySelector(Pd(i)))a.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Cd.get(i))&&Ud(e,n);var s=l=o.createElement("link");Be(s),ed(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Dd(l,t,o)}l={type:"stylesheet",instance:l,count:1,state:a},r.set(i,l)}}},M:function(e,t){_d.M(e,t);var n=Od;if(n&&e){var o=Ve(n).hoistableScripts,r=Rd(e),i=o.get(r);i||((i=n.querySelector(xd(r)))||(e=f({src:e,async:!0,type:"module"},t),(t=Cd.get(r))&&Ld(e,t),Be(i=n.createElement("script")),ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},o.set(r,i))}}};var Od="undefined"===typeof document?null:document;function Ad(e,t,n){var o=Od;if(o&&"string"===typeof t&&t){var r=ht(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Td.has(r)||(Td.add(r),e={rel:e,crossOrigin:n,href:t},null===o.querySelector(r)&&(ed(t=o.createElement("link"),"link",e),Be(t),o.head.appendChild(t)))}}function kd(e,t,n,o){var r,i,a,s,u=(u=V.current)?wd(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Id(n.href),(o=(n=Ve(u).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Id(n.href);var c=Ve(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Pd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Cd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cd.set(e,n),c||(r=u,i=e,a=n,s=d.state,r.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=r.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),ed(i,"link",a),Be(i),r.head.appendChild(i))))),t&&null===o)throw Error(l(528,""));return d}if(t&&null!==o)throw Error(l(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(n),(o=(n=Ve(u).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Id(e){return'href="'+ht(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Nd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+ht(e)+'"]'}function xd(e){return"script[async]"+e}function Md(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+ht(n.href)+'"]');if(o)return t.instance=o,Be(o),o;var r=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Be(o=(e.ownerDocument||e).createElement("style")),ed(o,"style",r),Dd(o,n.precedence,e),t.instance=o;case"stylesheet":r=Id(n.href);var i=e.querySelector(Pd(r));if(i)return t.state.loading|=4,t.instance=i,Be(i),i;o=Nd(n),(r=Cd.get(r))&&Ud(o,r),Be(i=(e.ownerDocument||e).createElement("link"));var a=i;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(i,"link",o),t.state.loading|=4,Dd(i,n.precedence,e),t.instance=i;case"script":return i=Rd(n.src),(r=e.querySelector(xd(i)))?(t.instance=r,Be(r),r):(o=n,(r=Cd.get(i))&&Ld(o=f({},n),r),Be(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",o),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(l(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,Dd(o,n.precedence,e));return t.instance}function Dd(e,t,n){for(var o=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=o.length?o[o.length-1]:null,i=r,l=0;l<o.length;l++){var a=o[l];if(a.dataset.precedence===t)i=a;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ud(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var qd=null;function Fd(e,t,n){if(null===qd){var o=new Map,r=qd=new Map;r.set(n,o)}else(o=(r=qd).get(n))||(o=new Map,r.set(n,o));if(o.has(e))return o;for(o.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[Fe]||i[Re]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=o.get(l);a?a.push(i):o.set(l,[i])}}return o}function jd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Hd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function Gd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Bd=null;function Jd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Bd=new Map,t.forEach(Wd,e),Bd=null,Vd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var n=Bd.get(e);if(n)var o=n.get(null);else{n=new Map,Bd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),o=l)}o&&n.set(null,o)}l=(r=t.instance).getAttribute("data-precedence"),(i=n.get(l)||o)===o&&n.set(null,r),n.set(l,r),this.count++,o=Vd.bind(this),r.addEventListener("load",o),r.addEventListener("error",o),i?i.parentNode.insertBefore(r,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:E,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Kd(e,t,n,o,r,i,l,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=o,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function $d(e,t,n,o,r,i,l,a,s,u,c,d){return e=new Kd(e,t,n,l,a,s,u,d),t=1,!0===i&&(t|=24),i=Lo(3,null,null,t),e.current=i,i.stateNode=e,(t=Mr()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:o,isDehydrated:n,cache:t},oi(i),e}function Qd(e){return e?e=Do:Do}function Xd(e,t,n,o,r,i){r=Qd(r),null===o.context?o.context=r:o.pendingContext=r,(o=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(o.callback=i),null!==(n=li(e,o,t))&&(Uu(n,0,t),ai(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tf(e){if(13===e.tag){var t=Ro(e,67108864);null!==t&&Uu(t,0,67108864),ef(e,67108864)}}var nf=!0;function of(e,t,n,o){var r=M.T;M.T=null;var i=D.p;try{D.p=2,lf(e,t,n,o)}finally{D.p=i,M.T=r}}function rf(e,t,n,o){var r=M.T;M.T=null;var i=D.p;try{D.p=8,lf(e,t,n,o)}finally{D.p=i,M.T=r}}function lf(e,t,n,o){if(nf){var r=af(o);if(null===r)zc(e,t,o,sf,n),bf(e,o);else if(function(e,t,n,o,r){switch(t){case"focusin":return ff=Sf(ff,e,t,n,o,r),!0;case"dragenter":return pf=Sf(pf,e,t,n,o,r),!0;case"mouseover":return mf=Sf(mf,e,t,n,o,r),!0;case"pointerover":var i=r.pointerId;return hf.set(i,Sf(hf.get(i)||null,e,t,n,o,r)),!0;case"gotpointercapture":return i=r.pointerId,gf.set(i,Sf(gf.get(i)||null,e,t,n,o,r)),!0}return!1}(r,e,t,n,o))o.stopPropagation();else if(bf(e,o),4&t&&-1<vf.indexOf(e)){for(;null!==r;){var i=ze(r);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=ve(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-pe(l);a.entanglements[1]|=s,l&=~s}Cc(i),0===(6&nu)&&(Cu=te()+500,Tc(0,!1))}}break;case 13:null!==(a=Ro(i,2))&&Uu(a,0,2),Hu(),ef(i,2)}if(null===(i=af(o))&&zc(e,t,o,sf,n),i===r)break;r=i}null!==r&&o.stopPropagation()}else zc(e,t,o,null,n)}}function af(e){return uf(e=Nt(e))}var sf=null;function uf(e){if(sf=null,null!==(e=He(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sf=e,null}function cf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case oe:return 2;case re:return 8;case ie:case le:return 32;case ae:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,pf=null,mf=null,hf=new Map,gf=new Map,yf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":pf=null;break;case"mouseover":case"mouseout":mf=null;break;case"pointerover":case"pointerout":hf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function Sf(e,t,n,o,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=ze(t))&&tf(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Ef(e){var t=He(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Mu();e=ke(e);var t=Ro(n,e);null!==t&&Uu(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Cf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=af(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&tf(t),e.blockedOn=n,!1;var o=new(n=e.nativeEvent).constructor(n.type,n);Pt=o,n.target.dispatchEvent(o),Pt=null,t.shift()}return!0}function Tf(e,t,n){Cf(e)&&n.delete(t)}function wf(){df=!1,null!==ff&&Cf(ff)&&(ff=null),null!==pf&&Cf(pf)&&(pf=null),null!==mf&&Cf(mf)&&(mf=null),hf.forEach(Tf),gf.forEach(Tf)}function _f(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wf)))}var Of=null;function Af(e){Of!==e&&(Of=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Of===e&&(Of=null);for(var t=0;t<e.length;t+=3){var n=e[t],o=e[t+1],r=e[t+2];if("function"!==typeof o){if(null===uf(o||n))continue;break}var i=ze(n);null!==i&&(e.splice(t,3),t-=3,Nl(i,{pending:!0,data:r,method:n.method,action:o},o,r))}}))}function kf(e){function t(t){return _f(t,e)}null!==ff&&_f(ff,e),null!==pf&&_f(pf,e),null!==mf&&_f(mf,e),hf.forEach(t),gf.forEach(t);for(var n=0;n<yf.length;n++){var o=yf[n];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yf.length&&null===(n=yf[0]).blockedOn;)Ef(n),null===n.blockedOn&&yf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(o=0;o<n.length;o+=3){var r=n[o],i=n[o+1],l=r[xe]||null;if("function"===typeof i)l||Af(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[xe]||null)a=l.formAction;else if(null!==uf(r))continue}else a=l.action;"function"===typeof a?n[o+1]=a:(n.splice(o,3),o-=3),Af(n)}}}function If(e){this._internalRoot=e}function Pf(e){this._internalRoot=e}Pf.prototype.render=If.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Xd(t.current,Mu(),e,t,null,null)},Pf.prototype.unmount=If.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Hu(),t[Me]=null}},Pf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<yf.length&&0!==t&&t<yf[n].priority;n++);yf.splice(n,0,e),0===n&&Ef(e)}};var Nf=r.version;if("19.1.1"!==Nf)throw Error(l(527,Nf,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(l(188));throw e=Object.keys(e).join(","),Error(l(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,o=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(o=r.return)){n=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return c(r),e;if(i===o)return c(r),t;i=i.sibling}throw Error(l(188))}if(n.return!==o.return)n=r,o=i;else{for(var a=!1,u=r.child;u;){if(u===n){a=!0,n=r,o=i;break}if(u===o){a=!0,o=r,n=i;break}u=u.sibling}if(!a){for(u=i.child;u;){if(u===n){a=!0,n=i,o=r;break}if(u===o){a=!0,o=i,n=r;break}u=u.sibling}if(!a)throw Error(l(189))}}if(n.alternate!==o)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Rf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{ce=xf.inject(Rf),de=xf}catch(Df){}}t.createRoot=function(e,t){if(!a(e))throw Error(l(299));var n=!1,o="",r=va,i=ba,s=Sa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,o,r,i,s,0,null),e[Me]=t.current,jc(e),new If(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(l(299));var o=!1,r="",i=va,s=ba,u=Sa,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=$d(e,1,!0,t,0,o,r,i,s,u,0,c)).context=Qd(null),n=t.current,(r=ii(o=ke(o=Mu()))).callback=null,li(n,r,o),n=o,t.current.lanes=n,_e(t,n),Cc(t),e[Me]=t.current,jc(e),new Pf(t)},t.version="19.1.1"},29:function(e,t,n){var o;o=function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var o=n("react"),r=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),i=function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},l=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};function a(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise(function(n,o){t.call(navigator,e,n,o)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var s=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,a()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(a()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),o=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),r=e.minScreenshotWidth!==t.minScreenshotWidth,i=e.minScreenshotHeight!==t.minScreenshotHeight;(o||r||i)&&(this.canvas=null,this.ctx=null),(n||o)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var o=this.getCanvas(e);return o&&o.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var o=this.video.videoWidth,r=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=o/r;r=(o=n.minScreenshotWidth||this.video.clientWidth)/i,n.minScreenshotHeight&&r<n.minScreenshotHeight&&(o=(r=n.minScreenshotHeight)*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||o,this.canvas.height=(null===e||void 0===e?void 0:e.height)||r,this.ctx=this.canvas.getContext("2d")}var l=this.ctx,a=this.canvas;return l&&a&&(a.width=(null===e||void 0===e?void 0:e.width)||a.width,a.height=(null===e||void 0===e?void 0:e.height)||a.height,n.mirrored&&(l.translate(a.width,0),l.scale(-1,1)),l.imageSmoothingEnabled=n.imageSmoothing,l.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||a.width,(null===e||void 0===e?void 0:e.height)||a.height),n.mirrored&&(l.scale(-1,1),l.translate(-a.width,0))),a},t.prototype.requestUserMedia=function(){var e=this,n=this.props,o=function(o,r){var i={video:"undefined"===typeof r||r};n.audio&&(i.audio="undefined"===typeof o||o),e.requestUserMediaId++;var l=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(i).then(function(n){e.unmounted||l!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)}).catch(function(t){e.handleUserMedia(t)})};if("mediaDevices"in navigator)o(n.audioConstraints,n.videoConstraints);else{var r=function(e){return{optional:[{sourceId:e}]}},i=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources(function(e){var t=null,l=null;e.forEach(function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(l=e.id)});var a=i(n.audioConstraints);a&&(t=a);var s=i(n.videoConstraints);s&&(l=s),o(r(t),r(l))})}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(o){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,r=n.audio,a=(n.forceScreenshotSourceSize,n.disablePictureInPicture),s=(n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,d=n.children,f=l(n,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),p=s?i(i({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,m={getScreenshot:this.getScreenshot.bind(this)};return o.createElement(o.Fragment,null,o.createElement("video",i({autoPlay:!0,disablePictureInPicture:a,src:t.src,muted:!r,playsInline:!0,ref:function(t){e.video=t},style:p},f)),d&&d(m))},t.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(o.Component);t.default=s},react:function(t,n){t.exports=e}}).default},e.exports=o(n(43))},43:(e,t,n)=>{"use strict";e.exports=n(288)},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var S=b.prototype=new v;S.constructor=b,h(S,y.prototype),S.isPureReactComponent=!0;var E=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function w(e,t,o,r,i,l){return o=l.ref,{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:l}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(){}function I(e,t,r,i,l){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s,u,c=!1;if(null===e)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case o:c=!0;break;case f:return I((c=e._init)(e._payload),t,r,i,l)}}if(c)return l=l(e),c=""===i?"."+A(e,0):i,E(l)?(r="",null!=c&&(r=c.replace(O,"$&/")+"/"),I(l,t,r,"",function(e){return e})):null!=l&&(_(l)&&(s=l,u=r+(null==l.key||e&&e.key===l.key?"":(""+l.key).replace(O,"$&/")+"/")+c,l=w(s.type,u,void 0,0,0,s.props)),t.push(l)),1;c=0;var d,m=""===i?".":i+":";if(E(e))for(var h=0;h<e.length;h++)c+=I(i=e[h],t,r,a=m+A(i,h),l);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(i=e.next()).done;)c+=I(i=i.value,t,r,a=m+A(i,h++),l);else if("object"===a){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var o=[],r=0;return I(e,o,"","",function(e){return t.call(n,e,r++)}),o}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function x(){}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=l,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return C.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var o=h({},e.props),r=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!T.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(o[i]=t[i]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var l=Array(i),a=0;a<i;a++)l[a]=arguments[a+2];o.children=l}return w(e.type,r,void 0,0,0,o)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var o,r={},i=null;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)T.call(t,o)&&"key"!==o&&"__self"!==o&&"__source"!==o&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];r.children=a}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return w(e,i,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=C.T,n={};C.T=n;try{var o=e(),r=C.S;null!==r&&r(n,o),"object"===typeof o&&null!==o&&"function"===typeof o.then&&o.then(x,R)}catch(i){R(i)}finally{C.T=t}},t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},t.use=function(e){return C.H.use(e)},t.useActionState=function(e,t,n){return C.H.useActionState(e,t,n)},t.useCallback=function(e,t){return C.H.useCallback(e,t)},t.useContext=function(e){return C.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return C.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var o=C.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return o.useEffect(e,t)},t.useId=function(){return C.H.useId()},t.useImperativeHandle=function(e,t,n){return C.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.H.useMemo(e,t)},t.useOptimistic=function(e,t){return C.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return C.H.useReducer(e,t,n)},t.useRef=function(e){return C.H.useRef(e)},t.useState=function(e){return C.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var o=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");var s=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==o?null:""+o,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=l.p;try{if(s.T=null,l.p=2,e)return e()}finally{s.T=t,l.p=n,l.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,l.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&l.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,o=u(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?l.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:r,fetchPriority:i}):"script"===n&&l.d.X(e,{crossOrigin:o,integrity:r,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);l.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&l.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,o=u(n,t.crossOrigin);l.d.L(e,n,{crossOrigin:o,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);l.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else l.d.m(e)},t.requestFormReset=function(e){l.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function o(e,t,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==t.key&&(r=""+t.key),"key"in t)for(var i in o={},t)"key"!==i&&(o[i]=t[i]);else o=t;return t=o.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:o}}Symbol.for("react.fragment"),t.jsx=o,t.jsxs=o},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var o=n-1>>>1,r=e[o];if(!(0<i(r,t)))break e;e[o]=t,e[n]=r,n=o}}function o(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,r=e.length,l=r>>>1;o<l;){var a=2*(o+1)-1,s=e[a],u=a+1,c=e[u];if(0>i(s,n))u<r&&0>i(c,s)?(e[o]=c,e[u]=n,o=u):(e[o]=s,e[a]=n,o=a);else{if(!(u<r&&0>i(c,n)))break e;e[o]=c,e[u]=n,o=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var u=[],c=[],d=1,f=null,p=3,m=!1,h=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=o(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=o(c)}}function C(e){if(g=!1,E(e),!h)if(null!==o(u))h=!0,w||(w=!0,T());else{var t=o(c);null!==t&&R(C,t.startTime-e)}}var T,w=!1,_=-1,O=5,A=-1;function k(){return!!y||!(t.unstable_now()-A<O)}function I(){if(y=!1,w){var e=t.unstable_now();A=e;var n=!0;try{e:{h=!1,g&&(g=!1,b(_),_=-1),m=!0;var i=p;try{t:{for(E(e),f=o(u);null!==f&&!(f.expirationTime>e&&k());){var l=f.callback;if("function"===typeof l){f.callback=null,p=f.priorityLevel;var a=l(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){f.callback=a,E(e),n=!0;break t}f===o(u)&&r(u),E(e)}else r(u);f=o(u)}if(null!==f)n=!0;else{var s=o(c);null!==s&&R(C,s.startTime-e),n=!1}}break e}finally{f=null,p=i,m=!1}n=void 0}}finally{n?T():w=!1}}}if("function"===typeof S)T=function(){S(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,N=P.port2;P.port1.onmessage=I,T=function(){N.postMessage(null)}}else T=function(){v(I,0)};function R(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,i){var l=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?l+i:l:i=l,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(e.sortIndex=i,n(c,e),null===o(u)&&e===o(c)&&(g?(b(_),_=-1):g=!0,R(C,i-l))):(e.sortIndex=a,n(u,e),h||m||(h=!0,w||(w=!0,T()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(43),t=n(391);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function i(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=n(29),u=n.n(s);let c,d;function f(e,t,n,o){var r,i;if(!(null===e||void 0===e?void 0:e.baseUrl)){const e={geminiUrl:c,vertexUrl:d};return t?null!==(r=e.vertexUrl)&&void 0!==r?r:n:null!==(i=e.geminiUrl)&&void 0!==i?i:o}return e.baseUrl}class p{}function m(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error("Key '".concat(n,"' not found in valueMap."))})}function h(e,t,n){for(let i=0;i<t.length-1;i++){const o=t[i];if(o.endsWith("[]")){const r=o.slice(0,-2);if(!(r in e)){if(!Array.isArray(n))throw new Error("Value must be a list given an array path ".concat(o));e[r]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[r])){const o=e[r];if(Array.isArray(n))for(let e=0;e<o.length;e++){h(o[e],t.slice(i+1),n[e])}else for(const e of o)h(e,t.slice(i+1),n)}return}if(o.endsWith("[0]")){const r=o.slice(0,-3);r in e||(e[r]=[{}]);return void h(e[r][0],t.slice(i+1),n)}e[o]&&"object"===typeof e[o]||(e[o]={}),e=e[o]}const o=t[t.length-1],r=e[o];if(void 0!==r){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===r)return;if("object"!==typeof r||"object"!==typeof n||null===r||null===n)throw new Error("Cannot set value for an existing key. Key: ".concat(o));Object.assign(r,n)}else if("_self"!==o||"object"!==typeof n||null===n||Array.isArray(n))e[o]=n;else{const t=n;Object.assign(e,t)}}function g(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const o=t[n];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in e){const o=e[r];if(!Array.isArray(o))return;return o.map(e=>g(e,t.slice(n+1)))}return}e=e[o]}return e}catch(n){if(n instanceof TypeError)return;throw n}}function y(e){if("string"!==typeof e)throw new Error("fromImageBytes must be a string");return e}function v(e){const t={},n=g(e,["_self"]);return null!=n&&h(t,["video"],function(e){const t={},n=g(e,["video","uri"]);null!=n&&h(t,["uri"],n);const o=g(e,["video","encodedVideo"]);null!=o&&h(t,["videoBytes"],y(o));const r=g(e,["encoding"]);return null!=r&&h(t,["mimeType"],r),t}(n)),t}function b(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["metadata"]);null!=o&&h(t,["metadata"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);null!=i&&h(t,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&h(t,["response"],function(e){const t={},n=g(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>v(e))),h(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(t,["raiMediaFilteredReasons"],r),t}(l)),t}function S(e){const t={},n=g(e,["_self"]);return null!=n&&h(t,["video"],function(e){const t={},n=g(e,["gcsUri"]);null!=n&&h(t,["uri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(t,["videoBytes"],y(o));const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(n)),t}function E(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["metadata"]);null!=o&&h(t,["metadata"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);null!=i&&h(t,["error"],i);const l=g(e,["response"]);return null!=l&&h(t,["response"],function(e){const t={},n=g(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>S(e))),h(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(t,["raiMediaFilteredReasons"],r),t}(l)),t}var C,T,w,_,O,A,k,I,P,N,R,x,M,D,U,L,q,F,j,H,z,G,V,B,J,W,Y,K,$,Q,X,Z,ee,te,ne,oe,re,ie,le,ae,se,ue,ce,de,fe,pe,me,he,ge;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(C||(C={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(T||(T={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(w||(w={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"}(_||(_={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(O||(O={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(A||(A={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(k||(k={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(I||(I={})),function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"}(P||(P={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"}(N||(N={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(R||(R={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(x||(x={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(M||(M={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY"}(D||(D={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(U||(U={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(L||(L={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(q||(q={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(F||(F={})),function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"}(j||(j={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(H||(H={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(z||(z={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(G||(G={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(V||(V={})),function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"}(B||(B={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"}(J||(J={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(W||(W={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Y||(Y={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"}(K||(K={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}($||($={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Q||(Q={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(X||(X={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Z||(Z={})),function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"}(ee||(ee={})),function(e){e.ASSET="ASSET",e.STYLE="STYLE"}(te||(te={})),function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"}(ne||(ne={})),function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"}(oe||(oe={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(re||(re={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(ie||(ie={})),function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"}(le||(le={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(ae||(ae={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(se||(se={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(ue||(ue={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(ce||(ce={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(de||(de={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(fe||(fe={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(pe||(pe={})),function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"}(me||(me={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(he||(he={}));class ye{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class ve{get text(){var e,t,n,o,r,i,l,a;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length>0&&console.warn("there are non-text parts ".concat(c," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),u?s:void 0}get data(){var e,t,n,o,r,i,l,a;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length>0&&console.warn("there are non-data parts ".concat(u," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,o,r,i,l,a;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const s=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null===s||void 0===s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,o,r,i,l,a,s;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,o,r,i,l,a,s;if(0===(null===(o=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===o?void 0:o.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(l=null===(i=null===(r=this.candidates)||void 0===r?void 0:r[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null===u||void 0===u?void 0:u.length)?null===(s=null===u||void 0===u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class be{}class Se{}class Ee{}class Ce{}class Te{}class we{}class _e{}class Oe{}class Ae{}class ke{}class Ie{_fromAPIResponse(e){let{apiResponse:t,isVertexAI:n}=e;const o=new Ie;let r;const i=t;return r=n?E(i):b(i),Object.assign(o,r),o}}class Pe{}class Ne{}class Re{}class xe{}class Me{}class De{}class Ue{}class Le{get text(){var e,t,n;let o="",r=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof l.text){if("boolean"===typeof l.thought&&l.thought)continue;r=!0,o+=l.text}}return i.length>0&&console.warn("there are non-text parts ".concat(i," in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.")),r?o:void 0}get data(){var e,t,n;let o="";const r=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&r.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(o+=atob(i.inlineData.data))}return r.length>0&&console.warn("there are non-data parts ".concat(r," in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.")),o.length>0?btoa(o):void 0}}class qe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function Fe(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return"publishers/".concat(e[0],"/models/").concat(e[1])}return"publishers/google/models/".concat(t)}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:"models/".concat(t)}function je(e,t){const n=Fe(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n):n.startsWith("models/")&&e.isVertexAI()?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/publishers/google/").concat(n):n:""}function He(e){return Array.isArray(e)?e.map(e=>ze(e)):[ze(e)]}function ze(e){if("object"===typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: ".concat(typeof e))}function Ge(e){const t=ze(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function Ve(e){const t=ze(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error("Unsupported mime type: ".concat(t.mimeType))}function Be(e){if(null===e||void 0===e)throw new Error("PartUnion is required");if("object"===typeof e)return e;if("string"===typeof e)return{text:e};throw new Error("Unsupported part type: ".concat(typeof e))}function Je(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>Be(e)):[Be(e)]}function We(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function Ye(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function Ke(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function $e(e){if(null===e||void 0===e)throw new Error("ContentUnion is required");return We(e)?e:{role:"user",parts:Je(e)}}function Qe(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=$e(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=$e(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>$e(e)):[$e(t)]}function Xe(e){if(null===e||void 0===e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Ye(e)||Ke(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$e(e)]}const t=[],n=[],o=We(e[0]);for(const r of e){const e=We(r);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(r);else{if(Ye(r)||Ke(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||t.push({role:"user",parts:Je(n)}),t}function Ze(e){const t={},n=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(w).includes(n[0].toUpperCase())?n[0].toUpperCase():w.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(w).includes(e.toUpperCase())?e.toUpperCase():w.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(w).includes(a.toUpperCase())?a.toUpperCase():w.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Ze(a);else if(o.includes(l)){const e=[];for(const n of a)"null"!=n.type?e.push(Ze(n)):t.nullable=!0;t[l]=e}else if(r.includes(l)){const e={};for(const[t,n]of Object.entries(a))e[t]=Ze(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=a}return t}function et(e){return Ze(e)}function tt(e){if("object"===typeof e)return e;if("string"===typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: ".concat(typeof e))}function nt(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function ot(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ze(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ze(t.response));return e}function rt(e){if(void 0===e||null===e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function it(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=!t.startsWith("".concat(n,"/"))&&t.split("/").length===o;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?"projects/".concat(e.getProject(),"/").concat(t):t.startsWith("".concat(n,"/"))?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(t):r?"projects/".concat(e.getProject(),"/locations/").concat(e.getLocation(),"/").concat(n,"/").concat(t):t:r?"".concat(n,"/").concat(t):t}(e,t,"cachedContents")}function lt(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function at(e){return y(e)}function st(e){var t;let n;var o;if(null!==(o=e)&&void 0!==o&&"object"===typeof o&&"name"in o&&(n=e.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(e)||(n=e.uri,void 0!==n))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(e)||(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0!==n))){if("string"===typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error("Could not extract file name from URI ".concat(n));n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ut(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function ct(e){for(const t of["models","tunedModels","publisherModels"])if(dt(e,t))return e[t];return[]}function dt(e,t){return null!==e&&"object"===typeof e&&t in e}function ft(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(o.responseJsonSchema=n.outputSchema),t.behavior&&(o.behavior=t.behavior);return{functionDeclarations:[o]}}function pt(e,t){let n;if("string"===typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error("Unsupported string source for Vertex AI: ".concat(t));n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error("Unsupported string source for Gemini API: ".concat(t));n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||1!==o)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||1!==r)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function mt(e){if("object"!==typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!==typeof n||null===n)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||0===o.length)return e;let r=!1;for(const i of o){if("object"!==typeof i||null===i)continue;const e=i.response;if("object"!==typeof e||null===e)continue;if(void 0!==e.embedding){r=!0;break}}return r&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ht(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error("Invalid batch job name: ".concat(n,"."))}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error("Invalid batch job name: ".concat(n,"."))}function gt(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":e}function yt(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function vt(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>yt(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}function bt(e){const t={},n=g(e,["timeRangeFilter"]);if(null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function St(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function Et(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["behavior"]);null!=n&&h(t,["behavior"],n);const o=g(e,["description"]);null!=o&&h(t,["description"],o);const r=g(e,["name"]);null!=r&&h(t,["name"],r);const i=g(e,["parameters"]);null!=i&&h(t,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(t,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(t,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(t,["responseJsonSchema"],s),t}(e))),h(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(t,["googleSearch"],bt(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(t,["googleSearchRetrieval"],St(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(i));const l=g(e,["codeExecution"]);return null!=l&&h(t,["codeExecution"],l),t}function Ct(e){const t={},n=g(e,["latLng"]);null!=n&&h(t,["latLng"],function(e){const t={},n=g(e,["latitude"]);null!=n&&h(t,["latitude"],n);const o=g(e,["longitude"]);return null!=o&&h(t,["longitude"],o),t}(n));const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}function Tt(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&h(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(t,["allowedFunctionNames"],o),t}(n));const o=g(e,["retrievalConfig"]);return null!=o&&h(t,["retrievalConfig"],Ct(o)),t}function wt(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function _t(e){const t={},n=g(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["speaker"]);null!=n&&h(t,["speaker"],n);const o=g(e,["voiceConfig"]);return null!=o&&h(t,["voiceConfig"],wt(o)),t}(e))),h(t,["speakerVoiceConfigs"],e)}return t}function Ot(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&h(n,["systemInstruction"],vt($e(r)));const i=g(t,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&h(o,["topP"],l);const a=g(t,["topK"]);null!=a&&h(o,["topK"],a);const s=g(t,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(t,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const f=g(t,["logprobs"]);null!=f&&h(o,["logprobs"],f);const p=g(t,["presencePenalty"]);null!=p&&h(o,["presencePenalty"],p);const m=g(t,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(t,["seed"]);null!=y&&h(o,["seed"],y);const v=g(t,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(t,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const t={},n=g(e,["anyOf"]);null!=n&&h(t,["anyOf"],n);const o=g(e,["default"]);null!=o&&h(t,["default"],o);const r=g(e,["description"]);null!=r&&h(t,["description"],r);const i=g(e,["enum"]);null!=i&&h(t,["enum"],i);const l=g(e,["example"]);null!=l&&h(t,["example"],l);const a=g(e,["format"]);null!=a&&h(t,["format"],a);const s=g(e,["items"]);null!=s&&h(t,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(t,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(t,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(t,["maxProperties"],d);const f=g(e,["maximum"]);null!=f&&h(t,["maximum"],f);const p=g(e,["minItems"]);null!=p&&h(t,["minItems"],p);const m=g(e,["minLength"]);null!=m&&h(t,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(t,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(t,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(t,["nullable"],b);const S=g(e,["pattern"]);null!=S&&h(t,["pattern"],S);const E=g(e,["properties"]);null!=E&&h(t,["properties"],E);const C=g(e,["propertyOrdering"]);null!=C&&h(t,["propertyOrdering"],C);const T=g(e,["required"]);null!=T&&h(t,["required"],T);const w=g(e,["title"]);null!=w&&h(t,["title"],w);const _=g(e,["type"]);return null!=_&&h(t,["type"],_),t}(et(b)));const S=g(t,["responseJsonSchema"]);if(null!=S&&h(o,["responseJsonSchema"],S),void 0!==g(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=g(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=g(e,["category"]);null!=n&&h(t,["category"],n);const o=g(e,["threshold"]);return null!=o&&h(t,["threshold"],o),t}(e))),h(n,["safetySettings"],e)}const C=g(t,["tools"]);if(void 0!==n&&null!=C){let e=rt(C);Array.isArray(e)&&(e=e.map(e=>Et(ot(e)))),h(n,["tools"],e)}const T=g(t,["toolConfig"]);if(void 0!==n&&null!=T&&h(n,["toolConfig"],Tt(T)),void 0!==g(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["cachedContent"]);void 0!==n&&null!=w&&h(n,["cachedContent"],it(e,w));const _=g(t,["responseModalities"]);null!=_&&h(o,["responseModalities"],_);const O=g(t,["mediaResolution"]);null!=O&&h(o,["mediaResolution"],O);const A=g(t,["speechConfig"]);if(null!=A&&h(o,["speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);null!=n&&h(t,["voiceConfig"],wt(n));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(t,["multiSpeakerVoiceConfig"],_t(o));const r=g(e,["languageCode"]);return null!=r&&h(t,["languageCode"],r),t}(tt(A))),void 0!==g(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=g(t,["thinkingConfig"]);return null!=k&&h(o,["thinkingConfig"],function(e){const t={},n=g(e,["includeThoughts"]);null!=n&&h(t,["includeThoughts"],n);const o=g(e,["thinkingBudget"]);return null!=o&&h(t,["thinkingBudget"],o),t}(k)),o}function At(e,t){const n={};if(void 0!==g(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==g(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=g(t,["fileName"]);null!=o&&h(n,["fileName"],o);const r=g(t,["inlinedRequests"]);if(null!=r){let t=r;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["request","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>vt(e))),h(n,["request","contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["request","generationConfig"],Ot(e,i,n)),n}(e,t))),h(n,["requests","requests"],t)}return n}function kt(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["src"]);null!=r&&h(n,["batch","inputConfig"],At(e,pt(e,r)));const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["displayName"]);if(void 0!==t&&null!=n&&h(t,["batch","displayName"],n),void 0!==g(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.");return{}}(i,n)),n}function It(e,t){const n={},o=g(t,["contents"]);null!=o&&h(n,["requests[]","request","content"],Qe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["taskType"]);void 0!==t&&null!=n&&h(t,["requests[]","taskType"],n);const o=g(e,["title"]);void 0!==t&&null!=o&&h(t,["requests[]","title"],o);const r=g(e,["outputDimensionality"]);if(void 0!==t&&null!=r&&h(t,["requests[]","outputDimensionality"],r),void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(r,n)),n}function Pt(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["src"]);null!=r&&h(n,["batch","inputConfig"],function(e,t){const n={},o=g(t,["fileName"]);null!=o&&h(n,["file_name"],o);const r=g(t,["inlinedRequests"]);return null!=r&&h(n,["requests"],It(e,r)),n}(e,r));const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["displayName"]);return void 0!==t&&null!=n&&h(t,["batch","displayName"],n),{}}(i,n)),n}function Nt(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);if(void 0!==t&&null!=o&&h(t,["_query","pageToken"],o),void 0!==g(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.");return{}}(n,t)),t}function Rt(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&h(t,["displayName"],n);const o=g(e,["dest"]);return void 0!==t&&null!=o&&h(t,["outputConfig"],function(e){const t={},n=g(e,["format"]);null!=n&&h(t,["predictionsFormat"],n);const o=g(e,["gcsUri"]);null!=o&&h(t,["gcsDestination","outputUriPrefix"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&h(t,["bigqueryDestination","outputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!==typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error("Unsupported destination: ".concat(t))}(o))),{}}function xt(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["model"],Fe(e,o));const r=g(t,["src"]);null!=r&&h(n,["inputConfig"],function(e){const t={},n=g(e,["format"]);null!=n&&h(t,["instancesFormat"],n);const o=g(e,["gcsUri"]);null!=o&&h(t,["gcsSource","uris"],o);const r=g(e,["bigqueryUri"]);if(null!=r&&h(t,["bigquerySource","inputUri"],r),void 0!==g(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==g(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(pt(e,r)));const i=g(t,["config"]);return null!=i&&h(n,["config"],Rt(i,n)),n}function Mt(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&h(t,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==t&&null!=r&&h(t,["_query","filter"],r),{}}(n,t)),t}function Dt(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Ut(e){const t={},n=g(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["retrievedUrl"]);null!=n&&h(t,["retrievedUrl"],n);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(t,["urlRetrievalStatus"],o),t}(e))),h(t,["urlMetadata"],e)}return t}function Lt(e){const t={},n=g(e,["content"]);null!=n&&h(t,["content"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Dt(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}(n));const o=g(e,["citationMetadata"]);null!=o&&h(t,["citationMetadata"],function(e){const t={},n=g(e,["citationSources"]);return null!=n&&h(t,["citations"],n),t}(o));const r=g(e,["tokenCount"]);null!=r&&h(t,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&h(t,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(t,["urlContextMetadata"],Ut(l));const a=g(e,["avgLogprobs"]);null!=a&&h(t,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(t,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(t,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(t,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(t,["safetyRatings"],d),t}function qt(e){const t={},n=g(e,["details"]);null!=n&&h(t,["details"],n);const o=g(e,["code"]);null!=o&&h(t,["code"],o);const r=g(e,["message"]);return null!=r&&h(t,["message"],r),t}function Ft(e){const t={},n=g(e,["response"]);null!=n&&h(t,["response"],function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Lt(e))),h(t,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&h(t,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&h(t,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&h(t,["responseId"],l);const a=g(e,["usageMetadata"]);return null!=a&&h(t,["usageMetadata"],a),t}(n));const o=g(e,["error"]);return null!=o&&h(t,["error"],qt(o)),t}function jt(e){const t={},n=g(e,["embedding"]);null!=n&&h(t,["embedding"],function(e){const t={},n=g(e,["values"]);return null!=n&&h(t,["values"],n),t}(n));const o=g(e,["tokenCount"]);return null!=o&&h(t,["tokenCount"],o),t}function Ht(e){const t={},n=g(e,["responsesFile"]);null!=n&&h(t,["fileName"],n);const o=g(e,["inlinedResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Ft(e))),h(t,["inlinedResponses"],e)}const r=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["response"]);null!=n&&h(t,["response"],jt(n));const o=g(e,["error"]);return null!=o&&h(t,["error"],qt(o)),t}(e))),h(t,["inlinedEmbedContentResponses"],e)}return t}function zt(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["metadata","displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["metadata","state"]);null!=r&&h(t,["state"],gt(r));const i=g(e,["metadata","createTime"]);null!=i&&h(t,["createTime"],i);const l=g(e,["metadata","endTime"]);null!=l&&h(t,["endTime"],l);const a=g(e,["metadata","updateTime"]);null!=a&&h(t,["updateTime"],a);const s=g(e,["metadata","model"]);null!=s&&h(t,["model"],s);const u=g(e,["metadata","output"]);return null!=u&&h(t,["dest"],Ht(mt(u))),t}function Gt(e){const t={},n=g(e,["details"]);null!=n&&h(t,["details"],n);const o=g(e,["code"]);null!=o&&h(t,["code"],o);const r=g(e,["message"]);return null!=r&&h(t,["message"],r),t}function Vt(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["state"]);null!=r&&h(t,["state"],gt(r));const i=g(e,["error"]);null!=i&&h(t,["error"],Gt(i));const l=g(e,["createTime"]);null!=l&&h(t,["createTime"],l);const a=g(e,["startTime"]);null!=a&&h(t,["startTime"],a);const s=g(e,["endTime"]);null!=s&&h(t,["endTime"],s);const u=g(e,["updateTime"]);null!=u&&h(t,["updateTime"],u);const c=g(e,["model"]);null!=c&&h(t,["model"],c);const d=g(e,["inputConfig"]);null!=d&&h(t,["src"],function(e){const t={},n=g(e,["instancesFormat"]);null!=n&&h(t,["format"],n);const o=g(e,["gcsSource","uris"]);null!=o&&h(t,["gcsUri"],o);const r=g(e,["bigquerySource","inputUri"]);return null!=r&&h(t,["bigqueryUri"],r),t}(d));const f=g(e,["outputConfig"]);return null!=f&&h(t,["dest"],function(e){const t={},n=g(e,["predictionsFormat"]);null!=n&&h(t,["format"],n);const o=g(e,["gcsDestination","outputUriPrefix"]);null!=o&&h(t,["gcsUri"],o);const r=g(e,["bigqueryDestination","outputUri"]);return null!=r&&h(t,["bigqueryUri"],r),t}(mt(f))),t}!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(ge||(ge={}));class Bt{constructor(e,t,n,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,o)}init(e,t,n){var o,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null===t||void 0===t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(r=null===(o=i.config)||void 0===o?void 0:o.pageSize)&&void 0!==r?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class Jt extends p{constructor(e){var t;super(),t=this,this.apiClient=e,this.create=async e=>{var t,n;if(this.apiClient.isVertexAI())return e.config=this.formatDestination(e.src,e.config),this.createInternal(e);const o=e.src;if(!(Array.isArray(e.src)||void 0!==o.inlinedRequests))return this.createInternal(e);const r=this.createInlinedGenerateContentRequest(e),i=r.path,l=r.body,a=kt(this.apiClient,e)._query||{};return this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()).then(e=>zt(e))},this.createEmbeddings=async e=>{var t,n;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(void 0!==e.src.inlinedRequests))return this.createEmbeddingsInternal(e);const o=this.createInlinedEmbedContentRequest(e),r=o.path,i=o.body,l=Pt(this.apiClient,e)._query||{};return this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(i),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()).then(e=>zt(e))},this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(ge.PAGED_ITEM_BATCH_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)}}createInlinedGenerateContentRequest(e){const t=kt(this.apiClient,e),n=m("{model}:batchGenerateContent",t._url),o=t.batch.inputConfig.requests,r=o.requests,i=[];for(const l of r){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return o.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}createInlinedEmbedContentRequest(e){const t=Pt(this.apiClient,e),n=m("{model}:asyncBatchEmbedContent",t._url),o=t.batch.inputConfig.requests,r=o.requests,i=[];delete o.config;for(const l of r){const e=Object.assign({},l),t=e.request;for(const n in e)"request"!==n&&(t[n]=e[n],delete e[n]);i.push(e)}return o.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"===typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"===typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},o=Date.now().toString();if(n.displayName||(n.displayName="genaiBatchJob_".concat(o)),void 0===n.dest){const t=this.getGcsUri(e),r=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest="".concat(t.slice(0,-6),"/dest"):n.dest="".concat(t,"_dest_").concat(o);else{if(!r)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest="".concat(r,"_dest_").concat(o)}}return n}async createInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=xt(this.apiClient,e);return l=m("batchPredictionJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Vt(e))}{const t=kt(this.apiClient,e);return l=m("{model}:batchGenerateContent",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>zt(e))}}async createEmbeddingsInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Pt(this.apiClient,e);return r=m("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>zt(e))}}async get(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("batchPredictionJobs/{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Vt(e))}{const t=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("batches/{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>zt(e))}}async cancel(e){var t,n,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);i=m("batchPredictionJobs/{name}:cancel",o._url),l=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);i=m("batches/{name}:cancel",t._url),l=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async listInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Mt(e);return l=m("batchPredictionJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["batchPredictionJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Vt(e))),h(t,["batchJobs"],e)}return t}(e),n=new Ue;return Object.assign(n,t),n})}{const t=Nt(e);return l=m("batches",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["operations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>zt(e))),h(t,["batchJobs"],e)}return t}(e),n=new Ue;return Object.assign(n,t),n})}}async delete(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("batchPredictionJobs/{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);return null!=i&&h(t,["error"],Gt(i)),t}(e))}{const t=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],ht(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("batches/{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);return null!=i&&h(t,["error"],qt(i)),t}(e))}}}function Wt(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Yt(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Wt(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}function Kt(e){const t={},n=g(e,["timeRangeFilter"]);if(null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function $t(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function Qt(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["behavior"]);null!=n&&h(t,["behavior"],n);const o=g(e,["description"]);null!=o&&h(t,["description"],o);const r=g(e,["name"]);null!=r&&h(t,["name"],r);const i=g(e,["parameters"]);null!=i&&h(t,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(t,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(t,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(t,["responseJsonSchema"],s),t}(e))),h(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(t,["googleSearch"],Kt(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(t,["googleSearchRetrieval"],$t(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(i));const l=g(e,["codeExecution"]);return null!=l&&h(t,["codeExecution"],l),t}function Xt(e){const t={},n=g(e,["latLng"]);null!=n&&h(t,["latLng"],function(e){const t={},n=g(e,["latitude"]);null!=n&&h(t,["latitude"],n);const o=g(e,["longitude"]);return null!=o&&h(t,["longitude"],o),t}(n));const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}function Zt(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&h(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(t,["allowedFunctionNames"],o),t}(n));const o=g(e,["retrievalConfig"]);return null!=o&&h(t,["retrievalConfig"],Xt(o)),t}function en(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["model"],je(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&h(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&h(t,["expireTime"],o);const r=g(e,["displayName"]);void 0!==t&&null!=r&&h(t,["displayName"],r);const i=g(e,["contents"]);if(void 0!==t&&null!=i){let e=Xe(i);Array.isArray(e)&&(e=e.map(e=>Yt(e))),h(t,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==t&&null!=l&&h(t,["systemInstruction"],Yt($e(l)));const a=g(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>Qt(e))),h(t,["tools"],e)}const s=g(e,["toolConfig"]);if(void 0!==t&&null!=s&&h(t,["toolConfig"],Zt(s)),void 0!==g(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(r,n)),n}function tn(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&h(t,["ttl"],n);const o=g(e,["expireTime"]);return void 0!==t&&null!=o&&h(t,["expireTime"],o),{}}(r,n)),n}function nn(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);return void 0!==t&&null!=o&&h(t,["_query","pageToken"],o),{}}(n,t)),t}function on(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["data"]);null!=o&&h(t,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["fileUri"]);null!=o&&h(t,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function rn(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>on(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}function ln(e){const t={},n=g(e,["timeRangeFilter"]);null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n));const o=g(e,["excludeDomains"]);return null!=o&&h(t,["excludeDomains"],o),t}function an(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function sn(e){const t={},n=g(e,["apiKeyConfig"]);null!=n&&h(t,["apiKeyConfig"],function(e){const t={},n=g(e,["apiKeyString"]);return null!=n&&h(t,["apiKeyString"],n),t}(n));const o=g(e,["authType"]);null!=o&&h(t,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(t,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(t,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(t,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(t,["oidcConfig"],a),t}function un(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&h(t,["description"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["parameters"]);null!=r&&h(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(t,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(t,["responseJsonSchema"],a),t}(e))),h(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(t,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(t,["googleSearch"],ln(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(t,["googleSearchRetrieval"],an(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(t,["enterpriseWebSearch"],function(e){const t={},n=g(e,["excludeDomains"]);return null!=n&&h(t,["excludeDomains"],n),t}(l));const a=g(e,["googleMaps"]);null!=a&&h(t,["googleMaps"],function(e){const t={},n=g(e,["authConfig"]);return null!=n&&h(t,["authConfig"],sn(n)),t}(a));null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(s));const u=g(e,["codeExecution"]);return null!=u&&h(t,["codeExecution"],u),t}function cn(e){const t={},n=g(e,["latLng"]);null!=n&&h(t,["latLng"],function(e){const t={},n=g(e,["latitude"]);null!=n&&h(t,["latitude"],n);const o=g(e,["longitude"]);return null!=o&&h(t,["longitude"],o),t}(n));const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}function dn(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&h(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(t,["allowedFunctionNames"],o),t}(n));const o=g(e,["retrievalConfig"]);return null!=o&&h(t,["retrievalConfig"],cn(o)),t}function fn(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["model"],je(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&h(t,["ttl"],n);const o=g(e,["expireTime"]);void 0!==t&&null!=o&&h(t,["expireTime"],o);const r=g(e,["displayName"]);void 0!==t&&null!=r&&h(t,["displayName"],r);const i=g(e,["contents"]);if(void 0!==t&&null!=i){let e=Xe(i);Array.isArray(e)&&(e=e.map(e=>rn(e))),h(t,["contents"],e)}const l=g(e,["systemInstruction"]);void 0!==t&&null!=l&&h(t,["systemInstruction"],rn($e(l)));const a=g(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>un(e))),h(t,["tools"],e)}const s=g(e,["toolConfig"]);void 0!==t&&null!=s&&h(t,["toolConfig"],dn(s));const u=g(e,["kmsKeyName"]);return void 0!==t&&null!=u&&h(t,["encryption_spec","kmsKeyName"],u),{}}(r,n)),n}function pn(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["ttl"]);void 0!==t&&null!=n&&h(t,["ttl"],n);const o=g(e,["expireTime"]);return void 0!==t&&null!=o&&h(t,["expireTime"],o),{}}(r,n)),n}function mn(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);return void 0!==t&&null!=o&&h(t,["_query","pageToken"],o),{}}(n,t)),t}function hn(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["model"]);null!=r&&h(t,["model"],r);const i=g(e,["createTime"]);null!=i&&h(t,["createTime"],i);const l=g(e,["updateTime"]);null!=l&&h(t,["updateTime"],l);const a=g(e,["expireTime"]);null!=a&&h(t,["expireTime"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(t,["usageMetadata"],s),t}function gn(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["model"]);null!=r&&h(t,["model"],r);const i=g(e,["createTime"]);null!=i&&h(t,["createTime"],i);const l=g(e,["updateTime"]);null!=l&&h(t,["updateTime"],l);const a=g(e,["expireTime"]);null!=a&&h(t,["expireTime"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(t,["usageMetadata"],s),t}class yn extends p{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(ge.PAGED_ITEM_CACHED_CONTENTS,e=>t.listInternal(e),await t.listInternal(e),e)}}async create(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=fn(this.apiClient,e);return l=m("cachedContents",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>gn(e))}{const t=en(this.apiClient,e);return l=m("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>hn(e))}}async get(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>gn(e))}{const t=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>hn(e))}}async delete(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new Ne;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=g(t,["name"]);null!=o&&h(n,["_url","name"],it(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new Ne;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=pn(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>gn(e))}{const t=tn(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>hn(e))}}async listInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=mn(e);return l=m("cachedContents",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>gn(e))),h(t,["cachedContents"],e)}return t}(e),n=new Re;return Object.assign(n,t),n})}{const t=nn(e);return l=m("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["cachedContents"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>hn(e))),h(t,["cachedContents"],e)}return t}(e),n=new Re;return Object.assign(n,t),n})}}}function vn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bn(e){return this instanceof bn?(this.v=e,this):new bn(e)}function Sn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),o[Symbol.asyncIterator]=function(){return this},o;function l(e,t){r[e]&&(o[e]=function(t){return new Promise(function(n,o){i.push([e,t,n,o])>1||a(e,t)})},t&&(o[e]=t(o[e])))}function a(e,t){try{(n=r[e](t)).value instanceof bn?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(o){c(i[0][3],o)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function En(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=vn(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise(function(o,r){(function(e,t,n,o){Promise.resolve(o).then(function(t){e({value:t,done:n})},t)})(o,r,(t=e[n](t)).done,t.value)})}}}function Cn(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&Tn(n)}function Tn(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function wn(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let o=0;for(;o<n;)if("user"===e[o].role)t.push(e[o]),o++;else{const r=[];let i=!0;for(;o<n&&"model"===e[o].role;)r.push(e[o]),i&&!Tn(e[o])&&(i=!1),o++;i?t.push(...r):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class _n{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new On(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class On{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=o,this.history=r,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error("Role must be user or model, but got ".concat(t.role,"."))}(r)}async sendMessage(e){var t;await this.sendPromise;const n=$e(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,r;const i=await o,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(r=a.slice(s))&&void 0!==r?r:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const n=$e(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const r=await o;return this.processStreamResponse(r,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?wn(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,o;return Sn(this,arguments,function*(){var r,i,l,a;const s=[];try{for(var u,c=!0,d=En(e);!(r=(u=yield bn(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(Cn(e)){const t=null===(o=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===o?void 0:o.content;void 0!==t&&s.push(t)}yield yield bn(e)}}catch(f){i={error:f}}finally{try{c||r||!(l=d.return)||(yield bn(l.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let o=[];t.length>0&&t.every(e=>void 0!==e.role)?o=t:o.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...wn(n)):this.history.push(e),this.history.push(...o)}}class An extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,An.prototype)}}function kn(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);return void 0!==t&&null!=o&&h(t,["_query","pageToken"],o),{}}(n,t)),t}function In(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["mimeType"]);null!=r&&h(t,["mimeType"],r);const i=g(e,["sizeBytes"]);null!=i&&h(t,["sizeBytes"],i);const l=g(e,["createTime"]);null!=l&&h(t,["createTime"],l);const a=g(e,["expirationTime"]);null!=a&&h(t,["expirationTime"],a);const s=g(e,["updateTime"]);null!=s&&h(t,["updateTime"],s);const u=g(e,["sha256Hash"]);null!=u&&h(t,["sha256Hash"],u);const c=g(e,["uri"]);null!=c&&h(t,["uri"],c);const d=g(e,["downloadUri"]);null!=d&&h(t,["downloadUri"],d);const f=g(e,["state"]);null!=f&&h(t,["state"],f);const p=g(e,["source"]);null!=p&&h(t,["source"],p);const m=g(e,["videoMetadata"]);null!=m&&h(t,["videoMetadata"],m);const y=g(e,["error"]);return null!=y&&h(t,["error"],function(e){const t={},n=g(e,["details"]);null!=n&&h(t,["details"],n);const o=g(e,["message"]);null!=o&&h(t,["message"],o);const r=g(e,["code"]);return null!=r&&h(t,["code"],r),t}(y)),t}function Pn(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["mimeType"]);null!=r&&h(t,["mimeType"],r);const i=g(e,["sizeBytes"]);null!=i&&h(t,["sizeBytes"],i);const l=g(e,["createTime"]);null!=l&&h(t,["createTime"],l);const a=g(e,["expirationTime"]);null!=a&&h(t,["expirationTime"],a);const s=g(e,["updateTime"]);null!=s&&h(t,["updateTime"],s);const u=g(e,["sha256Hash"]);null!=u&&h(t,["sha256Hash"],u);const c=g(e,["uri"]);null!=c&&h(t,["uri"],c);const d=g(e,["downloadUri"]);null!=d&&h(t,["downloadUri"],d);const f=g(e,["state"]);null!=f&&h(t,["state"],f);const p=g(e,["source"]);null!=p&&h(t,["source"],p);const m=g(e,["videoMetadata"]);null!=m&&h(t,["videoMetadata"],m);const y=g(e,["error"]);return null!=y&&h(t,["error"],function(e){const t={},n=g(e,["details"]);null!=n&&h(t,["details"],n);const o=g(e,["message"]);null!=o&&h(t,["message"],o);const r=g(e,["code"]);return null!=r&&h(t,["code"],r),t}(y)),t}class Nn extends p{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(ge.PAGED_ITEM_FILES,e=>t.listInternal(e),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>Pn(e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kn(e);return r=m("files",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["files"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Pn(e))),h(t,["files"],e)}return t}(e),n=new xe;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["file"]);null!=n&&h(t,["file"],In(n));const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return r=m("upload/v1beta/files",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new Me;return Object.assign(n,t),n})}}async get(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","file"],st(n));const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return r=m("files/{file}",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>Pn(e))}}async delete(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","file"],st(n));const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return r=m("files/{file}",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new De;return Object.assign(n,t),n})}}}function Rn(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function xn(e){const t={},n=g(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["speaker"]);null!=n&&h(t,["speaker"],n);const o=g(e,["voiceConfig"]);return null!=o&&h(t,["voiceConfig"],Rn(o)),t}(e))),h(t,["speakerVoiceConfigs"],e)}return t}function Mn(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Dn(e){const t={},n=g(e,["timeRangeFilter"]);if(null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function Un(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function Ln(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["behavior"]);null!=n&&h(t,["behavior"],n);const o=g(e,["description"]);null!=o&&h(t,["description"],o);const r=g(e,["name"]);null!=r&&h(t,["name"],r);const i=g(e,["parameters"]);null!=i&&h(t,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(t,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(t,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(t,["responseJsonSchema"],s),t}(e))),h(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(t,["googleSearch"],Dn(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(t,["googleSearchRetrieval"],Un(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(i));const l=g(e,["codeExecution"]);return null!=l&&h(t,["codeExecution"],l),t}function qn(e){const t={},n=g(e,["automaticActivityDetection"]);null!=n&&h(t,["automaticActivityDetection"],function(e){const t={},n=g(e,["disabled"]);null!=n&&h(t,["disabled"],n);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(t,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(t,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(t,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(t,["silenceDurationMs"],l),t}(n));const o=g(e,["activityHandling"]);null!=o&&h(t,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(t,["turnCoverage"],r),t}function Fn(e){const t={},n=g(e,["triggerTokens"]);null!=n&&h(t,["triggerTokens"],n);const o=g(e,["slidingWindow"]);return null!=o&&h(t,["slidingWindow"],function(e){const t={},n=g(e,["targetTokens"]);return null!=n&&h(t,["targetTokens"],n),t}(o)),t}function jn(e,t){const n=g(e,["generationConfig"]);void 0!==t&&null!=n&&h(t,["setup","generationConfig"],n);const o=g(e,["responseModalities"]);void 0!==t&&null!=o&&h(t,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==t&&null!=r&&h(t,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==t&&null!=i&&h(t,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==t&&null!=l&&h(t,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==t&&null!=a&&h(t,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==t&&null!=s&&h(t,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==t&&null!=u&&h(t,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==t&&null!=c&&h(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);null!=n&&h(t,["voiceConfig"],Rn(n));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(t,["multiSpeakerVoiceConfig"],xn(o));const r=g(e,["languageCode"]);return null!=r&&h(t,["languageCode"],r),t}(nt(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&h(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=g(e,["systemInstruction"]);void 0!==t&&null!=f&&h(t,["setup","systemInstruction"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Mn(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}($e(f)));const p=g(e,["tools"]);if(void 0!==t&&null!=p){let e=rt(p);Array.isArray(e)&&(e=e.map(e=>Ln(ot(e)))),h(t,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==t&&null!=m&&h(t,["setup","sessionResumption"],function(e){const t={},n=g(e,["handle"]);if(null!=n&&h(t,["handle"],n),void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const y=g(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&h(t,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&h(t,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&h(t,["setup","realtimeInputConfig"],qn(b));const S=g(e,["contextWindowCompression"]);void 0!==t&&null!=S&&h(t,["setup","contextWindowCompression"],Fn(S));const E=g(e,["proactivity"]);return void 0!==t&&null!=E&&h(t,["setup","proactivity"],function(e){const t={},n=g(e,["proactiveAudio"]);return null!=n&&h(t,["proactiveAudio"],n),t}(E)),{}}function Hn(e){const t={},n=g(e,["media"]);null!=n&&h(t,["mediaChunks"],He(n));const o=g(e,["audio"]);null!=o&&h(t,["audio"],Ve(o));const r=g(e,["audioStreamEnd"]);null!=r&&h(t,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&h(t,["video"],Ge(i));const l=g(e,["text"]);null!=l&&h(t,["text"],l);null!=g(e,["activityStart"])&&h(t,["activityStart"],{});return null!=g(e,["activityEnd"])&&h(t,["activityEnd"],{}),t}function zn(e){const t={},n=g(e,["text"]);null!=n&&h(t,["text"],n);const o=g(e,["weight"]);return null!=o&&h(t,["weight"],o),t}function Gn(e){const t={},n=g(e,["temperature"]);null!=n&&h(t,["temperature"],n);const o=g(e,["topK"]);null!=o&&h(t,["topK"],o);const r=g(e,["seed"]);null!=r&&h(t,["seed"],r);const i=g(e,["guidance"]);null!=i&&h(t,["guidance"],i);const l=g(e,["bpm"]);null!=l&&h(t,["bpm"],l);const a=g(e,["density"]);null!=a&&h(t,["density"],a);const s=g(e,["brightness"]);null!=s&&h(t,["brightness"],s);const u=g(e,["scale"]);null!=u&&h(t,["scale"],u);const c=g(e,["muteBass"]);null!=c&&h(t,["muteBass"],c);const d=g(e,["muteDrums"]);null!=d&&h(t,["muteDrums"],d);const f=g(e,["onlyBassAndDrums"]);null!=f&&h(t,["onlyBassAndDrums"],f);const p=g(e,["musicGenerationMode"]);return null!=p&&h(t,["musicGenerationMode"],p),t}function Vn(e){const t={},n=g(e,["model"]);return null!=n&&h(t,["model"],n),t}function Bn(e){const t={},n=g(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>zn(e))),h(t,["weightedPrompts"],e)}return t}function Jn(e){const t={},n=g(e,["setup"]);null!=n&&h(t,["setup"],Vn(n));const o=g(e,["clientContent"]);null!=o&&h(t,["clientContent"],Bn(o));const r=g(e,["musicGenerationConfig"]);null!=r&&h(t,["musicGenerationConfig"],Gn(r));const i=g(e,["playbackControl"]);return null!=i&&h(t,["playbackControl"],i),t}function Wn(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function Yn(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["data"]);null!=o&&h(t,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["fileUri"]);null!=o&&h(t,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Kn(e){const t={},n=g(e,["timeRangeFilter"]);null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n));const o=g(e,["excludeDomains"]);return null!=o&&h(t,["excludeDomains"],o),t}function $n(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function Qn(e){const t={},n=g(e,["apiKeyConfig"]);null!=n&&h(t,["apiKeyConfig"],function(e){const t={},n=g(e,["apiKeyString"]);return null!=n&&h(t,["apiKeyString"],n),t}(n));const o=g(e,["authType"]);null!=o&&h(t,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(t,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(t,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(t,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(t,["oidcConfig"],a),t}function Xn(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&h(t,["description"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["parameters"]);null!=r&&h(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(t,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(t,["responseJsonSchema"],a),t}(e))),h(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(t,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(t,["googleSearch"],Kn(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(t,["googleSearchRetrieval"],$n(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(t,["enterpriseWebSearch"],function(e){const t={},n=g(e,["excludeDomains"]);return null!=n&&h(t,["excludeDomains"],n),t}(l));const a=g(e,["googleMaps"]);null!=a&&h(t,["googleMaps"],function(e){const t={},n=g(e,["authConfig"]);return null!=n&&h(t,["authConfig"],Qn(n)),t}(a));null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(s));const u=g(e,["codeExecution"]);return null!=u&&h(t,["codeExecution"],u),t}function Zn(e){const t={},n=g(e,["automaticActivityDetection"]);null!=n&&h(t,["automaticActivityDetection"],function(e){const t={},n=g(e,["disabled"]);null!=n&&h(t,["disabled"],n);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(t,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(t,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(t,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(t,["silenceDurationMs"],l),t}(n));const o=g(e,["activityHandling"]);null!=o&&h(t,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(t,["turnCoverage"],r),t}function eo(e){const t={},n=g(e,["triggerTokens"]);null!=n&&h(t,["triggerTokens"],n);const o=g(e,["slidingWindow"]);return null!=o&&h(t,["slidingWindow"],function(e){const t={},n=g(e,["targetTokens"]);return null!=n&&h(t,["targetTokens"],n),t}(o)),t}function to(e,t){const n=g(e,["generationConfig"]);void 0!==t&&null!=n&&h(t,["setup","generationConfig"],n);const o=g(e,["responseModalities"]);void 0!==t&&null!=o&&h(t,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==t&&null!=r&&h(t,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==t&&null!=i&&h(t,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==t&&null!=l&&h(t,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==t&&null!=a&&h(t,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==t&&null!=s&&h(t,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==t&&null!=u&&h(t,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==t&&null!=c&&h(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);if(null!=n&&h(t,["voiceConfig"],Wn(n)),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}(nt(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&h(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=g(e,["systemInstruction"]);void 0!==t&&null!=f&&h(t,["setup","systemInstruction"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Yn(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}($e(f)));const p=g(e,["tools"]);if(void 0!==t&&null!=p){let e=rt(p);Array.isArray(e)&&(e=e.map(e=>Xn(ot(e)))),h(t,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==t&&null!=m&&h(t,["setup","sessionResumption"],function(e){const t={},n=g(e,["handle"]);null!=n&&h(t,["handle"],n);const o=g(e,["transparent"]);return null!=o&&h(t,["transparent"],o),t}(m));const y=g(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&h(t,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&h(t,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&h(t,["setup","realtimeInputConfig"],Zn(b));const S=g(e,["contextWindowCompression"]);void 0!==t&&null!=S&&h(t,["setup","contextWindowCompression"],eo(S));const E=g(e,["proactivity"]);return void 0!==t&&null!=E&&h(t,["setup","proactivity"],function(e){const t={},n=g(e,["proactiveAudio"]);return null!=n&&h(t,["proactiveAudio"],n),t}(E)),{}}function no(e){const t={},n=g(e,["media"]);null!=n&&h(t,["mediaChunks"],He(n));const o=g(e,["audio"]);null!=o&&h(t,["audio"],Ve(o));const r=g(e,["audioStreamEnd"]);null!=r&&h(t,["audioStreamEnd"],r);const i=g(e,["video"]);null!=i&&h(t,["video"],Ge(i));const l=g(e,["text"]);null!=l&&h(t,["text"],l);null!=g(e,["activityStart"])&&h(t,["activityStart"],{});return null!=g(e,["activityEnd"])&&h(t,["activityEnd"],{}),t}function oo(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}function ro(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],oo(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function io(e){const t={},n=g(e,["text"]);null!=n&&h(t,["text"],n);const o=g(e,["finished"]);return null!=o&&h(t,["finished"],o),t}function lo(e){const t={},n=g(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["retrievedUrl"]);null!=n&&h(t,["retrievedUrl"],n);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(t,["urlRetrievalStatus"],o),t}(e))),h(t,["urlMetadata"],e)}return t}function ao(e){const t={},n=g(e,["modelTurn"]);null!=n&&h(t,["modelTurn"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ro(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}(n));const o=g(e,["turnComplete"]);null!=o&&h(t,["turnComplete"],o);const r=g(e,["interrupted"]);null!=r&&h(t,["interrupted"],r);const i=g(e,["groundingMetadata"]);null!=i&&h(t,["groundingMetadata"],i);const l=g(e,["generationComplete"]);null!=l&&h(t,["generationComplete"],l);const a=g(e,["inputTranscription"]);null!=a&&h(t,["inputTranscription"],io(a));const s=g(e,["outputTranscription"]);null!=s&&h(t,["outputTranscription"],io(s));const u=g(e,["urlContextMetadata"]);null!=u&&h(t,["urlContextMetadata"],lo(u));const c=g(e,["turnCompleteReason"]);null!=c&&h(t,["turnCompleteReason"],c);const d=g(e,["waitingForInput"]);return null!=d&&h(t,["waitingForInput"],d),t}function so(e){const t={},n=g(e,["modality"]);null!=n&&h(t,["modality"],n);const o=g(e,["tokenCount"]);return null!=o&&h(t,["tokenCount"],o),t}function uo(e){const t={};null!=g(e,["setupComplete"])&&h(t,["setupComplete"],{});const n=g(e,["serverContent"]);null!=n&&h(t,["serverContent"],ao(n));const o=g(e,["toolCall"]);null!=o&&h(t,["toolCall"],function(e){const t={},n=g(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>oo(e))),h(t,["functionCalls"],e)}return t}(o));const r=g(e,["toolCallCancellation"]);null!=r&&h(t,["toolCallCancellation"],function(e){const t={},n=g(e,["ids"]);return null!=n&&h(t,["ids"],n),t}(r));const i=g(e,["usageMetadata"]);null!=i&&h(t,["usageMetadata"],function(e){const t={},n=g(e,["promptTokenCount"]);null!=n&&h(t,["promptTokenCount"],n);const o=g(e,["cachedContentTokenCount"]);null!=o&&h(t,["cachedContentTokenCount"],o);const r=g(e,["responseTokenCount"]);null!=r&&h(t,["responseTokenCount"],r);const i=g(e,["toolUsePromptTokenCount"]);null!=i&&h(t,["toolUsePromptTokenCount"],i);const l=g(e,["thoughtsTokenCount"]);null!=l&&h(t,["thoughtsTokenCount"],l);const a=g(e,["totalTokenCount"]);null!=a&&h(t,["totalTokenCount"],a);const s=g(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>so(e))),h(t,["promptTokensDetails"],e)}const u=g(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>so(e))),h(t,["cacheTokensDetails"],e)}const c=g(e,["responseTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>so(e))),h(t,["responseTokensDetails"],e)}const d=g(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>so(e))),h(t,["toolUsePromptTokensDetails"],e)}return t}(i));const l=g(e,["goAway"]);null!=l&&h(t,["goAway"],function(e){const t={},n=g(e,["timeLeft"]);return null!=n&&h(t,["timeLeft"],n),t}(l));const a=g(e,["sessionResumptionUpdate"]);return null!=a&&h(t,["sessionResumptionUpdate"],function(e){const t={},n=g(e,["newHandle"]);null!=n&&h(t,["newHandle"],n);const o=g(e,["resumable"]);null!=o&&h(t,["resumable"],o);const r=g(e,["lastConsumedClientMessageIndex"]);return null!=r&&h(t,["lastConsumedClientMessageIndex"],r),t}(a)),t}function co(e){const t={},n=g(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["text"]);null!=n&&h(t,["text"],n);const o=g(e,["weight"]);return null!=o&&h(t,["weight"],o),t}(e))),h(t,["weightedPrompts"],e)}return t}function fo(e){const t={},n=g(e,["clientContent"]);null!=n&&h(t,["clientContent"],co(n));const o=g(e,["musicGenerationConfig"]);return null!=o&&h(t,["musicGenerationConfig"],function(e){const t={},n=g(e,["temperature"]);null!=n&&h(t,["temperature"],n);const o=g(e,["topK"]);null!=o&&h(t,["topK"],o);const r=g(e,["seed"]);null!=r&&h(t,["seed"],r);const i=g(e,["guidance"]);null!=i&&h(t,["guidance"],i);const l=g(e,["bpm"]);null!=l&&h(t,["bpm"],l);const a=g(e,["density"]);null!=a&&h(t,["density"],a);const s=g(e,["brightness"]);null!=s&&h(t,["brightness"],s);const u=g(e,["scale"]);null!=u&&h(t,["scale"],u);const c=g(e,["muteBass"]);null!=c&&h(t,["muteBass"],c);const d=g(e,["muteDrums"]);null!=d&&h(t,["muteDrums"],d);const f=g(e,["onlyBassAndDrums"]);null!=f&&h(t,["onlyBassAndDrums"],f);const p=g(e,["musicGenerationMode"]);return null!=p&&h(t,["musicGenerationMode"],p),t}(o)),t}function po(e){const t={},n=g(e,["audioChunks"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);null!=o&&h(t,["mimeType"],o);const r=g(e,["sourceMetadata"]);return null!=r&&h(t,["sourceMetadata"],fo(r)),t}(e))),h(t,["audioChunks"],e)}return t}function mo(e){const t={};null!=g(e,["setupComplete"])&&h(t,["setupComplete"],{});const n=g(e,["serverContent"]);null!=n&&h(t,["serverContent"],po(n));const o=g(e,["filteredPrompt"]);return null!=o&&h(t,["filteredPrompt"],function(e){const t={},n=g(e,["text"]);null!=n&&h(t,["text"],n);const o=g(e,["filteredReason"]);return null!=o&&h(t,["filteredReason"],o),t}(o)),t}function ho(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}function go(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["data"]);null!=o&&h(t,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["fileUri"]);null!=o&&h(t,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],ho(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function yo(e){const t={},n=g(e,["text"]);null!=n&&h(t,["text"],n);const o=g(e,["finished"]);return null!=o&&h(t,["finished"],o),t}function vo(e){const t={},n=g(e,["modelTurn"]);null!=n&&h(t,["modelTurn"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>go(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}(n));const o=g(e,["turnComplete"]);null!=o&&h(t,["turnComplete"],o);const r=g(e,["interrupted"]);null!=r&&h(t,["interrupted"],r);const i=g(e,["groundingMetadata"]);null!=i&&h(t,["groundingMetadata"],i);const l=g(e,["generationComplete"]);null!=l&&h(t,["generationComplete"],l);const a=g(e,["inputTranscription"]);null!=a&&h(t,["inputTranscription"],yo(a));const s=g(e,["outputTranscription"]);null!=s&&h(t,["outputTranscription"],yo(s));const u=g(e,["turnCompleteReason"]);null!=u&&h(t,["turnCompleteReason"],u);const c=g(e,["waitingForInput"]);return null!=c&&h(t,["waitingForInput"],c),t}function bo(e){const t={},n=g(e,["modality"]);null!=n&&h(t,["modality"],n);const o=g(e,["tokenCount"]);return null!=o&&h(t,["tokenCount"],o),t}function So(e){const t={},n=g(e,["setupComplete"]);null!=n&&h(t,["setupComplete"],function(e){const t={},n=g(e,["sessionId"]);return null!=n&&h(t,["sessionId"],n),t}(n));const o=g(e,["serverContent"]);null!=o&&h(t,["serverContent"],vo(o));const r=g(e,["toolCall"]);null!=r&&h(t,["toolCall"],function(e){const t={},n=g(e,["functionCalls"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ho(e))),h(t,["functionCalls"],e)}return t}(r));const i=g(e,["toolCallCancellation"]);null!=i&&h(t,["toolCallCancellation"],function(e){const t={},n=g(e,["ids"]);return null!=n&&h(t,["ids"],n),t}(i));const l=g(e,["usageMetadata"]);null!=l&&h(t,["usageMetadata"],function(e){const t={},n=g(e,["promptTokenCount"]);null!=n&&h(t,["promptTokenCount"],n);const o=g(e,["cachedContentTokenCount"]);null!=o&&h(t,["cachedContentTokenCount"],o);const r=g(e,["candidatesTokenCount"]);null!=r&&h(t,["responseTokenCount"],r);const i=g(e,["toolUsePromptTokenCount"]);null!=i&&h(t,["toolUsePromptTokenCount"],i);const l=g(e,["thoughtsTokenCount"]);null!=l&&h(t,["thoughtsTokenCount"],l);const a=g(e,["totalTokenCount"]);null!=a&&h(t,["totalTokenCount"],a);const s=g(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(t,["promptTokensDetails"],e)}const u=g(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(t,["cacheTokensDetails"],e)}const c=g(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(t,["responseTokensDetails"],e)}const d=g(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>bo(e))),h(t,["toolUsePromptTokensDetails"],e)}const f=g(e,["trafficType"]);return null!=f&&h(t,["trafficType"],f),t}(l));const a=g(e,["goAway"]);null!=a&&h(t,["goAway"],function(e){const t={},n=g(e,["timeLeft"]);return null!=n&&h(t,["timeLeft"],n),t}(a));const s=g(e,["sessionResumptionUpdate"]);return null!=s&&h(t,["sessionResumptionUpdate"],function(e){const t={},n=g(e,["newHandle"]);null!=n&&h(t,["newHandle"],n);const o=g(e,["resumable"]);null!=o&&h(t,["resumable"],o);const r=g(e,["lastConsumedClientMessageIndex"]);return null!=r&&h(t,["lastConsumedClientMessageIndex"],r),t}(s)),t}function Eo(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Co(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Eo(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}function To(e){const t={},n=g(e,["timeRangeFilter"]);if(null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function wo(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function _o(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["behavior"]);null!=n&&h(t,["behavior"],n);const o=g(e,["description"]);null!=o&&h(t,["description"],o);const r=g(e,["name"]);null!=r&&h(t,["name"],r);const i=g(e,["parameters"]);null!=i&&h(t,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(t,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(t,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(t,["responseJsonSchema"],s),t}(e))),h(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(t,["googleSearch"],To(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(t,["googleSearchRetrieval"],wo(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(i));const l=g(e,["codeExecution"]);return null!=l&&h(t,["codeExecution"],l),t}function Oo(e){const t={},n=g(e,["latLng"]);null!=n&&h(t,["latLng"],function(e){const t={},n=g(e,["latitude"]);null!=n&&h(t,["latitude"],n);const o=g(e,["longitude"]);return null!=o&&h(t,["longitude"],o),t}(n));const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}function Ao(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&h(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(t,["allowedFunctionNames"],o),t}(n));const o=g(e,["retrievalConfig"]);return null!=o&&h(t,["retrievalConfig"],Oo(o)),t}function ko(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function Io(e){const t={},n=g(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["speaker"]);null!=n&&h(t,["speaker"],n);const o=g(e,["voiceConfig"]);return null!=o&&h(t,["voiceConfig"],ko(o)),t}(e))),h(t,["speakerVoiceConfigs"],e)}return t}function Po(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&h(n,["systemInstruction"],Co($e(r)));const i=g(t,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&h(o,["topP"],l);const a=g(t,["topK"]);null!=a&&h(o,["topK"],a);const s=g(t,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(t,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const f=g(t,["logprobs"]);null!=f&&h(o,["logprobs"],f);const p=g(t,["presencePenalty"]);null!=p&&h(o,["presencePenalty"],p);const m=g(t,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(t,["seed"]);null!=y&&h(o,["seed"],y);const v=g(t,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(t,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const t={},n=g(e,["anyOf"]);null!=n&&h(t,["anyOf"],n);const o=g(e,["default"]);null!=o&&h(t,["default"],o);const r=g(e,["description"]);null!=r&&h(t,["description"],r);const i=g(e,["enum"]);null!=i&&h(t,["enum"],i);const l=g(e,["example"]);null!=l&&h(t,["example"],l);const a=g(e,["format"]);null!=a&&h(t,["format"],a);const s=g(e,["items"]);null!=s&&h(t,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(t,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(t,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(t,["maxProperties"],d);const f=g(e,["maximum"]);null!=f&&h(t,["maximum"],f);const p=g(e,["minItems"]);null!=p&&h(t,["minItems"],p);const m=g(e,["minLength"]);null!=m&&h(t,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(t,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(t,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(t,["nullable"],b);const S=g(e,["pattern"]);null!=S&&h(t,["pattern"],S);const E=g(e,["properties"]);null!=E&&h(t,["properties"],E);const C=g(e,["propertyOrdering"]);null!=C&&h(t,["propertyOrdering"],C);const T=g(e,["required"]);null!=T&&h(t,["required"],T);const w=g(e,["title"]);null!=w&&h(t,["title"],w);const _=g(e,["type"]);return null!=_&&h(t,["type"],_),t}(et(b)));const S=g(t,["responseJsonSchema"]);if(null!=S&&h(o,["responseJsonSchema"],S),void 0!==g(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==g(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=g(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const n=g(e,["category"]);null!=n&&h(t,["category"],n);const o=g(e,["threshold"]);return null!=o&&h(t,["threshold"],o),t}(e))),h(n,["safetySettings"],e)}const C=g(t,["tools"]);if(void 0!==n&&null!=C){let e=rt(C);Array.isArray(e)&&(e=e.map(e=>_o(ot(e)))),h(n,["tools"],e)}const T=g(t,["toolConfig"]);if(void 0!==n&&null!=T&&h(n,["toolConfig"],Ao(T)),void 0!==g(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const w=g(t,["cachedContent"]);void 0!==n&&null!=w&&h(n,["cachedContent"],it(e,w));const _=g(t,["responseModalities"]);null!=_&&h(o,["responseModalities"],_);const O=g(t,["mediaResolution"]);null!=O&&h(o,["mediaResolution"],O);const A=g(t,["speechConfig"]);if(null!=A&&h(o,["speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);null!=n&&h(t,["voiceConfig"],ko(n));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(t,["multiSpeakerVoiceConfig"],Io(o));const r=g(e,["languageCode"]);return null!=r&&h(t,["languageCode"],r),t}(tt(A))),void 0!==g(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=g(t,["thinkingConfig"]);return null!=k&&h(o,["thinkingConfig"],function(e){const t={},n=g(e,["includeThoughts"]);null!=n&&h(t,["includeThoughts"],n);const o=g(e,["thinkingBudget"]);return null!=o&&h(t,["thinkingBudget"],o),t}(k)),o}function No(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>Co(e))),h(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["generationConfig"],Po(e,i,n)),n}function Ro(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);null!=r&&h(n,["requests[]","content"],Qe(e,r));const i=g(t,["config"]);null!=i&&h(n,["config"],function(e,t){const n=g(e,["taskType"]);void 0!==t&&null!=n&&h(t,["requests[]","taskType"],n);const o=g(e,["title"]);void 0!==t&&null!=o&&h(t,["requests[]","title"],o);const r=g(e,["outputDimensionality"]);if(void 0!==t&&null!=r&&h(t,["requests[]","outputDimensionality"],r),void 0!==g(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==g(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(i,n));const l=g(t,["model"]);return void 0!==l&&h(n,["requests[]","model"],Fe(e,l)),n}function xo(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["prompt"]);null!=r&&h(n,["instances[0]","prompt"],r);const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){if(void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=g(e,["numberOfImages"]);void 0!==t&&null!=n&&h(t,["parameters","sampleCount"],n);const o=g(e,["aspectRatio"]);void 0!==t&&null!=o&&h(t,["parameters","aspectRatio"],o);const r=g(e,["guidanceScale"]);if(void 0!==t&&null!=r&&h(t,["parameters","guidanceScale"],r),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=g(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&h(t,["parameters","safetySetting"],i);const l=g(e,["personGeneration"]);void 0!==t&&null!=l&&h(t,["parameters","personGeneration"],l);const a=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&h(t,["parameters","includeSafetyAttributes"],a);const s=g(e,["includeRaiReason"]);void 0!==t&&null!=s&&h(t,["parameters","includeRaiReason"],s);const u=g(e,["language"]);void 0!==t&&null!=u&&h(t,["parameters","language"],u);const c=g(e,["outputMimeType"]);void 0!==t&&null!=c&&h(t,["parameters","outputOptions","mimeType"],c);const d=g(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&h(t,["parameters","outputOptions","compressionQuality"],d),void 0!==g(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");const f=g(e,["imageSize"]);if(void 0!==t&&null!=f&&h(t,["parameters","sampleImageSize"],f),void 0!==g(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(i,n)),n}function Mo(e,t){const n={},o=g(t,["config"]);return null!=o&&h(n,["config"],function(e,t,n){const o=g(t,["pageSize"]);void 0!==n&&null!=o&&h(n,["_query","pageSize"],o);const r=g(t,["pageToken"]);void 0!==n&&null!=r&&h(n,["_query","pageToken"],r);const i=g(t,["filter"]);void 0!==n&&null!=i&&h(n,["_query","filter"],i);const l=g(t,["queryBase"]);return void 0!==n&&null!=l&&h(n,["_url","models_url"],ut(e,l)),{}}(e,o,n)),n}function Do(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","name"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&h(t,["displayName"],n);const o=g(e,["description"]);void 0!==t&&null!=o&&h(t,["description"],o);const r=g(e,["defaultCheckpointId"]);return void 0!==t&&null!=r&&h(t,["defaultCheckpointId"],r),{}}(r,n)),n}function Uo(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>Co(e))),h(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e){if(void 0!==g(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==g(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==g(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(i)),n}function Lo(e){const t={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(e,["imageBytes"]);null!=n&&h(t,["bytesBase64Encoded"],at(n));const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}function qo(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["prompt"]);null!=r&&h(n,["instances[0]","prompt"],r);const i=g(t,["image"]);if(null!=i&&h(n,["instances[0]","image"],Lo(i)),void 0!==g(t,["video"]))throw new Error("video parameter is not supported in Gemini API.");const l=g(t,["source"]);null!=l&&h(n,["config"],function(e,t){const n=g(e,["prompt"]);void 0!==t&&null!=n&&h(t,["instances[0]","prompt"],n);const o=g(e,["image"]);if(void 0!==t&&null!=o&&h(t,["instances[0]","image"],Lo(o)),void 0!==g(e,["video"]))throw new Error("video parameter is not supported in Gemini API.");return{}}(l,n));const a=g(t,["config"]);return null!=a&&h(n,["config"],function(e,t){const n=g(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&h(t,["parameters","sampleCount"],n),void 0!==g(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=g(e,["durationSeconds"]);if(void 0!==t&&null!=o&&h(t,["parameters","durationSeconds"],o),void 0!==g(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const r=g(e,["aspectRatio"]);void 0!==t&&null!=r&&h(t,["parameters","aspectRatio"],r);const i=g(e,["resolution"]);void 0!==t&&null!=i&&h(t,["parameters","resolution"],i);const l=g(e,["personGeneration"]);if(void 0!==t&&null!=l&&h(t,["parameters","personGeneration"],l),void 0!==g(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=g(e,["negativePrompt"]);void 0!==t&&null!=a&&h(t,["parameters","negativePrompt"],a);const s=g(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&h(t,["parameters","enhancePrompt"],s),void 0!==g(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==g(e,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");if(void 0!==g(e,["referenceImages"]))throw new Error("referenceImages parameter is not supported in Gemini API.");if(void 0!==g(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==g(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}(a,n)),n}function Fo(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["data"]);null!=o&&h(t,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["fileUri"]);null!=o&&h(t,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function jo(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Fo(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}function Ho(e){const t={},n=g(e,["timeRangeFilter"]);null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n));const o=g(e,["excludeDomains"]);return null!=o&&h(t,["excludeDomains"],o),t}function zo(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function Go(e){const t={},n=g(e,["apiKeyConfig"]);null!=n&&h(t,["apiKeyConfig"],function(e){const t={},n=g(e,["apiKeyString"]);return null!=n&&h(t,["apiKeyString"],n),t}(n));const o=g(e,["authType"]);null!=o&&h(t,["authType"],o);const r=g(e,["googleServiceAccountConfig"]);null!=r&&h(t,["googleServiceAccountConfig"],r);const i=g(e,["httpBasicAuthConfig"]);null!=i&&h(t,["httpBasicAuthConfig"],i);const l=g(e,["oauthConfig"]);null!=l&&h(t,["oauthConfig"],l);const a=g(e,["oidcConfig"]);return null!=a&&h(t,["oidcConfig"],a),t}function Vo(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==g(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(e,["description"]);null!=n&&h(t,["description"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["parameters"]);null!=r&&h(t,["parameters"],r);const i=g(e,["parametersJsonSchema"]);null!=i&&h(t,["parametersJsonSchema"],i);const l=g(e,["response"]);null!=l&&h(t,["response"],l);const a=g(e,["responseJsonSchema"]);return null!=a&&h(t,["responseJsonSchema"],a),t}(e))),h(t,["functionDeclarations"],e)}const o=g(e,["retrieval"]);null!=o&&h(t,["retrieval"],o);const r=g(e,["googleSearch"]);null!=r&&h(t,["googleSearch"],Ho(r));const i=g(e,["googleSearchRetrieval"]);null!=i&&h(t,["googleSearchRetrieval"],zo(i));const l=g(e,["enterpriseWebSearch"]);null!=l&&h(t,["enterpriseWebSearch"],function(e){const t={},n=g(e,["excludeDomains"]);return null!=n&&h(t,["excludeDomains"],n),t}(l));const a=g(e,["googleMaps"]);null!=a&&h(t,["googleMaps"],function(e){const t={},n=g(e,["authConfig"]);return null!=n&&h(t,["authConfig"],Go(n)),t}(a));null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const s=g(e,["computerUse"]);null!=s&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(s));const u=g(e,["codeExecution"]);return null!=u&&h(t,["codeExecution"],u),t}function Bo(e){const t={},n=g(e,["latLng"]);null!=n&&h(t,["latLng"],function(e){const t={},n=g(e,["latitude"]);null!=n&&h(t,["latitude"],n);const o=g(e,["longitude"]);return null!=o&&h(t,["longitude"],o),t}(n));const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}function Jo(e){const t={},n=g(e,["functionCallingConfig"]);null!=n&&h(t,["functionCallingConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["allowedFunctionNames"]);return null!=o&&h(t,["allowedFunctionNames"],o),t}(n));const o=g(e,["retrievalConfig"]);return null!=o&&h(t,["retrievalConfig"],Bo(o)),t}function Wo(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function Yo(e,t,n){const o={},r=g(t,["systemInstruction"]);void 0!==n&&null!=r&&h(n,["systemInstruction"],jo($e(r)));const i=g(t,["temperature"]);null!=i&&h(o,["temperature"],i);const l=g(t,["topP"]);null!=l&&h(o,["topP"],l);const a=g(t,["topK"]);null!=a&&h(o,["topK"],a);const s=g(t,["candidateCount"]);null!=s&&h(o,["candidateCount"],s);const u=g(t,["maxOutputTokens"]);null!=u&&h(o,["maxOutputTokens"],u);const c=g(t,["stopSequences"]);null!=c&&h(o,["stopSequences"],c);const d=g(t,["responseLogprobs"]);null!=d&&h(o,["responseLogprobs"],d);const f=g(t,["logprobs"]);null!=f&&h(o,["logprobs"],f);const p=g(t,["presencePenalty"]);null!=p&&h(o,["presencePenalty"],p);const m=g(t,["frequencyPenalty"]);null!=m&&h(o,["frequencyPenalty"],m);const y=g(t,["seed"]);null!=y&&h(o,["seed"],y);const v=g(t,["responseMimeType"]);null!=v&&h(o,["responseMimeType"],v);const b=g(t,["responseSchema"]);null!=b&&h(o,["responseSchema"],function(e){const t={},n=g(e,["anyOf"]);null!=n&&h(t,["anyOf"],n);const o=g(e,["default"]);null!=o&&h(t,["default"],o);const r=g(e,["description"]);null!=r&&h(t,["description"],r);const i=g(e,["enum"]);null!=i&&h(t,["enum"],i);const l=g(e,["example"]);null!=l&&h(t,["example"],l);const a=g(e,["format"]);null!=a&&h(t,["format"],a);const s=g(e,["items"]);null!=s&&h(t,["items"],s);const u=g(e,["maxItems"]);null!=u&&h(t,["maxItems"],u);const c=g(e,["maxLength"]);null!=c&&h(t,["maxLength"],c);const d=g(e,["maxProperties"]);null!=d&&h(t,["maxProperties"],d);const f=g(e,["maximum"]);null!=f&&h(t,["maximum"],f);const p=g(e,["minItems"]);null!=p&&h(t,["minItems"],p);const m=g(e,["minLength"]);null!=m&&h(t,["minLength"],m);const y=g(e,["minProperties"]);null!=y&&h(t,["minProperties"],y);const v=g(e,["minimum"]);null!=v&&h(t,["minimum"],v);const b=g(e,["nullable"]);null!=b&&h(t,["nullable"],b);const S=g(e,["pattern"]);null!=S&&h(t,["pattern"],S);const E=g(e,["properties"]);null!=E&&h(t,["properties"],E);const C=g(e,["propertyOrdering"]);null!=C&&h(t,["propertyOrdering"],C);const T=g(e,["required"]);null!=T&&h(t,["required"],T);const w=g(e,["title"]);null!=w&&h(t,["title"],w);const _=g(e,["type"]);return null!=_&&h(t,["type"],_),t}(et(b)));const S=g(t,["responseJsonSchema"]);null!=S&&h(o,["responseJsonSchema"],S);const E=g(t,["routingConfig"]);null!=E&&h(o,["routingConfig"],E);const C=g(t,["modelSelectionConfig"]);null!=C&&h(o,["modelConfig"],function(e){const t={},n=g(e,["featureSelectionPreference"]);return null!=n&&h(t,["featureSelectionPreference"],n),t}(C));const T=g(t,["safetySettings"]);if(void 0!==n&&null!=T){let e=T;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["method"]);null!=n&&h(t,["method"],n);const o=g(e,["category"]);null!=o&&h(t,["category"],o);const r=g(e,["threshold"]);return null!=r&&h(t,["threshold"],r),t}(e))),h(n,["safetySettings"],e)}const w=g(t,["tools"]);if(void 0!==n&&null!=w){let e=rt(w);Array.isArray(e)&&(e=e.map(e=>Vo(ot(e)))),h(n,["tools"],e)}const _=g(t,["toolConfig"]);void 0!==n&&null!=_&&h(n,["toolConfig"],Jo(_));const O=g(t,["labels"]);void 0!==n&&null!=O&&h(n,["labels"],O);const A=g(t,["cachedContent"]);void 0!==n&&null!=A&&h(n,["cachedContent"],it(e,A));const k=g(t,["responseModalities"]);null!=k&&h(o,["responseModalities"],k);const I=g(t,["mediaResolution"]);null!=I&&h(o,["mediaResolution"],I);const P=g(t,["speechConfig"]);null!=P&&h(o,["speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);if(null!=n&&h(t,["voiceConfig"],Wo(n)),void 0!==g(e,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=g(e,["languageCode"]);return null!=o&&h(t,["languageCode"],o),t}(tt(P)));const N=g(t,["audioTimestamp"]);null!=N&&h(o,["audioTimestamp"],N);const R=g(t,["thinkingConfig"]);return null!=R&&h(o,["thinkingConfig"],function(e){const t={},n=g(e,["includeThoughts"]);null!=n&&h(t,["includeThoughts"],n);const o=g(e,["thinkingBudget"]);return null!=o&&h(t,["thinkingBudget"],o),t}(R)),o}function Ko(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>jo(e))),h(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["generationConfig"],Yo(e,i,n)),n}function $o(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);null!=r&&h(n,["instances[]","content"],Qe(e,r));const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["taskType"]);void 0!==t&&null!=n&&h(t,["instances[]","task_type"],n);const o=g(e,["title"]);void 0!==t&&null!=o&&h(t,["instances[]","title"],o);const r=g(e,["outputDimensionality"]);void 0!==t&&null!=r&&h(t,["parameters","outputDimensionality"],r);const i=g(e,["mimeType"]);void 0!==t&&null!=i&&h(t,["instances[]","mimeType"],i);const l=g(e,["autoTruncate"]);return void 0!==t&&null!=l&&h(t,["parameters","autoTruncate"],l),{}}(i,n)),n}function Qo(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["prompt"]);null!=r&&h(n,["instances[0]","prompt"],r);const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&h(t,["parameters","storageUri"],n);const o=g(e,["negativePrompt"]);void 0!==t&&null!=o&&h(t,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==t&&null!=r&&h(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==t&&null!=i&&h(t,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==t&&null!=l&&h(t,["parameters","guidanceScale"],l);const a=g(e,["seed"]);void 0!==t&&null!=a&&h(t,["parameters","seed"],a);const s=g(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&h(t,["parameters","safetySetting"],s);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&h(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&h(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==t&&null!=d&&h(t,["parameters","includeRaiReason"],d);const f=g(e,["language"]);void 0!==t&&null!=f&&h(t,["parameters","language"],f);const p=g(e,["outputMimeType"]);void 0!==t&&null!=p&&h(t,["parameters","outputOptions","mimeType"],p);const m=g(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&h(t,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["addWatermark"]);void 0!==t&&null!=y&&h(t,["parameters","addWatermark"],y);const v=g(e,["imageSize"]);void 0!==t&&null!=v&&h(t,["parameters","sampleImageSize"],v);const b=g(e,["enhancePrompt"]);return void 0!==t&&null!=b&&h(t,["parameters","enhancePrompt"],b),{}}(i,n)),n}function Xo(e){const t={},n=g(e,["gcsUri"]);null!=n&&h(t,["gcsUri"],n);const o=g(e,["imageBytes"]);null!=o&&h(t,["bytesBase64Encoded"],at(o));const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}function Zo(e){const t={},n=g(e,["referenceImage"]);null!=n&&h(t,["referenceImage"],Xo(n));const o=g(e,["referenceId"]);null!=o&&h(t,["referenceId"],o);const r=g(e,["referenceType"]);null!=r&&h(t,["referenceType"],r);const i=g(e,["maskImageConfig"]);null!=i&&h(t,["maskImageConfig"],function(e){const t={},n=g(e,["maskMode"]);null!=n&&h(t,["maskMode"],n);const o=g(e,["segmentationClasses"]);null!=o&&h(t,["maskClasses"],o);const r=g(e,["maskDilation"]);return null!=r&&h(t,["dilation"],r),t}(i));const l=g(e,["controlImageConfig"]);null!=l&&h(t,["controlImageConfig"],function(e){const t={},n=g(e,["controlType"]);null!=n&&h(t,["controlType"],n);const o=g(e,["enableControlImageComputation"]);return null!=o&&h(t,["computeControl"],o),t}(l));const a=g(e,["styleImageConfig"]);null!=a&&h(t,["styleImageConfig"],function(e){const t={},n=g(e,["styleDescription"]);return null!=n&&h(t,["styleDescription"],n),t}(a));const s=g(e,["subjectImageConfig"]);return null!=s&&h(t,["subjectImageConfig"],function(e){const t={},n=g(e,["subjectType"]);null!=n&&h(t,["subjectType"],n);const o=g(e,["subjectDescription"]);return null!=o&&h(t,["subjectDescription"],o),t}(s)),t}function er(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["prompt"]);null!=r&&h(n,["instances[0]","prompt"],r);const i=g(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Zo(e))),h(n,["instances[0]","referenceImages"],e)}const l=g(t,["config"]);return null!=l&&h(n,["config"],function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&h(t,["parameters","storageUri"],n);const o=g(e,["negativePrompt"]);void 0!==t&&null!=o&&h(t,["parameters","negativePrompt"],o);const r=g(e,["numberOfImages"]);void 0!==t&&null!=r&&h(t,["parameters","sampleCount"],r);const i=g(e,["aspectRatio"]);void 0!==t&&null!=i&&h(t,["parameters","aspectRatio"],i);const l=g(e,["guidanceScale"]);void 0!==t&&null!=l&&h(t,["parameters","guidanceScale"],l);const a=g(e,["seed"]);void 0!==t&&null!=a&&h(t,["parameters","seed"],a);const s=g(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&h(t,["parameters","safetySetting"],s);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&h(t,["parameters","personGeneration"],u);const c=g(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&h(t,["parameters","includeSafetyAttributes"],c);const d=g(e,["includeRaiReason"]);void 0!==t&&null!=d&&h(t,["parameters","includeRaiReason"],d);const f=g(e,["language"]);void 0!==t&&null!=f&&h(t,["parameters","language"],f);const p=g(e,["outputMimeType"]);void 0!==t&&null!=p&&h(t,["parameters","outputOptions","mimeType"],p);const m=g(e,["outputCompressionQuality"]);void 0!==t&&null!=m&&h(t,["parameters","outputOptions","compressionQuality"],m);const y=g(e,["addWatermark"]);void 0!==t&&null!=y&&h(t,["parameters","addWatermark"],y);const v=g(e,["editMode"]);void 0!==t&&null!=v&&h(t,["parameters","editMode"],v);const b=g(e,["baseSteps"]);return void 0!==t&&null!=b&&h(t,["parameters","editConfig","baseSteps"],b),{}}(l,n)),n}function tr(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["image"]);null!=r&&h(n,["instances[0]","image"],Xo(r));const i=g(t,["upscaleFactor"]);null!=i&&h(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=g(t,["config"]);return null!=l&&h(n,["config"],function(e,t){const n=g(e,["outputGcsUri"]);void 0!==t&&null!=n&&h(t,["parameters","storageUri"],n);const o=g(e,["includeRaiReason"]);void 0!==t&&null!=o&&h(t,["parameters","includeRaiReason"],o);const r=g(e,["outputMimeType"]);void 0!==t&&null!=r&&h(t,["parameters","outputOptions","mimeType"],r);const i=g(e,["outputCompressionQuality"]);void 0!==t&&null!=i&&h(t,["parameters","outputOptions","compressionQuality"],i);const l=g(e,["enhanceInputImage"]);void 0!==t&&null!=l&&h(t,["parameters","upscaleConfig","enhanceInputImage"],l);const a=g(e,["imagePreservationFactor"]);void 0!==t&&null!=a&&h(t,["parameters","upscaleConfig","imagePreservationFactor"],a);const s=g(e,["numberOfImages"]);void 0!==t&&null!=s&&h(t,["parameters","sampleCount"],s);const u=g(e,["mode"]);return void 0!==t&&null!=u&&h(t,["parameters","mode"],u),{}}(l,n)),n}function nr(e,t){const n=g(e,["prompt"]);void 0!==t&&null!=n&&h(t,["instances[0]","prompt"],n);const o=g(e,["personImage"]);void 0!==t&&null!=o&&h(t,["instances[0]","personImage","image"],Xo(o));const r=g(e,["productImages"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["productImage"]);return null!=n&&h(t,["image"],Xo(n)),t}(e))),h(t,["instances[0]","productImages"],e)}return{}}function or(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["source"]);null!=r&&h(n,["config"],nr(r,n));const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["numberOfImages"]);void 0!==t&&null!=n&&h(t,["parameters","sampleCount"],n);const o=g(e,["baseSteps"]);void 0!==t&&null!=o&&h(t,["parameters","editConfig","baseSteps"],o);const r=g(e,["outputGcsUri"]);void 0!==t&&null!=r&&h(t,["parameters","storageUri"],r);const i=g(e,["seed"]);void 0!==t&&null!=i&&h(t,["parameters","seed"],i);const l=g(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&h(t,["parameters","safetySetting"],l);const a=g(e,["personGeneration"]);void 0!==t&&null!=a&&h(t,["parameters","personGeneration"],a);const s=g(e,["addWatermark"]);void 0!==t&&null!=s&&h(t,["parameters","addWatermark"],s);const u=g(e,["outputMimeType"]);void 0!==t&&null!=u&&h(t,["parameters","outputOptions","mimeType"],u);const c=g(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&h(t,["parameters","outputOptions","compressionQuality"],c);const d=g(e,["enhancePrompt"]);return void 0!==t&&null!=d&&h(t,["parameters","enhancePrompt"],d),{}}(i,n)),n}function rr(e,t){const n=g(e,["prompt"]);void 0!==t&&null!=n&&h(t,["instances[0]","prompt"],n);const o=g(e,["image"]);void 0!==t&&null!=o&&h(t,["instances[0]","image"],Xo(o));const r=g(e,["scribbleImage"]);return void 0!==t&&null!=r&&h(t,["instances[0]","scribble"],function(e){const t={},n=g(e,["image"]);return null!=n&&h(t,["image"],Xo(n)),t}(r)),{}}function ir(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["source"]);null!=r&&h(n,["config"],rr(r,n));const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["mode"]);void 0!==t&&null!=n&&h(t,["parameters","mode"],n);const o=g(e,["maxPredictions"]);void 0!==t&&null!=o&&h(t,["parameters","maxPredictions"],o);const r=g(e,["confidenceThreshold"]);void 0!==t&&null!=r&&h(t,["parameters","confidenceThreshold"],r);const i=g(e,["maskDilation"]);void 0!==t&&null!=i&&h(t,["parameters","maskDilation"],i);const l=g(e,["binaryColorThreshold"]);return void 0!==t&&null!=l&&h(t,["parameters","binaryColorThreshold"],l),{}}(i,n)),n}function lr(e,t){const n={},o=g(t,["config"]);return null!=o&&h(n,["config"],function(e,t,n){const o=g(t,["pageSize"]);void 0!==n&&null!=o&&h(n,["_query","pageSize"],o);const r=g(t,["pageToken"]);void 0!==n&&null!=r&&h(n,["_query","pageToken"],r);const i=g(t,["filter"]);void 0!==n&&null!=i&&h(n,["_query","filter"],i);const l=g(t,["queryBase"]);return void 0!==n&&null!=l&&h(n,["_url","models_url"],ut(e,l)),{}}(e,o,n)),n}function ar(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],function(e,t){const n=g(e,["displayName"]);void 0!==t&&null!=n&&h(t,["displayName"],n);const o=g(e,["description"]);void 0!==t&&null!=o&&h(t,["description"],o);const r=g(e,["defaultCheckpointId"]);return void 0!==t&&null!=r&&h(t,["defaultCheckpointId"],r),{}}(r,n)),n}function sr(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>jo(e))),h(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["config"],function(e,t){const n=g(e,["systemInstruction"]);void 0!==t&&null!=n&&h(t,["systemInstruction"],jo($e(n)));const o=g(e,["tools"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Vo(e))),h(t,["tools"],e)}const r=g(e,["generationConfig"]);return void 0!==t&&null!=r&&h(t,["generationConfig"],r),{}}(i,n)),n}function ur(e){const t={},n=g(e,["uri"]);null!=n&&h(t,["gcsUri"],n);const o=g(e,["videoBytes"]);null!=o&&h(t,["bytesBase64Encoded"],at(o));const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}function cr(e,t){const n=g(e,["numberOfVideos"]);void 0!==t&&null!=n&&h(t,["parameters","sampleCount"],n);const o=g(e,["outputGcsUri"]);void 0!==t&&null!=o&&h(t,["parameters","storageUri"],o);const r=g(e,["fps"]);void 0!==t&&null!=r&&h(t,["parameters","fps"],r);const i=g(e,["durationSeconds"]);void 0!==t&&null!=i&&h(t,["parameters","durationSeconds"],i);const l=g(e,["seed"]);void 0!==t&&null!=l&&h(t,["parameters","seed"],l);const a=g(e,["aspectRatio"]);void 0!==t&&null!=a&&h(t,["parameters","aspectRatio"],a);const s=g(e,["resolution"]);void 0!==t&&null!=s&&h(t,["parameters","resolution"],s);const u=g(e,["personGeneration"]);void 0!==t&&null!=u&&h(t,["parameters","personGeneration"],u);const c=g(e,["pubsubTopic"]);void 0!==t&&null!=c&&h(t,["parameters","pubsubTopic"],c);const d=g(e,["negativePrompt"]);void 0!==t&&null!=d&&h(t,["parameters","negativePrompt"],d);const f=g(e,["enhancePrompt"]);void 0!==t&&null!=f&&h(t,["parameters","enhancePrompt"],f);const p=g(e,["generateAudio"]);void 0!==t&&null!=p&&h(t,["parameters","generateAudio"],p);const m=g(e,["lastFrame"]);void 0!==t&&null!=m&&h(t,["instances[0]","lastFrame"],Xo(m));const y=g(e,["referenceImages"]);if(void 0!==t&&null!=y){let e=y;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["image"]);null!=n&&h(t,["image"],Xo(n));const o=g(e,["referenceType"]);return null!=o&&h(t,["referenceType"],o),t}(e))),h(t,["instances[0]","referenceImages"],e)}const v=g(e,["mask"]);void 0!==t&&null!=v&&h(t,["instances[0]","mask"],function(e){const t={},n=g(e,["image"]);null!=n&&h(t,["_self"],Xo(n));const o=g(e,["maskMode"]);return null!=o&&h(t,["maskMode"],o),t}(v));const b=g(e,["compressionQuality"]);return void 0!==t&&null!=b&&h(t,["parameters","compressionQuality"],b),{}}function dr(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["prompt"]);null!=r&&h(n,["instances[0]","prompt"],r);const i=g(t,["image"]);null!=i&&h(n,["instances[0]","image"],Xo(i));const l=g(t,["video"]);null!=l&&h(n,["instances[0]","video"],ur(l));const a=g(t,["source"]);null!=a&&h(n,["config"],function(e,t){const n=g(e,["prompt"]);void 0!==t&&null!=n&&h(t,["instances[0]","prompt"],n);const o=g(e,["image"]);void 0!==t&&null!=o&&h(t,["instances[0]","image"],Xo(o));const r=g(e,["video"]);return void 0!==t&&null!=r&&h(t,["instances[0]","video"],ur(r)),{}}(a,n));const s=g(t,["config"]);return null!=s&&h(n,["config"],cr(s,n)),n}function fr(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function pr(e){const t={},n=g(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["retrievedUrl"]);null!=n&&h(t,["retrievedUrl"],n);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(t,["urlRetrievalStatus"],o),t}(e))),h(t,["urlMetadata"],e)}return t}function mr(e){const t={},n=g(e,["content"]);null!=n&&h(t,["content"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>fr(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}(n));const o=g(e,["citationMetadata"]);null!=o&&h(t,["citationMetadata"],function(e){const t={},n=g(e,["citationSources"]);return null!=n&&h(t,["citations"],n),t}(o));const r=g(e,["tokenCount"]);null!=r&&h(t,["tokenCount"],r);const i=g(e,["finishReason"]);null!=i&&h(t,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(t,["urlContextMetadata"],pr(l));const a=g(e,["avgLogprobs"]);null!=a&&h(t,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(t,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(t,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(t,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(t,["safetyRatings"],d),t}function hr(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>mr(e))),h(t,["candidates"],e)}const r=g(e,["modelVersion"]);null!=r&&h(t,["modelVersion"],r);const i=g(e,["promptFeedback"]);null!=i&&h(t,["promptFeedback"],i);const l=g(e,["responseId"]);null!=l&&h(t,["responseId"],l);const a=g(e,["usageMetadata"]);return null!=a&&h(t,["usageMetadata"],a),t}function gr(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["values"]);return null!=n&&h(t,["values"],n),t}(e))),h(t,["embeddings"],e)}return null!=g(e,["metadata"])&&h(t,["metadata"],{}),t}function yr(e){const t={},n=g(e,["safetyAttributes","categories"]);null!=n&&h(t,["categories"],n);const o=g(e,["safetyAttributes","scores"]);null!=o&&h(t,["scores"],o);const r=g(e,["contentType"]);return null!=r&&h(t,["contentType"],r),t}function vr(e){const t={},n=g(e,["_self"]);null!=n&&h(t,["image"],function(e){const t={},n=g(e,["bytesBase64Encoded"]);null!=n&&h(t,["imageBytes"],at(n));const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(n));const o=g(e,["raiFilteredReason"]);null!=o&&h(t,["raiFilteredReason"],o);const r=g(e,["_self"]);return null!=r&&h(t,["safetyAttributes"],yr(r)),t}function br(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["description"]);null!=r&&h(t,["description"],r);const i=g(e,["version"]);null!=i&&h(t,["version"],i);const l=g(e,["_self"]);null!=l&&h(t,["tunedModelInfo"],function(e){const t={},n=g(e,["baseModel"]);null!=n&&h(t,["baseModel"],n);const o=g(e,["createTime"]);null!=o&&h(t,["createTime"],o);const r=g(e,["updateTime"]);return null!=r&&h(t,["updateTime"],r),t}(l));const a=g(e,["inputTokenLimit"]);null!=a&&h(t,["inputTokenLimit"],a);const s=g(e,["outputTokenLimit"]);null!=s&&h(t,["outputTokenLimit"],s);const u=g(e,["supportedGenerationMethods"]);return null!=u&&h(t,["supportedActions"],u),t}function Sr(e){const t={},n=g(e,["_self"]);return null!=n&&h(t,["video"],function(e){const t={},n=g(e,["video","uri"]);null!=n&&h(t,["uri"],n);const o=g(e,["video","encodedVideo"]);null!=o&&h(t,["videoBytes"],at(o));const r=g(e,["encoding"]);return null!=r&&h(t,["mimeType"],r),t}(n)),t}function Er(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["metadata"]);null!=o&&h(t,["metadata"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);null!=i&&h(t,["error"],i);const l=g(e,["response","generateVideoResponse"]);return null!=l&&h(t,["response"],function(e){const t={},n=g(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Sr(e))),h(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(t,["raiMediaFilteredReasons"],r),t}(l)),t}function Cr(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["data"]);null!=o&&h(t,["data"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={},n=g(e,["displayName"]);null!=n&&h(t,["displayName"],n);const o=g(e,["fileUri"]);null!=o&&h(t,["fileUri"],o);const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function Tr(e){const t={},n=g(e,["urlMetadata"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["retrievedUrl"]);null!=n&&h(t,["retrievedUrl"],n);const o=g(e,["urlRetrievalStatus"]);return null!=o&&h(t,["urlRetrievalStatus"],o),t}(e))),h(t,["urlMetadata"],e)}return t}function wr(e){const t={},n=g(e,["content"]);null!=n&&h(t,["content"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Cr(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}(n));const o=g(e,["citationMetadata"]);null!=o&&h(t,["citationMetadata"],function(e){const t={},n=g(e,["citations"]);return null!=n&&h(t,["citations"],n),t}(o));const r=g(e,["finishMessage"]);null!=r&&h(t,["finishMessage"],r);const i=g(e,["finishReason"]);null!=i&&h(t,["finishReason"],i);const l=g(e,["urlContextMetadata"]);null!=l&&h(t,["urlContextMetadata"],Tr(l));const a=g(e,["avgLogprobs"]);null!=a&&h(t,["avgLogprobs"],a);const s=g(e,["groundingMetadata"]);null!=s&&h(t,["groundingMetadata"],s);const u=g(e,["index"]);null!=u&&h(t,["index"],u);const c=g(e,["logprobsResult"]);null!=c&&h(t,["logprobsResult"],c);const d=g(e,["safetyRatings"]);return null!=d&&h(t,["safetyRatings"],d),t}function _r(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["candidates"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>wr(e))),h(t,["candidates"],e)}const r=g(e,["createTime"]);null!=r&&h(t,["createTime"],r);const i=g(e,["modelVersion"]);null!=i&&h(t,["modelVersion"],i);const l=g(e,["promptFeedback"]);null!=l&&h(t,["promptFeedback"],l);const a=g(e,["responseId"]);null!=a&&h(t,["responseId"],a);const s=g(e,["usageMetadata"]);return null!=s&&h(t,["usageMetadata"],s),t}function Or(e){const t={},n=g(e,["values"]);null!=n&&h(t,["values"],n);const o=g(e,["statistics"]);return null!=o&&h(t,["statistics"],function(e){const t={},n=g(e,["truncated"]);null!=n&&h(t,["truncated"],n);const o=g(e,["token_count"]);return null!=o&&h(t,["tokenCount"],o),t}(o)),t}function Ar(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["predictions[]","embeddings"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Or(e))),h(t,["embeddings"],e)}const r=g(e,["metadata"]);return null!=r&&h(t,["metadata"],function(e){const t={},n=g(e,["billableCharacterCount"]);return null!=n&&h(t,["billableCharacterCount"],n),t}(r)),t}function kr(e){const t={},n=g(e,["gcsUri"]);null!=n&&h(t,["gcsUri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(t,["imageBytes"],at(o));const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}function Ir(e){const t={},n=g(e,["safetyAttributes","categories"]);null!=n&&h(t,["categories"],n);const o=g(e,["safetyAttributes","scores"]);null!=o&&h(t,["scores"],o);const r=g(e,["contentType"]);return null!=r&&h(t,["contentType"],r),t}function Pr(e){const t={},n=g(e,["_self"]);null!=n&&h(t,["image"],kr(n));const o=g(e,["raiFilteredReason"]);null!=o&&h(t,["raiFilteredReason"],o);const r=g(e,["_self"]);null!=r&&h(t,["safetyAttributes"],Ir(r));const i=g(e,["prompt"]);return null!=i&&h(t,["enhancedPrompt"],i),t}function Nr(e){const t={},n=g(e,["_self"]);null!=n&&h(t,["mask"],kr(n));const o=g(e,["labels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["label"]);null!=n&&h(t,["label"],n);const o=g(e,["score"]);return null!=o&&h(t,["score"],o),t}(e))),h(t,["labels"],e)}return t}function Rr(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["displayName"]);null!=o&&h(t,["displayName"],o);const r=g(e,["description"]);null!=r&&h(t,["description"],r);const i=g(e,["versionId"]);null!=i&&h(t,["version"],i);const l=g(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["endpoint"]);null!=n&&h(t,["name"],n);const o=g(e,["deployedModelId"]);return null!=o&&h(t,["deployedModelId"],o),t}(e))),h(t,["endpoints"],e)}const a=g(e,["labels"]);null!=a&&h(t,["labels"],a);const s=g(e,["_self"]);null!=s&&h(t,["tunedModelInfo"],function(e){const t={},n=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&h(t,["baseModel"],n);const o=g(e,["createTime"]);null!=o&&h(t,["createTime"],o);const r=g(e,["updateTime"]);return null!=r&&h(t,["updateTime"],r),t}(s));const u=g(e,["defaultCheckpointId"]);null!=u&&h(t,["defaultCheckpointId"],u);const c=g(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["checkpointId"]);null!=n&&h(t,["checkpointId"],n);const o=g(e,["epoch"]);null!=o&&h(t,["epoch"],o);const r=g(e,["step"]);return null!=r&&h(t,["step"],r),t}(e))),h(t,["checkpoints"],e)}return t}function xr(e){const t={},n=g(e,["_self"]);return null!=n&&h(t,["video"],function(e){const t={},n=g(e,["gcsUri"]);null!=n&&h(t,["uri"],n);const o=g(e,["bytesBase64Encoded"]);null!=o&&h(t,["videoBytes"],at(o));const r=g(e,["mimeType"]);return null!=r&&h(t,["mimeType"],r),t}(n)),t}function Mr(e){const t={},n=g(e,["name"]);null!=n&&h(t,["name"],n);const o=g(e,["metadata"]);null!=o&&h(t,["metadata"],o);const r=g(e,["done"]);null!=r&&h(t,["done"],r);const i=g(e,["error"]);null!=i&&h(t,["error"],i);const l=g(e,["response"]);return null!=l&&h(t,["response"],function(e){const t={},n=g(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>xr(e))),h(t,["generatedVideos"],e)}const o=g(e,["raiMediaFilteredCount"]);null!=o&&h(t,["raiMediaFilteredCount"],o);const r=g(e,["raiMediaFilteredReasons"]);return null!=r&&h(t,["raiMediaFilteredReasons"],r),t}(l)),t}const Dr="x-goog-api-client",Ur="google-genai-sdk/".concat("1.20.0"),Lr=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class qr{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?"https://".concat(this.clientOptions.location,"-aiplatform.googleapis.com/"):"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return"projects/".concat(this.clientOptions.project,"/locations/").concat(this.clientOptions.location)}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const o=[this.getRequestUrlInternal(t)];n&&o.push(this.getBaseResourcePath()),""!==e&&o.push(e);return new URL("".concat(o.join("/")))}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))o.searchParams.append(i,String(l));let r={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.unaryApiCall(o,r,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[o,r]of Object.entries(t))"object"===typeof r?n[o]=Object.assign(Object.assign({},n[o]),r):void 0!==r&&(n[o]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);o.searchParams.has("alt")&&"sse"===o.searchParams.get("alt")||o.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,e.abortSignal),this.streamApiCall(o,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const o=new AbortController,r=o.signal;if(t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0){const e=setTimeout(()=>o.abort(),t.timeout);e&&"function"===typeof e.unref&&e.unref()}n&&n.addEventListener("abort",()=>{o.abort()}),e.signal=r}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return void console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");let n={};if("string"===typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!==typeof t||null===t||Array.isArray(t))return void console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");n=t}catch(i){return void console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.")}function o(e,t){const n=Object.assign({},e);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const e=t[r],i=n[r];e&&"object"===typeof e&&!Array.isArray(e)&&i&&"object"===typeof i&&!Array.isArray(i)?n[r]=o(i,e):(i&&e&&typeof i!==typeof e&&console.warn('includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "'.concat(r,'". Original type: ').concat(typeof i,", New type: ").concat(typeof e,". Overwriting.")),n[r]=e)}return n}const r=o(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Fr(e),new ye(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await Fr(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return Sn(this,arguments,function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:l}=yield bn(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=o.decode(l,{stream:!0});try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,o=t.code,r="got status: ".concat(n,". ").concat(JSON.stringify(e));if(o>=400&&o<600){throw new An({message:r,status:o})}}}catch(r){if("ApiError"===r.name)throw r}t+=a;let s=t.match(Lr);for(;s;){const n=s[1];try{const o=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield bn(new ye(o)),t=t.slice(s[0].length),s=t.match(Lr)}catch(r){throw new Error("exception parsing stream chunk ".concat(n,". ").concat(r))}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error("exception ".concat(e," sending request"))})}getDefaultHeaders(){const e={},t=Ur+" "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Dr]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,o]of Object.entries(e.headers))t.append(n,o);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const o={};null!=t&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name="files/".concat(o.name));const r=this.clientOptions.uploader,i=await r.stat(e);o.sizeBytes=String(i.size);const l=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;const a=await this.fetchUploadUrl(o,t);return r.upload(e,a,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let o={};o=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(e.sizeBytes),"X-Goog-Upload-Header-Content-Type":"".concat(e.mimeType)}};const r={file:e},i=await this.request({path:m("upload/v1beta/files",r._url),body:JSON.stringify(r),httpMethod:"POST",httpOptions:o});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=null===(n=null===i||void 0===i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===l)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l}}async function Fr(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let o;o=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);if(n>=400&&n<600){throw new An({message:r,status:n})}throw new Error(r)}}let jr=!1;function Hr(e){for(const t of e){if(Gr(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return jr}function zr(e){var t;const n=null!==(t=e[Dr])&&void 0!==t?t:"";e[Dr]=(n+" ".concat("mcp_used/unknown")).trimStart()}function Gr(e){return null!==e&&"object"===typeof e&&e instanceof Br}function Vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Sn(this,arguments,function*(){let n,o=0;for(;o<t;){const t=yield bn(e.listTools({cursor:n}));for(const e of t.tools)yield yield bn(e),o++;if(!t.nextCursor)break;n=t.nextCursor}})}class Br{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Br(e,t)}async initialize(){var e,t,n,o;if(this.mcpTools.length>0)return;const r={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,En(Vr(c)));!(e=(l=await s.next()).done);a=!0){o=l.value,a=!1;const e=o;i.push(e);const t=e.name;if(r[t])throw new Error("Duplicate function name ".concat(t," found in MCP tools. Please ensure function names are unique."));r[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],o=new Set;for(const r of e){const e=r.name;if(o.has(e))throw new Error("Duplicate function name ".concat(e," found in MCP tools. Please ensure function names are unique."));o.add(e);const i=ft(r,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await e.callTool({name:n.name,arguments:n.args},void 0,o);t.push({functionResponse:{name:n.name,response:r.isError?{error:r}:r}})}return t}}class Jr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),a="".concat(o,"/ws/google.ai.generativelanguage.").concat(r,".GenerativeService.BidiGenerateMusic?key=").concat(l);let s=()=>{};const u=new Promise(e=>{s=e}),c=e.callbacks,d=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const o=new qe;let r;r=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const i=mo(r);Object.assign(o,i),t(o)}(0,c.onmessage,e)},onerror:null!==(t=null===c||void 0===c?void 0:c.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===c||void 0===c?void 0:c.onclose)&&void 0!==n?n:function(e){}}),f=this.webSocketFactory.create(a,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),d);f.connect(),await u;const p=Jn({setup:Vn({model:Fe(this.apiClient,e.model)})});return f.send(JSON.stringify(p)),new Wr(f,this.apiClient)}}class Wr{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=Bn(function(e){const t={},n=g(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>zn(e))),h(t,["weightedPrompts"],e)}return t}(e));this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=Jn(function(e){const t={},n=g(e,["musicGenerationConfig"]);return null!=n&&h(t,["musicGenerationConfig"],Gn(n)),t}(e));this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t=Jn({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(he.PLAY)}pause(){this.sendPlaybackControl(he.PAUSE)}stop(){this.sendPlaybackControl(he.STOP)}resetContext(){this.sendPlaybackControl(he.RESET_CONTEXT)}close(){this.conn.close()}}class Yr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Jr(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,o,r,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&Hr(e.config.tools)&&zr(c);const d=function(e){const t=new Headers;for(const[n,o]of Object.entries(e))t.append(n,o);return t}(c);if(this.apiClient.isVertexAI())u="".concat(a,"/ws/google.cloud.aiplatform.").concat(s,".LlmBidiService/BidiGenerateContent"),await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),"v1alpha"!==s&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),t="BidiGenerateContentConstrained",n="access_token"),u="".concat(a,"/ws/google.ai.generativelanguage.").concat(s,".GenerativeService.").concat(t,"?").concat(n,"=").concat(e)}let f=()=>{};const p=new Promise(e=>{f=e}),m=e.callbacks,y=this.apiClient,v={onopen:function(){var e;null===(e=null===m||void 0===m?void 0:m.onopen)||void 0===e||e.call(m),f({})},onmessage:e=>{!async function(e,t,n){const o=new Le;let r;r=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(r);if(e.isVertexAI()){const e=So(i);Object.assign(o,e)}else{const e=uo(i);Object.assign(o,e)}t(o)}(y,m.onmessage,e)},onerror:null!==(t=null===m||void 0===m?void 0:m.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===m||void 0===m?void 0:m.onclose)&&void 0!==n?n:function(e){}},b=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),v);b.connect(),await p;let S=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const e=this.apiClient.getProject(),t=this.apiClient.getLocation();S="projects/".concat(e,"/locations/").concat(t,"/")+S}let E={};this.apiClient.isVertexAI()&&void 0===(null===(o=e.config)||void 0===o?void 0:o.responseModalities)&&(void 0===e.config?e.config={responseModalities:[L.AUDIO]}:e.config.responseModalities=[L.AUDIO]),(null===(r=e.config)||void 0===r?void 0:r.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],T=[];for(const h of C)if(this.isCallableTool(h)){const e=h;T.push(await e.tool())}else T.push(h);T.length>0&&(e.config.tools=T);const w={model:S,config:e.config,callbacks:e.callbacks};return E=this.apiClient.isVertexAI()?function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["setup","model"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],to(r,n)),n}(this.apiClient,w):function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["setup","model"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],jn(r,n)),n}(this.apiClient,w),delete E.config,b.send(JSON.stringify(E)),new $r(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const Kr={turnComplete:!0};class $r{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let o=[];try{o=Xe(t.turns),o=e.isVertexAI()?o.map(e=>jo(e)):o.map(e=>Co(e))}catch(n){throw new Error('Failed to parse client content "turns", type: \''.concat(typeof t.turns,"'"))}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const o of n){if("object"!==typeof o||null===o||!("name"in o)||!("response"in o))throw new Error("Could not parse function response, type '".concat(typeof o,"'."));if(!e.isVertexAI()&&!("id"in o))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Kr),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:no(e)}:{realtimeInput:Hn(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Qr(e){var t,n,o;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let r=!1;for(const l of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(Xr(l)){r=!0;break}if(!r)return!0;const i=null===(o=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===o?void 0:o.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function Xr(e){return"callTool"in e&&"function"===typeof e.callTool}function Zr(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class ei extends p{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,o,r,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,o;return null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Xr(e)))&&void 0!==o&&o}(e)||Qr(e.config))return await this.generateContentInternal(l);if(function(e){var t,n,o;return null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>!Xr(e)))&&void 0!==o&&o}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let a,s;const u=Xe(l.contents),c=null!==(o=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let d=0;for(;d<c&&(a=await this.generateContentInternal(l),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const o of null!==(i=null===(r=e.config)||void 0===r?void 0:r.tools)&&void 0!==i?i:[])if(Xr(o)){const e=o,t=await e.callTool(a.functionCalls);n.push(...t)}d++,s={role:"user",parts:n},l.contents=Xe(l.contents),l.contents.push(t),l.contents.push(s),Zr(l.config)&&(u.push(t),u.push(s))}return Zr(l.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async e=>{if(this.maybeMoveToResponseJsonSchem(e),Qr(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const o=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:o.push(i);let r;return r=n?{generatedImages:o,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:o,sdkHttpResponse:e.sdkHttpResponse},r}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Bt(ge.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,o;const r=null===(t=e.config)||void 0===t?void 0:t.tools;if(!r)return e;const i=await Promise.all(r.map(async e=>{if(Xr(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&Hr(e.config.tools)){const t=null!==(o=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==o?o:{};let r=Object.assign({},t);0===Object.keys(r).length&&(r=this.apiClient.getDefaultHeaders()),zr(r),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:r})}return l}async initAfcToolsMap(e){var t,n,o;const r=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Xr(i)){const e=i,t=await e.tool();for(const n of null!==(o=t.functionDeclarations)&&void 0!==o?o:[]){if(!n.name)throw new Error("Function declaration name is required.");if(r.has(n.name))throw new Error("Duplicate tool declaration name: ".concat(n.name));r.set(n.name,e)}}return r}async processAfcStream(e){var t,n,o;const r=null!==(o=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==o?o:10;let i=!1,l=0;return function(e,t,n){var o,a;return Sn(this,arguments,function*(){for(var s,u,c,d;l<r;){i&&(l++,i=!1);const g=yield bn(e.processParamsMaybeAddMcpUsage(n)),y=yield bn(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var f,p=!0,m=(u=void 0,En(y));!(s=(f=yield bn(m.next())).done);p=!0){d=f.value,p=!1;const e=d;if(yield yield bn(e),e.candidates&&(null===(o=e.candidates[0])||void 0===o?void 0:o.content)){b.push(e.candidates[0].content);for(const n of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(l<r&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error("Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ".concat(t.keys(),", mising tool: ").concat(n.functionCall.name));{const e=yield bn(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(h){u={error:h}}finally{try{p||s||!(c=m.return)||(yield bn(c.call(m)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const e=new ve;e.candidates=[{content:{role:"user",parts:v}}],yield yield bn(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const o=Xe(n.contents).concat(t);n.contents=o}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Ko(this.apiClient,e);return l=m("{model}:generateContent",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=_r(e),n=new ve;return Object.assign(n,t),n})}{const t=No(this.apiClient,e);return l=m("{model}:generateContent",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=hr(e),n=new ve;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Ko(this.apiClient,e);l=m("{model}:streamGenerateContent?alt=sse",o._url),a=o._query,delete o.config,delete o._url,delete o._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return Sn(this,arguments,function*(){var t,n,o,r;try{for(var i,l=!0,a=En(e);!(t=(i=yield bn(a.next())).done);l=!0){r=i.value,l=!1;const e=r,t=_r(yield bn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new ve;Object.assign(n,t),yield yield bn(n)}}catch(s){n={error:s}}finally{try{l||t||!(o=a.return)||(yield bn(o.call(a)))}finally{if(n)throw n.error}}})})}{const t=No(this.apiClient,e);l=m("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t.config,delete t._url,delete t._query;return i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}),i.then(function(e){return Sn(this,arguments,function*(){var t,n,o,r;try{for(var i,l=!0,a=En(e);!(t=(i=yield bn(a.next())).done);l=!0){r=i.value,l=!1;const e=r,t=hr(yield bn(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new ve;Object.assign(n,t),yield yield bn(n)}}catch(s){n={error:s}}finally{try{l||t||!(o=a.return)||(yield bn(o.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=$o(this.apiClient,e);return l=m("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Ar(e),n=new be;return Object.assign(n,t),n})}{const t=Ro(this.apiClient,e);return l=m("{model}:batchEmbedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=gr(e),n=new be;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=Qo(this.apiClient,e);return l=m("{model}:predict",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Pr(e))),h(t,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&h(t,["positivePromptSafetyAttributes"],Ir(r)),t}(e),n=new Se;return Object.assign(n,t),n})}{const t=xo(this.apiClient,e);return l=m("{model}:predict",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>vr(e))),h(t,["generatedImages"],e)}const r=g(e,["positivePromptSafetyAttributes"]);return null!=r&&h(t,["positivePromptSafetyAttributes"],yr(r)),t}(e),n=new Se;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=er(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Pr(e))),h(t,["generatedImages"],e)}return t}(e),n=new Ee;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=tr(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["predictions"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Pr(e))),h(t,["generatedImages"],e)}return t}(e),n=new Ce;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=or(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Pr(e))),h(t,["generatedImages"],e)}return t}(e),n=new Te;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=ir(this.apiClient,e);return r=m("{model}:predict",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e){const t={},n=g(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Nr(e))),h(t,["generatedMasks"],e)}return t}(e),n=new we;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","name"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Rr(e))}{const t=function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","name"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>br(e))}}async listInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=lr(this.apiClient,e);return l=m("{models_url}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=ct(r);Array.isArray(e)&&(e=e.map(e=>Rr(e))),h(t,["models"],e)}return t}(e),n=new _e;return Object.assign(n,t),n})}{const t=Mo(this.apiClient,e);return l=m("{models_url}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["_self"]);if(null!=r){let e=ct(r);Array.isArray(e)&&(e=e.map(e=>br(e))),h(t,["models"],e)}return t}(e),n=new _e;return Object.assign(n,t),n})}}async update(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=ar(this.apiClient,e);return l=m("{model}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Rr(e))}{const t=Do(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>br(e))}}async delete(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","name"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new Oe;return Object.assign(n,t),n})}{const t=function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","name"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],r),n}(this.apiClient,e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);return null!=n&&h(t,["sdkHttpResponse"],n),t}(e),n=new Oe;return Object.assign(n,t),n})}}async countTokens(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=sr(this.apiClient,e);return l=m("{model}:countTokens",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["totalTokens"]);return null!=o&&h(t,["totalTokens"],o),t}(e),n=new Ae;return Object.assign(n,t),n})}{const t=Uo(this.apiClient,e);return l=m("{model}:countTokens",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["totalTokens"]);null!=o&&h(t,["totalTokens"],o);const r=g(e,["cachedContentTokenCount"]);return null!=r&&h(t,["cachedContentTokenCount"],r),t}(e),n=new Ae;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["_url","model"],Fe(e,o));const r=g(t,["contents"]);if(null!=r){let e=Xe(r);Array.isArray(e)&&(e=e.map(e=>jo(e))),h(n,["contents"],e)}const i=g(t,["config"]);return null!=i&&h(n,["config"],i),n}(this.apiClient,e);return r=m("{model}:computeTokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["tokensInfo"]);return null!=o&&h(t,["tokensInfo"],o),t}(e),n=new ke;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=dr(this.apiClient,e);return l=m("{model}:predictLongRunning",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Mr(e),n=new Ie;return Object.assign(n,t),n})}{const t=qo(this.apiClient,e);return l=m("{model}:predictLongRunning",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i.then(e=>{const t=Er(e),n=new Ie;return Object.assign(n,t),n})}}}class ti extends p{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let o;n&&"httpOptions"in n&&(o=n.httpOptions);const r=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:o}});return t._fromAPIResponse({apiResponse:r,isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["operationName"]);null!=n&&h(t,["_url","operationName"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return l=m("{operationName}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=g(e,["operationName"]);null!=n&&h(t,["_url","operationName"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return l=m("{operationName}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=g(e,["operationName"]);null!=n&&h(t,["operationName"],n);const o=g(e,["resourceName"]);null!=o&&h(t,["_url","resourceName"],o);const r=g(e,["config"]);return null!=r&&h(t,["config"],r),t}(e);return r=m("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o}throw new Error("This method is only supported by the Vertex AI.")}}function ni(e){const t={},n=g(e,["prebuiltVoiceConfig"]);return null!=n&&h(t,["prebuiltVoiceConfig"],function(e){const t={},n=g(e,["voiceName"]);return null!=n&&h(t,["voiceName"],n),t}(n)),t}function oi(e){const t={},n=g(e,["speakerVoiceConfigs"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["speaker"]);null!=n&&h(t,["speaker"],n);const o=g(e,["voiceConfig"]);return null!=o&&h(t,["voiceConfig"],ni(o)),t}(e))),h(t,["speakerVoiceConfigs"],e)}return t}function ri(e){const t={},n=g(e,["videoMetadata"]);null!=n&&h(t,["videoMetadata"],function(e){const t={},n=g(e,["fps"]);null!=n&&h(t,["fps"],n);const o=g(e,["endOffset"]);null!=o&&h(t,["endOffset"],o);const r=g(e,["startOffset"]);return null!=r&&h(t,["startOffset"],r),t}(n));const o=g(e,["thought"]);null!=o&&h(t,["thought"],o);const r=g(e,["inlineData"]);null!=r&&h(t,["inlineData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["data"]);null!=n&&h(t,["data"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(r));const i=g(e,["fileData"]);null!=i&&h(t,["fileData"],function(e){const t={};if(void 0!==g(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);null!=n&&h(t,["fileUri"],n);const o=g(e,["mimeType"]);return null!=o&&h(t,["mimeType"],o),t}(i));const l=g(e,["thoughtSignature"]);null!=l&&h(t,["thoughtSignature"],l);const a=g(e,["functionCall"]);null!=a&&h(t,["functionCall"],function(e){const t={},n=g(e,["id"]);null!=n&&h(t,["id"],n);const o=g(e,["args"]);null!=o&&h(t,["args"],o);const r=g(e,["name"]);return null!=r&&h(t,["name"],r),t}(a));const s=g(e,["codeExecutionResult"]);null!=s&&h(t,["codeExecutionResult"],s);const u=g(e,["executableCode"]);null!=u&&h(t,["executableCode"],u);const c=g(e,["functionResponse"]);null!=c&&h(t,["functionResponse"],c);const d=g(e,["text"]);return null!=d&&h(t,["text"],d),t}function ii(e){const t={},n=g(e,["timeRangeFilter"]);if(null!=n&&h(t,["timeRangeFilter"],function(e){const t={},n=g(e,["startTime"]);null!=n&&h(t,["startTime"],n);const o=g(e,["endTime"]);return null!=o&&h(t,["endTime"],o),t}(n)),void 0!==g(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");return t}function li(e){const t={},n=g(e,["dynamicRetrievalConfig"]);return null!=n&&h(t,["dynamicRetrievalConfig"],function(e){const t={},n=g(e,["mode"]);null!=n&&h(t,["mode"],n);const o=g(e,["dynamicThreshold"]);return null!=o&&h(t,["dynamicThreshold"],o),t}(n)),t}function ai(e){const t={},n=g(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["behavior"]);null!=n&&h(t,["behavior"],n);const o=g(e,["description"]);null!=o&&h(t,["description"],o);const r=g(e,["name"]);null!=r&&h(t,["name"],r);const i=g(e,["parameters"]);null!=i&&h(t,["parameters"],i);const l=g(e,["parametersJsonSchema"]);null!=l&&h(t,["parametersJsonSchema"],l);const a=g(e,["response"]);null!=a&&h(t,["response"],a);const s=g(e,["responseJsonSchema"]);return null!=s&&h(t,["responseJsonSchema"],s),t}(e))),h(t,["functionDeclarations"],e)}if(void 0!==g(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=g(e,["googleSearch"]);null!=o&&h(t,["googleSearch"],ii(o));const r=g(e,["googleSearchRetrieval"]);if(null!=r&&h(t,["googleSearchRetrieval"],li(r)),void 0!==g(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==g(e,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=g(e,["urlContext"])&&h(t,["urlContext"],{});const i=g(e,["computerUse"]);null!=i&&h(t,["computerUse"],function(e){const t={},n=g(e,["environment"]);return null!=n&&h(t,["environment"],n),t}(i));const l=g(e,["codeExecution"]);return null!=l&&h(t,["codeExecution"],l),t}function si(e){const t={},n=g(e,["automaticActivityDetection"]);null!=n&&h(t,["automaticActivityDetection"],function(e){const t={},n=g(e,["disabled"]);null!=n&&h(t,["disabled"],n);const o=g(e,["startOfSpeechSensitivity"]);null!=o&&h(t,["startOfSpeechSensitivity"],o);const r=g(e,["endOfSpeechSensitivity"]);null!=r&&h(t,["endOfSpeechSensitivity"],r);const i=g(e,["prefixPaddingMs"]);null!=i&&h(t,["prefixPaddingMs"],i);const l=g(e,["silenceDurationMs"]);return null!=l&&h(t,["silenceDurationMs"],l),t}(n));const o=g(e,["activityHandling"]);null!=o&&h(t,["activityHandling"],o);const r=g(e,["turnCoverage"]);return null!=r&&h(t,["turnCoverage"],r),t}function ui(e){const t={},n=g(e,["triggerTokens"]);null!=n&&h(t,["triggerTokens"],n);const o=g(e,["slidingWindow"]);return null!=o&&h(t,["slidingWindow"],function(e){const t={},n=g(e,["targetTokens"]);return null!=n&&h(t,["targetTokens"],n),t}(o)),t}function ci(e,t){const n=g(e,["generationConfig"]);void 0!==t&&null!=n&&h(t,["setup","generationConfig"],n);const o=g(e,["responseModalities"]);void 0!==t&&null!=o&&h(t,["setup","generationConfig","responseModalities"],o);const r=g(e,["temperature"]);void 0!==t&&null!=r&&h(t,["setup","generationConfig","temperature"],r);const i=g(e,["topP"]);void 0!==t&&null!=i&&h(t,["setup","generationConfig","topP"],i);const l=g(e,["topK"]);void 0!==t&&null!=l&&h(t,["setup","generationConfig","topK"],l);const a=g(e,["maxOutputTokens"]);void 0!==t&&null!=a&&h(t,["setup","generationConfig","maxOutputTokens"],a);const s=g(e,["mediaResolution"]);void 0!==t&&null!=s&&h(t,["setup","generationConfig","mediaResolution"],s);const u=g(e,["seed"]);void 0!==t&&null!=u&&h(t,["setup","generationConfig","seed"],u);const c=g(e,["speechConfig"]);void 0!==t&&null!=c&&h(t,["setup","generationConfig","speechConfig"],function(e){const t={},n=g(e,["voiceConfig"]);null!=n&&h(t,["voiceConfig"],ni(n));const o=g(e,["multiSpeakerVoiceConfig"]);null!=o&&h(t,["multiSpeakerVoiceConfig"],oi(o));const r=g(e,["languageCode"]);return null!=r&&h(t,["languageCode"],r),t}(nt(c)));const d=g(e,["enableAffectiveDialog"]);void 0!==t&&null!=d&&h(t,["setup","generationConfig","enableAffectiveDialog"],d);const f=g(e,["systemInstruction"]);void 0!==t&&null!=f&&h(t,["setup","systemInstruction"],function(e){const t={},n=g(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>ri(e))),h(t,["parts"],e)}const o=g(e,["role"]);return null!=o&&h(t,["role"],o),t}($e(f)));const p=g(e,["tools"]);if(void 0!==t&&null!=p){let e=rt(p);Array.isArray(e)&&(e=e.map(e=>ai(ot(e)))),h(t,["setup","tools"],e)}const m=g(e,["sessionResumption"]);void 0!==t&&null!=m&&h(t,["setup","sessionResumption"],function(e){const t={},n=g(e,["handle"]);if(null!=n&&h(t,["handle"],n),void 0!==g(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const y=g(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&h(t,["setup","inputAudioTranscription"],{});const v=g(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&h(t,["setup","outputAudioTranscription"],{});const b=g(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&h(t,["setup","realtimeInputConfig"],si(b));const S=g(e,["contextWindowCompression"]);void 0!==t&&null!=S&&h(t,["setup","contextWindowCompression"],ui(S));const E=g(e,["proactivity"]);return void 0!==t&&null!=E&&h(t,["setup","proactivity"],function(e){const t={},n=g(e,["proactiveAudio"]);return null!=n&&h(t,["proactiveAudio"],n),t}(E)),{}}function di(e,t,n){const o=g(t,["expireTime"]);void 0!==n&&null!=o&&h(n,["expireTime"],o);const r=g(t,["newSessionExpireTime"]);void 0!==n&&null!=r&&h(n,["newSessionExpireTime"],r);const i=g(t,["uses"]);void 0!==n&&null!=i&&h(n,["uses"],i);const l=g(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&h(n,["bidiGenerateContentSetup"],function(e,t){const n={},o=g(t,["model"]);null!=o&&h(n,["setup","model"],Fe(e,o));const r=g(t,["config"]);return null!=r&&h(n,["config"],ci(r,n)),n}(e,l));const a=g(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&h(n,["fieldMask"],a),{}}function fi(e,t){let n=null;const o=e.bidiGenerateContentSetup;if("object"===typeof o&&null!==o&&"setup"in o){const t=o.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==o&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(n){const o=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const o=e[n];if("object"===typeof o&&null!=o&&Object.keys(o).length>0){const e=Object.keys(o).map(e=>"".concat(n,".").concat(e));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))o?e.fieldMask=o:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==r&&Array.isArray(r)&&r.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];r.length>0&&(n=r.map(e=>t.includes(e)?"generationConfig.".concat(e):e));const i=[];o&&i.push(o),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==r&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class pi extends p{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},o=g(t,["config"]);return null!=o&&h(n,["config"],di(e,o,n)),n}(this.apiClient,e);r=m("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=fi(l,e.config);return o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>function(e){const t={},n=g(e,["name"]);return null!=n&&h(t,["name"],n),t}(e))}}}function mi(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&h(t,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==t&&null!=r&&h(t,["_query","filter"],r),{}}(n,t)),t}function hi(e){const t={};if(void 0!==g(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==g(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=g(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["textInput"]);null!=n&&h(t,["textInput"],n);const o=g(e,["output"]);return null!=o&&h(t,["output"],o),t}(e))),h(t,["examples","examples"],e)}return t}function gi(e){const t={},n=g(e,["baseModel"]);null!=n&&h(t,["baseModel"],n);const o=g(e,["preTunedModel"]);null!=o&&h(t,["preTunedModel"],o);const r=g(e,["trainingDataset"]);null!=r&&h(t,["tuningTask","trainingData"],hi(r));const i=g(e,["config"]);return null!=i&&h(t,["config"],function(e,t){const n={};if(void 0!==g(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=g(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=o&&h(t,["displayName"],o),void 0!==g(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=g(e,["epochCount"]);void 0!==t&&null!=r&&h(t,["tuningTask","hyperparameters","epochCount"],r);const i=g(e,["learningRateMultiplier"]);if(null!=i&&h(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),void 0!==g(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==g(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==g(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const l=g(e,["batchSize"]);void 0!==t&&null!=l&&h(t,["tuningTask","hyperparameters","batchSize"],l);const a=g(e,["learningRate"]);if(void 0!==t&&null!=a&&h(t,["tuningTask","hyperparameters","learningRate"],a),void 0!==g(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");return n}(i,t)),t}function yi(e){const t={},n=g(e,["config"]);return null!=n&&h(t,["config"],function(e,t){const n=g(e,["pageSize"]);void 0!==t&&null!=n&&h(t,["_query","pageSize"],n);const o=g(e,["pageToken"]);void 0!==t&&null!=o&&h(t,["_query","pageToken"],o);const r=g(e,["filter"]);return void 0!==t&&null!=r&&h(t,["_query","filter"],r),{}}(n,t)),t}function vi(e,t){const n={},o=g(e,["validationDataset"]);void 0!==t&&null!=o&&h(t,["supervisedTuningSpec"],function(e,t){const n={},o=g(e,["gcsUri"]);null!=o&&h(n,["validationDatasetUri"],o);const r=g(e,["vertexDatasetResource"]);return void 0!==t&&null!=r&&h(t,["supervisedTuningSpec","trainingDatasetUri"],r),n}(o,n));const r=g(e,["tunedModelDisplayName"]);void 0!==t&&null!=r&&h(t,["tunedModelDisplayName"],r);const i=g(e,["description"]);void 0!==t&&null!=i&&h(t,["description"],i);const l=g(e,["epochCount"]);void 0!==t&&null!=l&&h(t,["supervisedTuningSpec","hyperParameters","epochCount"],l);const a=g(e,["learningRateMultiplier"]);void 0!==t&&null!=a&&h(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const s=g(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=s&&h(t,["supervisedTuningSpec","exportLastCheckpointOnly"],s);const u=g(e,["preTunedModelCheckpointId"]);null!=u&&h(n,["preTunedModel","checkpointId"],u);const c=g(e,["adapterSize"]);if(void 0!==t&&null!=c&&h(t,["supervisedTuningSpec","hyperParameters","adapterSize"],c),void 0!==g(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==g(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const d=g(e,["labels"]);return void 0!==t&&null!=d&&h(t,["labels"],d),n}function bi(e){const t={},n=g(e,["baseModel"]);null!=n&&h(t,["baseModel"],n);const o=g(e,["preTunedModel"]);null!=o&&h(t,["preTunedModel"],o);const r=g(e,["trainingDataset"]);null!=r&&h(t,["supervisedTuningSpec","trainingDatasetUri"],function(e,t){const n=g(e,["gcsUri"]);void 0!==t&&null!=n&&h(t,["supervisedTuningSpec","trainingDatasetUri"],n);const o=g(e,["vertexDatasetResource"]);if(void 0!==t&&null!=o&&h(t,["supervisedTuningSpec","trainingDatasetUri"],o),void 0!==g(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(r,t));const i=g(e,["config"]);return null!=i&&h(t,["config"],vi(i,t)),t}function Si(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["state"]);null!=r&&h(t,["state"],lt(r));const i=g(e,["createTime"]);null!=i&&h(t,["createTime"],i);const l=g(e,["tuningTask","startTime"]);null!=l&&h(t,["startTime"],l);const a=g(e,["tuningTask","completeTime"]);null!=a&&h(t,["endTime"],a);const s=g(e,["updateTime"]);null!=s&&h(t,["updateTime"],s);const u=g(e,["description"]);null!=u&&h(t,["description"],u);const c=g(e,["baseModel"]);null!=c&&h(t,["baseModel"],c);const d=g(e,["_self"]);null!=d&&h(t,["tunedModel"],function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["model"],n);const o=g(e,["name"]);return null!=o&&h(t,["endpoint"],o),t}(d));const f=g(e,["customBaseModel"]);null!=f&&h(t,["customBaseModel"],f);const p=g(e,["experiment"]);null!=p&&h(t,["experiment"],p);const m=g(e,["labels"]);null!=m&&h(t,["labels"],m);const y=g(e,["outputUri"]);null!=y&&h(t,["outputUri"],y);const v=g(e,["pipelineJob"]);null!=v&&h(t,["pipelineJob"],v);const b=g(e,["serviceAccount"]);null!=b&&h(t,["serviceAccount"],b);const S=g(e,["tunedModelDisplayName"]);return null!=S&&h(t,["tunedModelDisplayName"],S),t}function Ei(e){const t={},n=g(e,["model"]);null!=n&&h(t,["model"],n);const o=g(e,["endpoint"]);null!=o&&h(t,["endpoint"],o);const r=g(e,["checkpoints"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=g(e,["checkpointId"]);null!=n&&h(t,["checkpointId"],n);const o=g(e,["epoch"]);null!=o&&h(t,["epoch"],o);const r=g(e,["step"]);null!=r&&h(t,["step"],r);const i=g(e,["endpoint"]);return null!=i&&h(t,["endpoint"],i),t}(e))),h(t,["checkpoints"],e)}return t}function Ci(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["state"]);null!=r&&h(t,["state"],lt(r));const i=g(e,["createTime"]);null!=i&&h(t,["createTime"],i);const l=g(e,["startTime"]);null!=l&&h(t,["startTime"],l);const a=g(e,["endTime"]);null!=a&&h(t,["endTime"],a);const s=g(e,["updateTime"]);null!=s&&h(t,["updateTime"],s);const u=g(e,["error"]);null!=u&&h(t,["error"],u);const c=g(e,["description"]);null!=c&&h(t,["description"],c);const d=g(e,["baseModel"]);null!=d&&h(t,["baseModel"],d);const f=g(e,["tunedModel"]);null!=f&&h(t,["tunedModel"],Ei(f));const p=g(e,["preTunedModel"]);null!=p&&h(t,["preTunedModel"],p);const m=g(e,["supervisedTuningSpec"]);null!=m&&h(t,["supervisedTuningSpec"],m);const y=g(e,["tuningDataStats"]);null!=y&&h(t,["tuningDataStats"],y);const v=g(e,["encryptionSpec"]);null!=v&&h(t,["encryptionSpec"],v);const b=g(e,["partnerModelTuningSpec"]);null!=b&&h(t,["partnerModelTuningSpec"],b);const S=g(e,["customBaseModel"]);null!=S&&h(t,["customBaseModel"],S);const E=g(e,["experiment"]);null!=E&&h(t,["experiment"],E);const C=g(e,["labels"]);null!=C&&h(t,["labels"],C);const T=g(e,["outputUri"]);null!=T&&h(t,["outputUri"],T);const w=g(e,["pipelineJob"]);null!=w&&h(t,["pipelineJob"],w);const _=g(e,["serviceAccount"]);null!=_&&h(t,["serviceAccount"],_);const O=g(e,["tunedModelDisplayName"]);return null!=O&&h(t,["tunedModelDisplayName"],O),t}class Ti extends p{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bt(ge.PAGED_ITEM_TUNING_JOBS,e=>t.listInternal(e),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const t={tunedModelName:e.baseModel},n=Object.assign(Object.assign({},e),{preTunedModel:t});return n.baseModel=void 0,await this.tuneInternal(n)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let o="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?o=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(o=n.name.split("/operations/")[0]);return{name:o,state:F.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return l=m("{name}",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Ci(e))}{const t=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);return l=m("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>Si(e))}}async listInternal(e){var t,n,o,r;let i,l="",a={};if(this.apiClient.isVertexAI()){const o=yi(e);return l=m("tuningJobs",o._url),a=o._query,delete o.config,delete o._url,delete o._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["tuningJobs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ci(e))),h(t,["tuningJobs"],e)}return t}(e),n=new Pe;return Object.assign(n,t),n})}{const t=mi(e);return l=m("tunedModels",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["nextPageToken"]);null!=o&&h(t,["nextPageToken"],o);const r=g(e,["tunedModels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Si(e))),h(t,["tuningJobs"],e)}return t}(e),n=new Pe;return Object.assign(n,t),n})}}async cancel(e){var t,n,o,r;let i="",l={};if(this.apiClient.isVertexAI()){const o=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);i=m("{name}:cancel",o._url),l=o._query,delete o.config,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(o),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e){const t={},n=g(e,["name"]);null!=n&&h(t,["_url","name"],n);const o=g(e,["config"]);return null!=o&&h(t,["config"],o),t}(e);i=m("{name}:cancel",t._url),l=t._query,delete t.config,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(o=e.config)||void 0===o?void 0:o.httpOptions,abortSignal:null===(r=e.config)||void 0===r?void 0:r.abortSignal})}}async tuneInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI()){const l=bi(e);return r=m("tuningJobs",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>Ci(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let o,r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=gi(e);return r=m("tunedModels",l._url),i=l._query,delete l.config,delete l._url,delete l._query,o=this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=g(e,["sdkHttpResponse"]);null!=n&&h(t,["sdkHttpResponse"],n);const o=g(e,["name"]);null!=o&&h(t,["name"],o);const r=g(e,["metadata"]);null!=r&&h(t,["metadata"],r);const i=g(e,["done"]);null!=i&&h(t,["done"],i);const l=g(e,["error"]);return null!=l&&h(t,["error"],l),t}(e))}}}class wi{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _i="x-goog-upload-status";function Oi(e){return new Promise(t=>setTimeout(t,e))}class Ai{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var o,r,i;let l=0,a=0,s=new ye(new Response),u="upload";for(l=e.size;a<l;){const i=Math.min(8388608,l-a),c=e.slice(a,a+i);a+i>=l&&(u+=", finalize");let d=0,f=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(i)}}}),!(null===(o=null===s||void 0===s?void 0:s.headers)||void 0===o?void 0:o[_i]));)d++,await Oi(f),f*=2;if(a+=i,"active"!==(null===(r=null===s||void 0===s?void 0:s.headers)||void 0===r?void 0:r[_i]))break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===s||void 0===s?void 0:s.json());if("final"!==(null===(i=null===s||void 0===s?void 0:s.headers)||void 0===i?void 0:i[_i]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class ki{create(e,t,n){return new Ii(e,t,n)}}class Ii{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Pi="x-goog-api-key";class Ni{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(Pi)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Pi,this.apiKey)}}}const Ri="0.1.2d";var xi=n(579);const Mi=new class{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=f(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const o=new Ni(this.apiKey);this.apiClient=new qr({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Ai,downloader:new wi}),this.models=new ei(this.apiClient),this.live=new Yr(this.apiClient,o,new ki),this.batches=new Jt(this.apiClient),this.chats=new _n(this.models,this.apiClient),this.caches=new yn(this.apiClient),this.files=new Nn(this.apiClient),this.operations=new ti(this.apiClient),this.authTokens=new pi(this.apiClient),this.tunings=new Ti(this.apiClient)}}("AIzaSyB-yqkHhnY201EBFpmzamtmzwjVsT2VZ1k").getGenerativeModel({model:"gemini-2.5-flash-lite"});const Di={container:{position:"relative",width:"100vw",height:"100vh",backgroundColor:"#000"},webcam:{width:"100%",height:"100%",objectFit:"cover"},overlayContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:"20px"},feedbackBox:{backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:"10px",padding:"10px 15px",maxWidth:"90%",marginTop:"20px"},feedbackText:{color:"white",fontSize:"16px",margin:0},bottomControls:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",paddingBottom:"30px"},captureButton:{width:"100px",height:"100px",borderRadius:"50%",border:"4px solid white",backgroundColor:"rgba(255, 255, 255, 0.3)",cursor:"pointer",fontSize:"18px",color:"white",fontWeight:"bold",display:"flex",justifyContent:"center",alignItems:"center"},disabledButton:{opacity:.6,cursor:"not-allowed"},versionNumber:{position:"absolute",bottom:"5px",right:"10px",color:"rgba(255, 255, 255, 0.5)",fontSize:"12px",fontFamily:"monospace"}},Ui=function(){const t=(0,e.useRef)(null),[n,o]=(0,e.useState)("\u8bf7\u5c06\u955c\u5934\u5bf9\u51c6\u62cd\u6444\u5bf9\u8c61\uff0c\u7136\u540e\u70b9\u51fb\u201c\u83b7\u53d6\u5efa\u8bae\u201d"),[r,i]=(0,e.useState)(!1),l=(0,e.useCallback)(async()=>{if(r)return;const e=t.current.getScreenshot();if(e){(e=>{if(!e)return;const t=document.createElement("a");t.href=e,t.download="photo-coach-".concat((new Date).getTime(),".jpeg"),document.body.appendChild(t),t.click(),document.body.removeChild(t)})(e),i(!0),o("\u6b63\u5728\u5206\u6790\u56fe\u7247...");try{const t=(n="image/jpeg",{inlineData:{data:e.split(",")[1],mimeType:n}}),r=await Mi.generateContent(["You are a camera assistant. For the given photo, do the following:\n Step 1: Classify the user's photo intent. Choose ONE or TWO intents from this list: [Portrait, Social, Food, Landscape, Architecture, Object].\n Step 2: Identify ONE or TWO short issues in the photo composition, focusing on subject placement, balance, clutter, or perspective.\n Step 3: Suggest ONE or TWO concrete camera adjustments only from this list: [Pan left, Pan right, Tilt up, Tilt down, Zoom in, Zoom out, Shift left, Shift right, Shift up, Shift down, Move forward, Move backward].\n Format as:\n Intent: [Option] or [Option1, Option2]. Do NOT explain. Do NOT add extra text.\n Diagnosis: [Issue] or [Issue1, Issue2]. Keep them concise, like bullet points.\n Adjustment: [Adjustment] or [Adjustment1, Adjustment2]. Always choose one clear option or a valid non-contradictory combination.",t]),i=await r.response;o(i.text())}catch(l){console.error("\u3010AI\u5206\u6790\u5931\u8d25\u3011\u8be6\u7ec6\u9519\u8bef\u4fe1\u606f:",l);let e="\u8c03\u8bd5\u4fe1\u606f\uff1a\n";l instanceof Error?(e+="\u9519\u8bef\u7c7b\u578b: ".concat(l.name,"\n"),e+="\u9519\u8bef\u4fe1\u606f: ".concat(l.message,"\n"),l.stack&&(e+="\u5806\u6808\u8ddf\u8e2a: ".concat(l.stack.substring(0,200),"..."))):e+="\u6355\u83b7\u5230\u975e\u6807\u51c6\u9519\u8bef: ".concat(String(l)),o(e)}finally{i(!1)}var n}else o("\u65e0\u6cd5\u6355\u83b7\u56fe\u50cf\uff0c\u8bf7\u91cd\u8bd5\u3002")},[r]);return(0,xi.jsxs)("div",{style:Di.container,children:[(0,xi.jsx)(u(),{audio:!1,ref:t,screenshotFormat:"image/jpeg",style:Di.webcam,videoConstraints:{facingMode:"environment"}}),(0,xi.jsxs)("div",{style:Di.overlayContainer,children:[(0,xi.jsx)("div",{style:Di.feedbackBox,children:(0,xi.jsx)("p",{style:Di.feedbackText,children:n})}),(0,xi.jsx)("div",{style:Di.bottomControls,children:(0,xi.jsx)("button",{onClick:l,disabled:r,style:r?a(a({},Di.captureButton),Di.disabledButton):Di.captureButton,children:r?"...":"\u83b7\u53d6\u5efa\u8bae\u5e76\u4fdd\u5b58"})})]}),(0,xi.jsxs)("div",{style:Di.versionNumber,children:["v",Ri]})]})};const Li=function(){return(0,xi.jsx)("div",{className:"App",children:(0,xi.jsx)(Ui,{})})},qi=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fi(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}t.createRoot(document.getElementById("root")).render((0,xi.jsx)(e.StrictMode,{children:(0,xi.jsx)(Li,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/ai-camera-coach-web",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/ai-camera-coach-web","/service-worker.js");qi?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(n=>{const o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Fi(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):Fi(t,e)})}}()})()})();
//# sourceMappingURL=main.7379c833.js.map